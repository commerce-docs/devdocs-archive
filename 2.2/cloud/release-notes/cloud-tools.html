<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Release notes for ece-tools | Archived Magento 2.2 Developer Documentation</title>
	<meta name="description" content="Archived Magento 2 Developer Documentation.">

	<link rel="stylesheet" href="/devdocs-archive/2.2/assets/css/app.css?ver=7" />
	<link rel="stylesheet" href="/devdocs-archive/2.2/assets/css/print.css?ver=7" media="print"/>

	<link rel="stylesheet" href="/devdocs-archive/2.2/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />



<meta name="google-site-verification" content="3WFsoYwBe6UuxDwgs7bmd7t0YFQVzDpLpWLjNh0CUp8" />

	<script>
  var baseUrl = "/devdocs-archive/2.2";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c",
  };

  var indices = [
    {
      label: "DevDocs",
      name: "devdocs",
      facetFilters: [["guide_version: 2.2", "versionless: true"]],
      refinements: [
        {
          label: "Functional areas",
          attribute: "functional_areas"
        }
      ],
      baseUrl: "https://devdocs.magento.com"
    },
    {
      label: "User Guide",
      name: "merchdocs_ee",
      baseUrl: "https://docs.magento.com/m2/ee/user_guide"
    },
    {
      label: "MBI User Guide",
      name: "merchdocs-mbi",
      baseUrl: "https://docs.magento.com/mbi"
    },
    {
      label: "Marketplace User Guide",
      name: "merchdocs-marketplace",
      baseUrl: "https://docs.magento.com/marketplace/user_guide"
    },
    {
      label: "PWA",
      name: "pwa-devdocs",
      baseUrl: "https://magento.github.io/pwa-studio"
    },
    {
      label: "Order Management",
      name: "oms-en",
      baseUrl: "https://omsdocs.magento.com"
    }
  ];
</script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">


	<header class="site-header">
		

<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" href="/devdocs-archive/2.2/">
      <img src="/devdocs-archive/2.2/assets/i/m-logo.svg" alt=""><img src="/devdocs-archive/2.2/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      



      <!-- Main Navigation --><ul class="nav-main" role="menubar"><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Cloud</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Cloud basics</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/bk-cloud.html">Cloud Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/architecture/cloud-architecture.html">Cloud Architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-upgrade-parent.html">Upgrades and Patches</a></li><li class="active" role="menuitem"><a href="/devdocs-archive/2.2/cloud/release-notes/cloud-tools.html">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Cloud development</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/setup/first-time-setup.html">Local development</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-config.html">Launch Docker</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-quick-reference.html">Docker quick reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/environments.html">Configure Environments</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/install-gde/bk-install-guide.html">Installation Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/extensions/">Magento Extensions Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/comp-mgr/bk-compman-upgrade-guide.html">Software Update Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/bk-config-guide.html">Configuration Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/performance-best-practices/introduction.html">Performance Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/migration/bk-migration-guide.html">Migration Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/bk-release-notes.html">Release Information</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/reference/cli/magento.html">Command-line Tools Reference</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Backend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/architecture/bk-architecture.html">Architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/mrg/intro.html">Module Reference Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/coding-standards/bk-coding-standards.html">Coding Standards</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/contributor-guide/contributing.html">Contributor Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Frontend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">API</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/rest/bk-rest.html">REST API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/soap/bk-soap.html">SOAP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/marketplace/eqp/v1/api.html">Marketplace EQP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/mbi/docs/getting-started.html">Business Intelligence API</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/testing.html">Magento Testing Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/mftf/docs/introduction.html">Functional Acceptance Testing (MFTF)</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/mtf/mtf_introduction.html">Functional Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/integration/integration_test_execution.html">Integration Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/js/jasmine.html">JavaScript Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/unit/unit_test_execution.html">PHP Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/advanced-reporting/overview.html">Advanced Reporting</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/b2b/bk-b2b.html">B2B</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/howdoi/checkout/checkout_overview.html">Checkout</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/compliance/industry-compliance.html">Compliance</a></li><li class="" role="menuitem"><a href="http://omsdocs.magento.com/en/">Order Management</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/payments-integrations/bk-payments-integrations.html">Payment Integrations</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/extension-dev-guide/staging.html">Staging</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/rest/tutorials/index.html">Rest Tutorials</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/howdoi/customize_product.html">Customize Product Creation Form</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/howdoi/checkout/checkout_overview.html">Customize Checkout</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/community/resources/support.html">Magento Support</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/videos/">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="nav-actions">
      
<div class="app-switcher">
  <div class="dropdown">
    <button id="app-switcher-trigger" class="app-switcher-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Documentation sites"></button>
    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="app-switcher-trigger" role="menu">
      <div class="app-switcher-content">
      
      <div class="app-switcher-group">
        <h3 class="app-swither-group-title">Developer</h3>
        
        <li role="menuitem"><a class="dropdown-item" href="https://devdocs.magento.com/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce Developer Documentation">Commerce Developer Documentation</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="http://pwastudio.io/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=PWA Studio">PWA Studio</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://omsdocs.magento.com/en/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
      </div>
      
      <div class="app-switcher-group">
        <h3 class="app-swither-group-title">Merchant</h3>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/m2/ee/user_guide/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce User Guide">Commerce User Guide</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://omsdocs.magento.com/en/userguides/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/mbi/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Business Intelligence">Business Intelligence</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/marketplace/user_guide/getting-started.html?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Marketplace">Marketplace</a></li>
        
      </div>
      
      </div>
    </ul>
  </div>
</div>


      <div class="search-btn">
        <button class="search-trigger search-icon" aria-label="Search"></button>
      </div>

      <form class="quick-search" action="/devdocs-archive/2.2/search.html" method="get" novalidate="novalidate">
        <input type="search" name="query" placeholder="Search" />
        <button class="quick-search-close" aria-label="Close Search">&times;</button>
      </form>

    </div>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>

	</header>

	<div class="global-wrapper">
		
		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Magento Commerce Cloud</h4>
		<div class="collapsible-navigation">
		    <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/bk-cloud.html">Overview</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/onboarding/onboarding-tasks.html">Onboarding tasks</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/architecture/cloud-architecture.html">Architecture</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/basic-information/starter-architecture.html">Starter architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/basic-information/starter-develop-deploy-workflow.html">Starter develop and deploy workflow</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/architecture/pro-architecture.html">Pro architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/architecture/pro-develop-deploy-workflow.html">Pro develop and deploy workflow</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/architecture/scaled-architecture.html">Scaled architecture</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/requirements/cloud-requirements.html">Technologies and requirements</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/reference/cloud-composer.html">Composer</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/reference/cli-ref-topic.html">Magento Cloud CLI</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/reference/ece-tools-reference.html">ece-tools package</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/reference/git-integration.html">Git</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/environments-ssh.html">SSH and sFTP</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/new-relic.html">New Relic</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-integrate-blackfire.html">Blackfire.io</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/sendgrid.html">SendGrid</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/setup/first-time-setup.html">Local development setup</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/before/before-workspace.html">Prepare for manual setup</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/before/before-workspace-magento-prereqs.html">Install Magento prerequisites</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/before/before-workspace-ssh.html">Enable SSH keys</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/before/before-workspace-file-sys-owner.html">Set up the Magento file system owner</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/before/before-setup-env-2_clone.html">Clone and branch the project</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/before/before-setup-env-install.html">Install Magento</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/setup/first-time-deploy.html">First time deployment</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/howtos/debug.html">Optional - Configure Xdebug</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/howtos/sample-data.html">Optional - Install sample data</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-development.html">Docker development</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-config.html">Launch Docker</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-development-debug.html">Configure Xdebug for Docker</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-database.html">Connect to the database</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-development-testing.html">Functional testing in Docker</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-quick-reference.html">Docker quick reference</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/integrations/cloud-integrations.html">Integrations</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/integrations/bitbucket-integration.html">Bitbucket integration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/integrations/github-integration.html">GitHub integration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/integrations/health-notifications.html">Health notifications</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/setup/first-time-setup-import-first-steps.html">Import existing code into a project</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/setup/first-time-setup-import-prepare.html">Prepare your existing Magento Commerce system</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/setup/first-time-setup-import-import.html">Import Magento Commerce code</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/configure/configuration-overview.html">Configure your store</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/configure/configure-best-practices.html">Best practices for store configuration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/live/paypal-onboarding.html">Set up PayPal</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/configure/setup-b2b.html">Set up Magento B2B</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/configure/setup-cron-jobs.html">Set up cron jobs</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-multi-sites.html">Set up multiple Cloud websites or stores</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/howtos/install-components.html">Install, manage, and upgrade modules</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/howtos/custom-theme.html">Install a theme</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/configure/import-url-rewrites.html">Import URL Rewrites</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/cdn/cloud-fastly.html">Configure Fastly services</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/cdn/configure-fastly.html">Set up Fastly</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/cdn/cloud-fastly-custom-response.html">Customize error and maintenance pages</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/cdn/fastly-waf-service.html">Web Application Firewall</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/cdn/fastly-image-optimization.html">Image Optimization</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/cdn/cloud-vcl-custom-snippets.html">Custom VCL snippets</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/cdn/fastly-vcl-wordpress.html">Reroute requests to a CMS backend</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/cdn/fastly-vcl-badreferer.html">Block referral spam</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/cdn/fastly-vcl-whitelist.html">Secure access to the Magento Admin UI</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/cdn/fastly-vcl-blocking.html">Custom VCL for blocking</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/cdn/trouble-fastly.html">Fastly troubleshooting</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/environments.html">Configure environments</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-conf-files_magento-app.html">Application</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/set-cache.html">Set cache for static files</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/magento-env-yaml.html">Build and deploy</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/setup-notifications.html">Set up notifications</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/log-handlers.html">Logging handlers</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/variables-intro.html">Environment variables</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/environment-vars_magento.html">ADMIN variables</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/variables-global.html">Global variables</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/variables-build.html">Build variables</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/variables-cloud.html">Cloud variables</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html">Deploy variables</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/variables-post-deploy.html">Post-deploy variables</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/working-with-variables.html">Working with variables</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-conf-files_routes.html">Routes</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-routes-more-cache.html">Caching</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-routes-more-redir.html">Redirects</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-routes-more-ssi.html">Server side includes</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-conf-files_services.html">Services</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-conf-files_services-mysql.html">Set up MySQL service</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-conf-files_services-redis.html">Set up Redis service</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-conf-files_services-elastic.html">Set up Elasticsearch service</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-conf-files_services-rabbit.html">Set up RabbitMQ service</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/restore-environment.html">Restore an environment</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/live/sens-data-over.html">Configuration management for store settings</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/live/sens-data-initial.html">Example of managing system-specific settings</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/projects.html">Manage your project</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-webint-basic.html">Configure your project</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-start.html">Project structure</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/log-locations.html">Log locations</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/user-admin.html">Create and manage users</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-webint-branch.html">Manage branches with the Interface</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/environments-start.html">Manage branches with the CLI</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/profile-database-queries.html">Profile database queries</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/manage-disk-space.html">Manage disk space</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/monitor-performance.html">Monitor performance</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-webint-snap.html">Snapshots and backup management</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/deploy/optimize-cloud-deployment.html">Optimize deployment</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/deploy/cloud-deployment-process.html">Cloud deployment process</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/deploy/reduce-downtime.html">Zero downtime deployment</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/deploy/static-content-deployment.html">Static content deployment</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/deploy/smart-wizards.html">Smart wizards</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/live/stage-prod-live.html">Deploy your store</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/reference/discover-deploy.html">Deployment process</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/deploy/continuous-deployment.html">Continuous deployment</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/live/live-prot.html">Protective block</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/live/live-sanity-check.html">Build and deploy on local</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/live/stage-prod-migrate-prereq.html">Prepare to deploy to Staging and Production</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/live/stage-prod-migrate.html">Deploy code and migrate static files and data</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/live/stage-prod-test.html">Test deployment</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/live/live.html">Go live and launch</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/live/go-live-checklist.html">Go live checklist</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/live/launch-steps.html">Launch steps</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/trouble.html">Troubleshooting</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/troubleshoot-deployment.html">Troubleshoot deployment</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/trouble_ce-creds.html">Incorrect credentials</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/trouble_proj-startover.html">Resolve issues with a new project</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/trouble_comp-deploy-fail.html">Component deployment failure</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/reset-cron-jobs.html">Reset cron jobs</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/trouble-crypt-key-variable.html">Resolve issues with encryption key</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/trouble-error-html-minification.html">Resolve issues with HTML minification</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/trouble-google-analytics-deploy.html">Resolve issues with Google Analytics during deployment</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/restore-configuration-files.html">Restore configuration files</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/site-availability.html">Site availability</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/robots-sitemap.html">Add site map and search engine robots</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/trouble/theme-troubleshooting.html">Theme troubleshooting</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-upgrade-parent.html">Upgrades and patches</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/ece-tools-upgrade-project.html">Upgrade to use ece-tools</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/ece-tools-update.html">Update ece-tools version</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-patch.html">Apply custom patches</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-upgrade.html">Upgrade Magento version</a></li></ul></li><li class="active" role="menuitem"><a href="/devdocs-archive/2.2/cloud/release-notes/cloud-tools.html">Release notes</a></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">








<h1 class="page-heading">Release notes for ece-tools</h1>
</section>

			<p>The following updates describe the latest improvements to the <code class="language-plaintext highlighter-rouge">ece-tools</code> package, which uses the following version sequence: <code class="language-plaintext highlighter-rouge">200&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</code>. See <a href="/devdocs-archive/2.2/cloud/project/project-upgrade-parent.html">Upgrades and patches</a> for information about updating to the latest release of the <code class="language-plaintext highlighter-rouge">ece-tools</code> package.</p>

<p>The release notes include:</p>

<ul>
  <li class="new">New features</li>
  <li class="fix">Fixes and improvements</li>
</ul>

<h2 id="v2002022">v2002.0.22</h2>

<p>The <code class="language-plaintext highlighter-rouge">ece-tools</code> 2002.0.22 release changes the structure of the <code class="language-plaintext highlighter-rouge">ece-tools</code> package to decouple the release of <code class="language-plaintext highlighter-rouge">Magento Commerce Cloud</code> patches from the ece-tools release. Starting with this release, patches and critical fixes will be delivered using the <a href="https://github.com/magento/magento-cloud-patches"><code class="language-plaintext highlighter-rouge">magento/magento-cloud-patches</code></a> package, which is a new dependency for the <code class="language-plaintext highlighter-rouge">ece-tools</code> package. We made these changes to reduce complexity for scheduling release updates and working with community contributions.</p>

<ul>
  <li class="new">
    <p><strong>Changes to the ece-tools package</strong></p>

    <ul>
      <li class="new">
        <p>Moved the Magento Commerce patches from the <code class="language-plaintext highlighter-rouge">ece-tools</code> package to a new <a href="https://github.com/magento/magento-cloud-patches"><code class="language-plaintext highlighter-rouge">magento/magento-cloud-patches</code></a> composer package.</p>
      </li>
      <li class="new">
        <p>Updated the <code class="language-plaintext highlighter-rouge">composer.json</code> file for the <code class="language-plaintext highlighter-rouge">ece-tools</code> package to add a dependency for the <code class="language-plaintext highlighter-rouge">magento/magento-cloud-patches</code> v1.0.0 package.</p>
      </li>
      <li class="fix">
        <!--MAGECLOUD-4661-->
        <p>Fixed an issue that caused the <code class="language-plaintext highlighter-rouge">ece-tools</code> patching process to break when applying patch sets on top of security-only releases, starting with Magento version 2.3.2-p2 and later. This issue was introduced by the new versioning scheme adopted for <a href="https://devdocs.magento.com/guides/v2.3/release-notes/bk-release-notes.html#security-only-patches">security-only patches</a>.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <p><strong>Patches and critical fixes</strong>–Update your Cloud environments with <code class="language-plaintext highlighter-rouge">ece-tools</code> version 2002.0.22 to apply the following patches and critical fixes. These patches are included in the <code class="language-plaintext highlighter-rouge">magento/magento-cloud-patches</code> v1.0.0 package.</p>

    <ul>
      <li class="fix">
        <!--MAGECLOUD-4649-->
        <p><strong>Page Builder security patches for 2.3.1.x and 2.3.2.x releases</strong>–Fixes an issue in Page Builder preview that allows unauthenticated users to access some templating methods that can be used to trigger arbitrary code execution over the network (RCE) resulting in global information leaks. This issue can occur when using unsupported versions of Page Builder with Magento Commerce versions 2.3.1 and 2.3.2.</p>
      </li>
      <li class="fix">
        <!--MAGECLOUD-4428-->
        <p><strong>MSI patches</strong>–Fixes issues that caused indexing errors and performance issues when using default inventory settings for managing stock.</p>
      </li>
      <li class="fix">
        <!--MAGECLOUD-4422-->
        <p><strong>Backward Compatibility of new Mail Interfaces</strong>-Fixes a backward incompatibility issue caused by the <code class="language-plaintext highlighter-rouge">Magento\Framework\Mail\EmailMessageInterface</code> PHP interface introduced in Magento Commerce v2.3.3. In the scope of this patch, the new <code class="language-plaintext highlighter-rouge">EmailMessageInterface</code> inherits from the old <code class="language-plaintext highlighter-rouge">MessageInterface</code>, and Magento Commerce core modules are reverted to depend on <code class="language-plaintext highlighter-rouge">MessageInterface</code>.</p>
      </li>
      <li class="fix">
        <!--MAGECLOUD-4448-->
        <p><strong>Catalog pagination does not work on Elasticsearch 6.x</strong>–Fixes a critical issue with search result pagination that affects customers using Elasticsearch 6.x as the catalog search engine.</p>
      </li>
    </ul>
  </li>
</ul>

<h2 id="v2002021">v2002.0.21</h2>

<ul>
  <li class="new">
    <p><strong>Docker updates</strong>—</p>

    <ul>
      <li class="new">
        <!-- MAGECLOUD-3345 -->
        <p><strong>New Docker Images</strong>—Supported by Magento versions 2.3.3 and later</p>

        <ul>
          <li>
            <!-- MAGECLOUD-4017 -->
            <p>PHP version 7.3.</p>
          </li>
          <li>
            <!-- MAGECLOUD-4017 -->
            <p>Varnish Cache 6.2.0</p>
          </li>
        </ul>
      </li>
      <li class="new">
        <!-- MAGECLOUD-3505-->
        <p>Added support to apply custom hook configuration specified in <code class="language-plaintext highlighter-rouge">.magento.app.yaml</code> in the Docker environment. Previously, the Docker environment supported only the default hook configuration.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-3816-->
        <p>Docker ENV files are no longer generated during the Docker build, and the <code class="language-plaintext highlighter-rouge">docker:config:convert</code> command is deprecated. The corresponding data is now stored in the <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> file.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-3953 -->
        <p><strong>Updated PHP image</strong>–Added Node.js to the PHP Docker image to support node, npm, and grunt-cli capabilities.</p>
      </li>
    </ul>
  </li>
  <li class="new">
    <p><strong>Environment variable updates</strong>–</p>

    <ul>
      <li class="new">
        <!-- MAGECLOUD-4052 -->
        <p>Added the <strong>LOCK_PROVIDER</strong> deploy variable to configure the lock provider which prevents the launch of duplicate cron jobs and cron groups. See the variable description in the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#lock_provider">deploy variables</a> topic.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-4071 -->
        <p>Added the <strong>CONSUMERS_WAIT_FOR_MAX_MESSAGES</strong> environment variable to configure how consumers process messages from the message queue when using the <code class="language-plaintext highlighter-rouge">CRON_CONSUMERS_RUNNER</code> environment variable to manage cron jobs. See the variable description in the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#consumers_wait_for_max_messages">deploy variables</a> topic.</p>
      </li>
      <li class="fix">
        <!-- MAGECLOUD-3913 -->
        <p>Fixed an issue that can cause database deadlock errors when the <code class="language-plaintext highlighter-rouge">consumers_runner</code> cron job starts multiple instances of the same consumer on different nodes. Now, if you have enabled the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#cron_consumers_runner"><strong>CRON_CONSUMERS_RUNNER</strong></a> deploy variable in your environment, the <code class="language-plaintext highlighter-rouge">consumers_runner</code> job uses the <code class="language-plaintext highlighter-rouge">single-thread</code> option to start one instance of each consumer on only one node.</p>
      </li>
      <li class="fix">
        <!-- MAGECLOUD-3866 -->
        <p>Fixed an issue affecting <a href="/devdocs-archive/2.2/cloud/env/variables-post-deploy.html#warm_up_pages"><strong>WARM_UP_PAGES</strong></a> functionality that uses a default store URL. Now, if the <code class="language-plaintext highlighter-rouge">config:show:default-url</code> command cannot fetch a base URL, then the URL from the MAGENTO_CLOUD_ROUTES variable is used.</p>
      </li>
    </ul>
  </li>
  <li class="new">
    <!-- MAGECLOUD-2514 -->
    <p>Updated the logging information returned by the <code class="language-plaintext highlighter-rouge">module:refresh</code> command. Now, you can see a detailed list of enabled modules in the <code class="language-plaintext highlighter-rouge">cloud.log</code> file.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-3535 -->
    <p>Improved version compatibility validation and warning notifications for compatibility issues between Magento version and installed services, such as Elasticsearch, RabbitMq, Redis, and DB.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-4018 -->
    <p>Updated interactive validations for service compatibility to reflect supported versions for the new Magento Commerce 2.3.3 and 2.2.10 releases. See <a href="/devdocs-archive/2.2/cloud/project/project-conf-files_services.html#service-versions">Service versions</a>.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3653-->
    <p>Improved the log message returned when the cron job management process in the deploy phase tries to stop a cron job that has already finished to clarify that this issue is not an error.  Changed the log level from <code class="language-plaintext highlighter-rouge">INFO</code> to <code class="language-plaintext highlighter-rouge">DEBUG</code>.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3806 -->
    <p>Fixed an issue when running the <code class="language-plaintext highlighter-rouge">setup:upgrade</code> command that did not interrupt the deployment process when a failure occurred during the <code class="language-plaintext highlighter-rouge">app:config:import</code> task.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-3871 -->
    <p>Changed the default log level for the file handler to <code class="language-plaintext highlighter-rouge">debug</code> to reduce the amount of detail in the log displayed in the Project Web Interface, while still providing detailed information for debugging.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3957 -->
    <p>Fixed an issue that caused an error with static content deployment during build. After a Magento installation and <code class="language-plaintext highlighter-rouge">ece-tools</code> config dump, an error occurred if there was no locale specified for the admin user in the <code class="language-plaintext highlighter-rouge">config.php</code> file. Now, there is a default locale for the admin user in the <code class="language-plaintext highlighter-rouge">config.php</code> file.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-4009 -->
    <p>Fixed an <code class="language-plaintext highlighter-rouge">Undefined index error</code> that occurs when a Magento Cloud CLI command fails in an environment that is not configured with a secure URL (https). Now, the ece-tools package uses the base URL (http) if the secure URL is not available.</p>
  </li>
</ul>

<h2 id="v2002020">v2002.0.20</h2>

<ul>
  <li class="new">
    <p><strong>Docker Updates</strong>—</p>

    <ul>
      <li class="new">
        <!-- MAGECLOUD-3129/3684 -->
        <p>You can now perform functional testing using the <code class="language-plaintext highlighter-rouge">ece-tools</code> package in the Docker environment. See <a href="/devdocs-archive/2.2/cloud/docker/docker-development-testing.html">Functional testing in Docker</a>.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-3357 -->
        <p>Added support for configuring PHP modules using the <code class="language-plaintext highlighter-rouge">.magento.app.yaml</code> file. Any <a href="/devdocs-archive/2.2/cloud/project/project-conf-files_magento-app.html#php-extensions">PHP Extensions specified in the <code class="language-plaintext highlighter-rouge">.magento.app.yaml</code> file</a> become available in the Docker PHP containers.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-3569 -->
        <p>There are new commands available to improve the Docker command line experience. See the <a href="/devdocs-archive/2.2/cloud/docker/docker-quick-reference.html#bindocker"><code class="language-plaintext highlighter-rouge">bin/docker</code> section of the Docker reference</a>.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-3559 -->
        <p>Added the ability to use Mutagen.io to synchronize files during development between the local host and Docker. See <a href="/devdocs-archive/2.2/cloud/docker/docker-config.html#prerequisites">Docker prerequisites</a>.</p>
      </li>
      <li class="fix">
        <!-- MAGECLOUD-3582 -->
        <p>Corrected the default path when using the Docker environment. Now, when you use SSH to log in to the Docker container, you are at the Magento root in the <code class="language-plaintext highlighter-rouge">/app</code> directory, as expected.</p>
      </li>
      <li class="fix">
        <!-- MAGECLOUD-3832 -->
        <p>Updated the Sodium library from version 1.0.11 to version 1.0.18, and updated the Sodium PHP extension.</p>

        <p class="bs-callout-warning">Magento Commerce Cloud customers must submit a support ticket to upgrade the libsodium package on Pro Production and Staging environments prior to upgrading to Magento Commerce 2.3.2. Currently, you cannot upgrade Starter environments to Magento Commerce 2.3.2.</p>
      </li>
      <li class="fix">
        <!-- MAGECLOUD-3446 -->
        <p>Added the <code class="language-plaintext highlighter-rouge">analysis-icu</code> and the <code class="language-plaintext highlighter-rouge">analysis-phonetic</code> Elasticsearch plugins to all Docker images.</p>
      </li>
      <li class="fix">
        <!-- MAGECLOUD-3486 & MAGECLOUD-3678 -->
        <p>Improved validations: When using options for the <code class="language-plaintext highlighter-rouge">docker:build</code> command, you must provide a value when using an option. Also, added validation for the Node version when using the <code class="language-plaintext highlighter-rouge">docker:build run</code> command.</p>
      </li>
    </ul>
  </li>
  <li class="new">
    <p><strong>Environment variable updates</strong>—</p>

    <ul>
      <li class="new">
        <!-- MAGECLOUD-2901 -->
        <p>Added support for database table prefixes using the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#database_configuration">DATABASE_CONFIGURATION environment variable</a>.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-3602 -->
        <p>Added the <strong>FORCE_UPDATE_URLS</strong> deploy variable to update Magento base URLs when deploying to Pro and Starter production and staging environments. See the definition in the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#force_update_urls">deploy variables</a> content.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-3643 -->
        <p>Added the <strong>TTFB_TESTED_PAGES</strong> post-deploy variable to configure <em>Time to First Byte</em>  page tests to check Magento Commerce application performance on sites deployed to Cloud infrastructure. See the variable description in <a href="/devdocs-archive/2.2/cloud/env/variables-post-deploy.html">post-deploy variables</a>.</p>
      </li>
      <li class="fix">
        <!-- MAGECLOUD-3611 -->
        <p>Fixed an issue with multi-threaded SCD, which caused random failures in static content deployment. The workaround involved setting the <strong>SCD_THREADS</strong> variable to <code class="language-plaintext highlighter-rouge">1</code>. You can now increase the count as needed. See the definitions in the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#scd_threads">deploy variables</a> and the <a href="/devdocs-archive/2.2/cloud/env/variables-build.html#scd_threads">build variables</a>.</p>
      </li>
      <li class="fix">
        <!-- MAGECLOUD-3258 -->
        <p>You can configure the <strong>WARM_UP_PAGES</strong> environment variable to cache single pages, multiple domains, and multiple pages. See the expanded definition in the <a href="/devdocs-archive/2.2/cloud/env/variables-post-deploy.html#warm_up_pages">post-deploy variables</a> content.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3545/Github#455 -->
    <p>Added the <code class="language-plaintext highlighter-rouge">pub/static/.htaccess</code> file to the exclude list. <a href="https://github.com/magento/ece-tools/pull/455">Fix submitted by Björn Kraus of PHOENIX MEDIA GmbH</a>.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3178 -->
    <p>Fixed an error when all validation messages were showing as <code class="language-plaintext highlighter-rouge">Critical</code> if at least one critical level validator returned an error.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3075 -->
    <p>Fixed an issue that caused a deployment failure if the Magento base URL did not exist in the database.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-3451 -->
    <p>Added a new <strong><code class="language-plaintext highlighter-rouge">env:config:show</code> command</strong> to the <code class="language-plaintext highlighter-rouge">ece-tools</code> package that displays environment services, routes, or variables. See <a href="/devdocs-archive/2.2/cloud/reference/ece-tools-reference.html#services-routes-and-variables">Services, routes, and variables</a>. <a href="https://github.com/magento/ece-tools/pull/486">Feature submitted by Vladimir Kerkhoff</a>.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3665 -->
    <p>Fixed an issue that caused a critical error when attempting to install Magento 2.2.6 or earlier with <code class="language-plaintext highlighter-rouge">ece-tools</code> develop after shell refactoring.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3704 -->
    <p>Fixed an issue that caused Magento 2.1.x and 2.2.x installations to fail with a warning about using a deprecated version of Carbon.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3277 -->
    <p>Decreased the <code class="language-plaintext highlighter-rouge">cloud.log</code> log level for shell output from <code class="language-plaintext highlighter-rouge">info</code> to <code class="language-plaintext highlighter-rouge">debug</code>.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3510 -->
    <p>Added the <code class="language-plaintext highlighter-rouge">--remove-definers (-d)</code> option to the <code class="language-plaintext highlighter-rouge">ece-tools db-dump</code> command to remove definers from the dump file.</p>
  </li>
</ul>

<h2 id="v2002019">v2002.0.19</h2>

<ul>
  <li class="fix">
    <!-- MAGECLOUD-3668 -->
    <p>Fixed an issue that overwrites the <code class="language-plaintext highlighter-rouge">env.php</code> file during a deploy, resulting in a loss of custom configurations.  This update ensures that Magento Commerce Cloud updates the <code class="language-plaintext highlighter-rouge">env.php</code> file with every deployment, while preserving custom configurations.</p>
  </li>
</ul>

<h2 id="v2002018">v2002.0.18</h2>

<ul>
  <li class="new">
    <p><strong>Docker Updates</strong>—</p>

    <ul>
      <li class="new">
        <!-- MAGECLOUD-3150 -->
        <p>Now, the Docker environment supports the cron configuration defined in the <a href="/devdocs-archive/2.2/cloud/project/project-conf-files_magento-app.html#crons">crons property of the .magento.app.yaml file</a>.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-2890 -->
        <p><strong>New Docker Container</strong>—Added a <a href="/devdocs-archive/2.2/cloud/docker/docker-development.html#varnish-container">TLS termination proxy container</a> to facilitate the Varnish SSL termination over HTTPS.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-3345 -->
        <p><strong>New Docker Image</strong>—Added a Node.js image to support Gulp and other capabilities, such as Jasmine JS Unit Testing.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-3152/3511 -->
        <p><strong>Docker build modes</strong>—Now you can choose to launch the Docker environment in <a href="/devdocs-archive/2.2/cloud/docker/docker-config.html#launch-modes">Production mode or Developer mode</a>. Developer mode supports active development with full, writable filesystem permissions.</p>
      </li>
      <li class="fix">
        <!-- MAGECLOUD-3369 -->
        <p>Fixed an issue that caused Docker deploy to fail with a <code class="language-plaintext highlighter-rouge">Name or service not known</code> error if the cache is configured for a service that is not available. Now, you can remove a service from the <a href="/devdocs-archive/2.2/cloud/project/project-conf-files_services.html"><code class="language-plaintext highlighter-rouge">.magento/services.yaml</code> file</a>. The Docker configuration generator updates the service in the <code class="language-plaintext highlighter-rouge">docker/config.php.dist</code> file automatically.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-3251 -->
        <p>Added interactive validations for service compatibility. Now, if a requested service is incompatible with the Magento version or other services, the <em>interactive mode</em> prompts the user with a message and a choice to continue. See the <a href="/devdocs-archive/2.2/cloud/docker/docker-config.html#service-versions">Service versions</a> available for Docker. Use the <code class="language-plaintext highlighter-rouge">-n</code> option to skip the interactivity for CICD purposes.</p>
      </li>
      <li class="fix">
        <!-- MAGECLOUD-3366 -->
        <p>Fixed an issue with the Docker compose <code class="language-plaintext highlighter-rouge">db-dump</code> command that erased existing dumps.</p>
      </li>
      <li class="fix">
        <!-- MAGECLOUD-3172 -->
        <p>Fixed an issue that assigned Redis <code class="language-plaintext highlighter-rouge">session</code>, <code class="language-plaintext highlighter-rouge">default</code>, and <code class="language-plaintext highlighter-rouge">page_cache</code> cache storage to the same database ID.</p>
      </li>
    </ul>
  </li>
  <li class="new">
    <p><strong>Environment variable updates</strong>—</p>

    <ul>
      <li class="new">
        <!-- MAGECLOUD-3205 -->
        <p>The new <strong>ELASTICSUITE_CONFIGURATION</strong> environment variable retains your customized service settings between deployments. See the definition in the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#elasticsuite_configuration">deploy variables</a> content.</p>
      </li>
      <li class="new">
        <!-- MAGECLOUD-2822 -->
        <p>Added the <strong>SCD_MAX_EXECUTION_TIMEOUT</strong> environment variable so you can increase the time to complete the static content deployment from the <code class="language-plaintext highlighter-rouge">.magento.env.yaml</code> file. See the definition in the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#scd_max_execution_time">deploy variables</a>, the <a href="/devdocs-archive/2.2/cloud/env/variables-build.html#scd_max_execution_time">build variables</a>, and the <a href="/devdocs-archive/2.2/cloud/env/variables-global.html#scd_max_execution_time">global variables</a>.</p>

        <ul>
          <li class="new">
            <!-- MAGECLOUD-3135 -->
            <p>Added the <strong>MAGENTO_CLOUD_LOCKS_DIR</strong> environment variable to configure the path to the mount point for the lock provider on the cloud infrastructure. The lock provider prevents the launch of duplicate cron jobs and cron groups. This variable is supported on Magento Commerce version 2.2.5 and later and automatically configured. See the definition in <a href="/devdocs-archive/2.2/cloud/env/variables-cloud.html">Cloud variables</a>.</p>
          </li>
          <li class="fix">
            <!-- MAGECLOUD-3382 -->
            <p>Changed the <strong>SCD_THREADS</strong> environment variable default values to automatically determine the optimal value based on the detected CPU thread count. See the updated definitions in the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#scd_threads">deploy variables</a> and the <a href="/devdocs-archive/2.2/cloud/env/variables-build.html#scd_threads">build variables</a>.</p>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3383 -->
    <p>Fixed an issue with a patch for DB Isolation Mechanism that caused an error when upgrading to Magento Commerce Cloud version 2002.0.16.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3456 -->
    <p>Added a patch that replaces <em>Google Image Charts</em> with <em>Image-Charts</em>. See the DevBlog article <a href="https://community.magento.com/t5/Magento-DevBlog/Google-Image-Charts-deprecation-and-update-for-M1/ba-p/125006">Google Image Charts deprecation and update for M1</a>.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3470 -->
    <p>Added validation for the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#search_configuration">SEARCH_CONFIGURATION variable</a>. Deploy fails when the ‘engine’ option is not set and <code class="language-plaintext highlighter-rouge">_merge</code> is not required.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3525 -->
    <p>Fixed an issue that exposed sensitive data after an exception occurs. Now the sensitive information is masked appropriately.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2899 -->
    <p>Improved the fault-tolerant settings of the Magento Open Source package. In the case when Magento 2 cannot read data from the Redis <code class="language-plaintext highlighter-rouge">slave</code> instance, a reading is made from the Redis <code class="language-plaintext highlighter-rouge">master</code> instance. See <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#redis_use_slave_connection">REDIS_USE_SLAVE_CONNECTION</a>.</p>
  </li>
</ul>

<h2 id="v2002017">v2002.0.17</h2>

<p class="bs-callout-info">The <code class="language-plaintext highlighter-rouge">ece-tools</code> version 2002.0.17 includes an important security patch. See <a href="https://magento.com/tech-resources/download#download2288">Tech Resources: Magento Open Source Patches</a>.</p>

<ul>
  <li class="new">
    <p><strong>Service updates</strong>—Supported by the following Magento versions: 2.2.8 and later 2.2.x, 2.3.1 and later 2.3.x</p>

    <ul>
      <li>
        <!-- MAGECLOUD-3196 -->
        <p>Added support for Elasticsearch version 6.x.</p>
      </li>
      <li>Added support for Redis version 5.0.</li>
    </ul>
  </li>
  <li class="new">
    <p><strong>New Docker images</strong>—Added the following services to the Docker build:</p>

    <ul>
      <li>
        <!-- MAGECLOUD-3196 -->
        <p>Elasticsearch 6.5</p>
      </li>
      <li>
        <!-- MAGECLOUD-3223 -->
        <p>Redis 5.0</p>
      </li>
    </ul>
  </li>
  <li class="new">
    <!-- MAGECLOUD-2870 -->
    <p><strong>New environment variable</strong>—Previously, there was a hard-coded timeout for SCD compression. Now you can configure the SCD compression timeout using the <strong>SCD_COMPRESSION_TIMEOUT</strong> environment variable. See the definitions in the <a href="/devdocs-archive/2.2/cloud/env/variables-build.html#scd_compression_timeout">build variables</a> and the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#scd_compression_timeout">deploy variables</a> content.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3246 -->
    <p>Added the <code class="language-plaintext highlighter-rouge">--use-rewrites</code> option to the Magento install command so that it uses web server rewrites for generated links in the storefront and Admin access to improve security and customer experience.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2895 -->
    <p>Added timestamps to the <code class="language-plaintext highlighter-rouge">var/log/install_upgrade.log</code> file so that it shows dates for the Magento installation and upgrade events.</p>
  </li>
</ul>

<h2 id="v2002016">v2002.0.16</h2>

<ul>
  <li class="new">
    <p><strong>Docker updates</strong>—</p>

    <ul>
      <li>
        <!-- MAGECLOUD-3025 -->
        <p>Now, the default service configuration generated in the Docker environment is the same as the default configuration in the Cloud template.</p>
      </li>
      <li>
        <!-- MAGECLOUD-2907 -->
        <p>You can send mail from your Docker environment using the <a href="/devdocs-archive/2.2/cloud/docker/docker-development.html#sendmail-service"><code class="language-plaintext highlighter-rouge">sendmail</code> service</a>.</p>
      </li>
      <li>
        <!-- MAGECLOUD-2891 -->
        <p>Added the ability to <a href="/devdocs-archive/2.2/cloud/docker/docker-development-debug.html">configure Xdebug</a> to debug in the Cloud Docker environment.</p>
      </li>
      <li>
        <!-- MAGECLOUD-2883 -->
        <p>Fixed an issue with web service permissions when generating the <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> file.</p>
      </li>
    </ul>
  </li>
  <li class="new">
    <!-- MAGECLOUD-2392 -->
    <p><strong>Upgrade improvement</strong>—Added validation to confirm that the <code class="language-plaintext highlighter-rouge">autoload</code> property in the <code class="language-plaintext highlighter-rouge">composer.json</code> file contains required configuration changes before upgrading to Magento Commerce v2.3. See <a href="/devdocs-archive/2.2/cloud/project/project-upgrade.html">Upgrade Magento version</a>.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-3104 -->
    <p>The compression process in deploying static content now includes all assets—natively generated or customized—and occurs during the build phase at the beginning of the <a href="/devdocs-archive/2.2/cloud/project/project-conf-files_magento-app.html#hooks"><code class="language-plaintext highlighter-rouge">build:transfer</code> section</a>. Previously, the compression process occurred before applying custom minification and bundling of static assets. <a href="https://github.com/magento/ece-tools/pull/413">Fix submitted by Rafael Garcia Lepper from Tryzens Limited</a>.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3035 -->
    <p>Fixed a database connection error that occurred during deployment immediately after configuring an additional database and service relationship. Also, this fix addresses an issue that occurred during the configuration process of MBI for Starter. For Starter, this upgrade is a “must have” for using MBI.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-3003 -->
    <p>Fixed a validation issue with the database configuration that caused the deploy process to fail.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2956 -->
    <p>Updated the constraint with the appropriate version of the <code class="language-plaintext highlighter-rouge">symfony/yaml</code> package to use with <a href="/devdocs-archive/2.2/cloud/project/magento-env-yaml.html#php-constants">PHP constants</a>. Constant parsing does not work when using a <code class="language-plaintext highlighter-rouge">symfony/yaml</code> package version earlier than 3.2. <a href="https://github.com/magento/ece-tools/pull/404">Fix submitted by Vladimir Kerkhoff</a>.</p>
  </li>
  <li class="new">
    <!--MAGECLOUD-2903-->
    <p><strong>Environment configuration check</strong>—Added validation to check the PHP version and warn users if they are not using the latest recommended version.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2851 -->
    <p>Fixed an issue with processing malformed JSON variables. Now, if a JSON variable causes a syntax error, a warning appears in the <code class="language-plaintext highlighter-rouge">cloud.log</code> file and deployment continues using the default variable.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2747 -->
    <p>Fixed a connection error that occurred during deployment immediately after disabling the Redis service.</p>
  </li>
  <li class="new">
    <!--MAGECLOUD-2925-->
    <p><strong>Logging changes</strong>—Updated the <a href="/devdocs-archive/2.2/cloud/env/log-handlers.html#log-levels">log level</a> from <code class="language-plaintext highlighter-rouge">Info</code> to <code class="language-plaintext highlighter-rouge">Notice</code> for the following build and deploy process events:</p>

    <ul>
      <li>
        <p>Begin and end of the process for reconciling installed modules in <code class="language-plaintext highlighter-rouge">composer.json</code> with shared configuration settings in the <code class="language-plaintext highlighter-rouge">app/etc/config.php</code> file</p>
      </li>
      <li>
        <p>Begin and end of the configuration validation process</p>
      </li>
      <li>
        <p>Begin and end of the <code class="language-plaintext highlighter-rouge">setup:di:compile</code> process for generating classes</p>
      </li>
    </ul>
  </li>
  <li class="new">
    <p><strong>New environment variables</strong>—</p>

    <ul>
      <li>
        <!-- MAGECLOUD-3026 & MAGECLOUD-2963-->
        <p><strong><a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#resource_configuration">RESOURCE_CONFIGURATION deploy variable</a></strong>—Use this variable to map a resource name to a database connection.</p>
      </li>
      <li>
        <!-- MAGECLOUD-3048 -->
        <p><strong><a href="/devdocs-archive/2.2/cloud/env/variables-global.html#x_frame_configuration">X_FRAME_CONFIGURATION global variable</a></strong>—Use this variable to change the <code class="language-plaintext highlighter-rouge">X-Frame-Options</code> header configuration for rendering a Magento Commerce page in a <code class="language-plaintext highlighter-rouge">&lt;frame&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;iframe&gt;</code>, or <code class="language-plaintext highlighter-rouge">&lt;object&gt;</code>.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <p><strong>Environment variable updates</strong>—Changed the following environment variables:</p>

    <ul>
      <li>
        <!-- MAGECLOUD-2466 -->
        <p><strong><a href="/devdocs-archive/2.2/cloud/env/variables-post-deploy.html">WARM_UP_PAGES</a></strong>—Added the capability to preload the cache for specified pages on all domains defined for a Magento Commerce store. Previously, if your site was configured with multiple domains, the post-deploy process failed to preload the cache for the specified pages on non-default domains and returned the following error in the post-deploy log: <code class="language-plaintext highlighter-rouge">ERROR: Warming up failed: &lt;uri&gt;</code></p>
      </li>
      <li>
        <!-- MAGECLOUD-2823 -->
        <p><strong>SCD_COMPRESSION_LEVEL</strong>—Updated the documentation and the sample <code class="language-plaintext highlighter-rouge">.magento.env.yaml</code> file with the correct default values for SCD compression level. See the definitions in the <a href="/devdocs-archive/2.2/cloud/env/variables-build.html#scd_compression_level">build variables</a> and the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#scd_compression_level">deploy variables</a> content.</p>
      </li>
      <li>
        <!--MAGECLOUD-2882-->
        <p><strong>SCD_EXCLUDE_THEMES</strong>——This environment variable is deprecated. Use the SCD_MATRIX variable to control theme configuration. See the definitions in the <a href="/devdocs-archive/2.2/cloud/env/variables-build.html#scd_exclude_themes">build variables</a> and the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#scd_exclude_themes">deploy variables</a> content.</p>
      </li>
      <li>
        <!-- MAGECLOUD-2904 -->
        <p><strong>SCD_MATRIX</strong>—Fixed the validation process to prevent a problem that occurred when the SCD_MATRIX ignored a theme value that contained different character cases. See the definitions in the <a href="/devdocs-archive/2.2/cloud/env/variables-build.html#scd_matrix">build variables</a> and the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#scd_matrix">deploy variables</a> content.</p>
      </li>
      <li>
        <!-- MAGECLOUD-2573/MAGECLOUD-2848 -->
        <p><strong>ADMIN variables</strong>—</p>

        <ul>
          <li>
            <p>Improved security when managing credentials for the Magento Admin user using environment variables. You can no longer use the ADMIN_EMAIL, ADMIN_USERNAME, and ADMIN_PASSWORD environment variables to override admin credentials during upgrades. If you cannot access the Admin panel, use the <em>Forgot password</em> feature or the Magento CLI <code class="language-plaintext highlighter-rouge">admin:user:create</code> command to create a new admin user. See <a href="/devdocs-archive/2.2/cloud/onboarding/onboarding-tasks.html#admin">Access your Magento Admin panel</a>.</p>
          </li>
          <li>
            <p>ADMIN_EMAIL is no longer required when upgrading or applying patches.</p>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="v2002015">v2002.0.15</h2>

<ul>
  <li class="new">
    <p><strong>Docker updates</strong>—</p>

    <ul>
      <li>
        <!-- MAGECLOUD-2888 -->
        <p>Now the Docker generator uses the services specified in the <code class="language-plaintext highlighter-rouge">.magento.app.yaml</code> and <code class="language-plaintext highlighter-rouge">.magento/services.yaml</code> configuration files when <a href="/devdocs-archive/2.2/cloud/docker/docker-config.html">building your Docker environment</a>. You can choose a different service version using build parameters.</p>
      </li>
      <li>
        <!-- MAGECLOUD-2799 -->
        <p>Added PHP 7.2 image—Added support for PHP 7.2 in Cloud Docker; updated the <a href="/devdocs-archive/2.2/cloud/docker/docker-config.html">Launch Docker configuration</a> to include the <code class="language-plaintext highlighter-rouge">docker:build --php</code> option to specify the version of PHP compatible with your Magento Commerce version.</p>
      </li>
      <li>
        <!-- MAGECLOUD-2565 -->
        <p>Added a <a href="/devdocs-archive/2.2/cloud/docker/docker-development.html#cron-container">Cron container</a> based on the PHP-CLI image.</p>
      </li>
      <li>
        <p>Added the following services to the Docker build:</p>

        <ul>
          <li>
            <!-- MAGECLOUD-2567 & 2889-->
            <p>RabbitMQ 3.5 and 3.7</p>
          </li>
          <li>
            <!-- MAGECLOUD-2569 & 2887 -->
            <p>ElasticSearch 1.7, 2.4, and 5.2</p>
          </li>
          <li>
            <!-- MAGECLOUD-2886 -->
            <p>Redis 3.2 and 4.0</p>
          </li>
        </ul>
      </li>
      <li>
        <!-- MAGECLOUD-2577 -->
        <p>Now you have the DB dump capability when using the Cloud Docker <a href="/devdocs-archive/2.2/cloud/docker/docker-development.html#database-container">database container</a>. Also, you can <a href="/devdocs-archive/2.2/cloud/docker/docker-development.html#sharing-data-between-host-machine-and-container">share files</a> between a host machine and a container using the <code class="language-plaintext highlighter-rouge">docker/mnt</code> directory.</p>
      </li>
    </ul>
  </li>
  <li class="new">
    <!-- MAGECLOUD- 2575 -->
    <p><strong>Configure with PHP constants</strong>—Added support for <a href="/devdocs-archive/2.2/cloud/project/magento-env-yaml.html#php-constants">PHP constants</a> in the <code class="language-plaintext highlighter-rouge">.magento.env.yaml</code> configuration file.</p>
  </li>
  <li class="new">
    <!--MAGECLOUD-2879-->
    <p><strong>New environment variable</strong>—By default, only the Production environment has Google Analytics enabled. You can enable Google Analytics on the Staging and Integration environments using the  <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#enable_google_analytics">ENABLE_GOOGLE_ANALYTICS environment variable</a>.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2923 -->
    <p>Fixed an issue that removed customized cron configurations from the <code class="language-plaintext highlighter-rouge">env.php</code> file after a redeployment. Now, custom cron configurations safely remain in the <code class="language-plaintext highlighter-rouge">env.php</code> file.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2919 -->
    <p>Fixed inconsistencies in the messages and <a href="/devdocs-archive/2.2/cloud/env/log-handlers.html#log-levels">log levels</a> for build, deploy, and post-deploy phases. Increased beginning and ending log message levels from <strong>info</strong> to <strong>notice</strong> for all phases and sub-phases. Added beginning and ending log messages, where appropriate.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2862 -->
    <p>Fixed an issue involving cron processes that prevented the start of the post-deploy phase, when configured. Now, if you have the post-deploy hook enabled, the cron processes are enabled again at the beginning of the post-deploy phase.</p>
  </li>
  <li class="fix">
    <!--MAGECLOUD-2736-->
    <p>Resolved an issue that prevented a successful installation of Magento when specifying a custom database configuration. Previously, the installation process used the database configuration from the <a href="/devdocs-archive/2.2/cloud/env/variables-cloud.html">MAGENTO_CLOUD_RELATIONSHIP variable</a> even if you designated customized connection information in the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#database_configuration">DATABASE_CONFIGURATION environment variable</a>.</p>
  </li>
  <li class="fix">
    <!--MAGECLOUD-2740-->
    <p>Corrected the <code class="language-plaintext highlighter-rouge">config:dump</code> command so that it includes each website locale in the <code class="language-plaintext highlighter-rouge">system</code> section of the <code class="language-plaintext highlighter-rouge">config.php</code> file.</p>
  </li>
  <li class="fix">
    <!--MAGECLOUD-2797-->
    <p>Fixed an issue that resulted in <em>warm-up</em> errors during the post-deploy phase by correcting the source base URL reference.</p>
  </li>
  <li class="fix">
    <!--MAGECLOUD-2850-->
    <p>Fixed an issue that generated files improperly during the <code class="language-plaintext highlighter-rouge">setup:di:compile</code> process, which affected the Amazon Pay module.</p>
  </li>
</ul>

<h2 id="v2002014">v2002.0.14</h2>

<ul>
  <li class="new">
    <!--MAGECLOUD-2372-->
    <p><strong>Verify Ideal State</strong>—The <code class="language-plaintext highlighter-rouge">ideal-state</code> wizard now verifies the current configuration during each deployment and provides clear instructions for updating the configuration to achieve a faster, zero-downtime deployment.</p>
  </li>
  <li class="fix">
    <!--MAGECLOUD-2521-->
    <p><strong>PCI Compliance</strong>—Updated the messaging protocols for Magento Commerce Cloud to require Transport Layer Security (TLS) version 1.2 when connecting with third-party messaging services. If you are using a message service that does not support TLS version 1.2, you must upgrade your service. Otherwise, the following error message displays when your Magento Commerce application tries to connect to the message server to send an email: <code class="language-plaintext highlighter-rouge">Unable to connect via TLS</code>.</p>
  </li>
  <li class="new">
    <!--MAGECLOUD-2517-->
    <p><strong>Deployment improvement</strong>—Added validation to warn customers if a Staging or Production environment has <code class="language-plaintext highlighter-rouge">dev</code>, <code class="language-plaintext highlighter-rouge">debug</code>, or <code class="language-plaintext highlighter-rouge">debug_logging</code> options enabled to prevent performance issues caused by excessive logging activity.</p>
  </li>
  <li class="fix">
    <p><strong>Deployment fixes</strong>—</p>

    <ul>
      <li>
        <!--MAGECLOUD-2603-->
        <p>Now maintenance mode is enabled at the start of the deploy phase and disabled at the end. If the deployment fails, the site remains in maintenance mode until the deployment issues are resolved. Previously, the site returned to production mode even if the deployment failed.</p>

        <ul>
          <li>
            <p>Reworked the deploy phase validation checks to downgrade the error level for the following deployment issues from <code class="language-plaintext highlighter-rouge">CRITICAL</code> to <code class="language-plaintext highlighter-rouge">WARNING</code> so that the deployment completes. Previously, these issues caused the deployment to fail.</p>
          </li>
          <li>
            <p>Environment configuration contains incorrect values for deploy or cloud variables.</p>
          </li>
        </ul>
      </li>
      <li>
        <!--MAGECLOUD-2600-->
        <p>The Elasticsearch version on the cloud infrastructure is incompatible with the version of the elasticsearch/elasticsearch module supported by Magento Commerce Cloud. See the <a href="https://support.magento.com/hc/en-us/articles/360015758471-Deployment-fails-or-interrupts-with-cloud-log-error-Elasticsearch-version-is-not-compatible-with-current-version-of-magento">Elasticsearch troubleshooting article</a> in the Magento Support Knowledgebase.</p>
      </li>
      <li>
        <!--MAGECLOUD-2173-->
        <p>Fixed an issue with the shared configuration settings in the <code class="language-plaintext highlighter-rouge">app/etc/config.php</code> file that caused <code class="language-plaintext highlighter-rouge">recursion detected</code> errors during deployment.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <p><strong>Cron-related fixes</strong>—</p>

    <ul>
      <li>
        <!--MAGECLOUD-2602-->
        <p>Fixed a cron scheduling issue that prevented jobs from running if you specify a cron frequency other than the default (1 minute).</p>
      </li>
      <li>
        <!--MAGECLOUD--2537-->
        <p>Fixed an issue in the deploy phase that allowed cron jobs to continue running during deployment, which can cause database locks and other critical issues. Now, all cron jobs are stopped before the deploy phase begins and restarted after the deployment completes.</p>
      </li>
      <li>
        <!--MAGECLOUD-2501-->
        <p>Fixed the cron job workflow in versions 2.2.x to unlock frozen cron jobs so that they can be stopped before beginning deployment. Previously, a frozen cron job caused the deployment to stall.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <!--MAGECLOUD-2527-->
    <p>Changed the format of the <code class="language-plaintext highlighter-rouge">config.php</code> file generated by the <code class="language-plaintext highlighter-rouge">vendor/bin/ece-tools config:dump</code> command to use short array syntax and 4-space indentation to comply with Magento coding standards.</p>
  </li>
  <li class="fix">
    <!--MAGECLOUD-2607-->
    <p>Fixed a deployment error that occurs when the <code class="language-plaintext highlighter-rouge">.magento.env.yaml</code> contains <code class="language-plaintext highlighter-rouge">and</code> placeholders for web configurations instead of the default URL configuration for a Magento Commerce Cloud project./</p>
  </li>
</ul>

<h2 id="v2002013">v2002.0.13</h2>

<ul>
  <li class="new">
    <!--MAGECLOUD-2169-->
    <p><strong>Enable zero-downtime deployment</strong>—Now Magento Commerce Cloud queues requests with required database changes during deployment and applies the changes as soon as the deployment completes. Requests can be held for up to 5 minutes to ensure that no sessions are lost. See <a href="https://support.magento.com/hc/en-us/articles/360004861194-Static-content-deployment-options-to-reduce-deployment-downtime-on-Cloud">Static content deployment options to reduce deployment downtime on Cloud</a>.</p>
  </li>
  <li class="new">
    <p><strong>Docker Compose for Cloud</strong>—Made the following improvements to the <a href="/devdocs-archive/2.2/cloud/docker/docker-config.html">Docker setup and configuration</a> process:</p>

    <ul>
      <li>
        <!--MAGECLOUD-2359-->
        <p>Added a command—<code class="language-plaintext highlighter-rouge">docker:config:convert</code> to convert PHP configuration files to Docker ENV format to simplify environment configuration. Now, you copy the PHP configuration files to the Docker directory and convert them to Docker ENV files. See <a href="/devdocs-archive/2.2/cloud/docker/docker-config.html">Launch Docker</a>.</p>
      </li>
      <li>
        <!--MAGECLOUD--2357-->
        <p>The Magento Commerce Cloud installation process now supports deploying to both read-only and read-write file systems to more closely emulate the Cloud file system. See <a href="/devdocs-archive/2.2/cloud/docker/docker-config.html">Configure Docker</a>.</p>
      </li>
      <li>
        <!--MAGECLOUD--2442-->
        <p><strong>Redis service support</strong>—Added a Redis image, which is deployed to a Docker container and configured automatically to work with your Docker installation.</p>
      </li>
      <li>
        <!--MAGECLOUD--2358-->
        <p><strong>Varnish service support</strong>— Added a Varnish image, which is deployed automatically to a Docker container. After deployment, you can manually configure Varnish following Magento best practices. See <a href="https://devdocs.magento.com/guides/v2.3/config-guide/varnish/config-varnish.html">Configure and use Varnish</a>.</p>
      </li>
      <li>
        <!--MAGECLOUD--2360-->
        <p>Secure site access—Added SSL support to access your Magento Commerce store and Admin panel.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <!--MAGECLOUD-2205-->
    <p><strong>Improved Magento Commerce Cloud extension support</strong>—Downgraded the minimum version requirement for the guzzlehttp/guzzle package in the Magento Commerce Cloud <a href="/devdocs-archive/2.2/cloud/reference/cloud-composer.html">composer.json file</a> to version 6.2 so that the <code class="language-plaintext highlighter-rouge">ece-tools</code> package is compatible with more extensions.</p>
  </li>
  <li class="new">
    <!--MAGECLOUD-2363-->
    <p><strong>Apply custom changes to your Magento Commerce application during the build phase</strong>—We split the build phase into two separate processes so that you can use hooks to apply custom changes to the generated static content before packaging the application for deployment. The <em>build:generate</em> process generates code, applies patches, and generates static content. The <em>build:transfer</em> process transfers the generated code and static content to the final destination. See <a href="/devdocs-archive/2.2/cloud/project/project-conf-files_magento-app.html#hooks">Application hooks</a>.</p>
  </li>
  <li class="fix">
    <p><strong>Environment configuration checks</strong>—Improved validation of the environment configuration to warn customers about version incompatibilities and configuration errors before building and deploying Magento Commerce Cloud.</p>

    <ul>
      <li>
        <!--MAGECLOUD-2183-->
        <p>Added version-specific validation to identify unsupported or deprecated environment variables and values.</p>
      </li>
      <li>
        <!--MAGECLOUD-2389-->
        <p>Added an Elasticsearch compatibility check to warn users about Elasticsearch configuration issues. Now, the deployment fails if the version of Elasticsearch service on the server is incompatible with Magento Commerce. Previously, the deployment succeeded even if the Elasticsearch version was incompatible, which caused product catalog issues after site deployment.</p>

        <p>You can resolve the incompatibility by <a href="/devdocs-archive/2.2/cloud/trouble/trouble.html">submitting a Support ticket</a> to upgrade Elasticsearch to a compatible version, or change the Magento Commerce configuration to specify a compatible version of the Elasticsearch PHP client.</p>

        <ul>
          <li>
            <p>For Magento Commerce version 2.1.x to 2.2.2, upgrade Elasticsearch to version 2.4.</p>
          </li>
          <li>
            <p>For Magento Commerce version 2.2.3 and later, upgrade Elasticsearch to version 5.2.</p>
          </li>
          <li>
            <p>If you have Elasticsearch 1.x or 2.x and do not want to upgrade, update the Magento Commerce Elasticsearch PHP client version requirement in composer.json to <code class="language-plaintext highlighter-rouge">"elasticsearch/elasticsearch": "~2.0"</code>.</p>
          </li>
        </ul>
      </li>
      <li>
        <!--MAGECLOUD-2156-->
        <p>Improved validation of environment variables to identify configuration settings that can cause conflicts during the build, deploy, and post-deploy phases. For example, a warning message displays during the install and upgrade process if the global setting for static content deployment conflicts with settings on the build or deploy phase.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <p><strong>Environment variable updates</strong>—Changed the following environment variables:</p>

    <ul>
      <li>
        <!--MAGECLOUD-2435-->
        <p><strong><a href="/devdocs-archive/2.2/cloud/env/variables-global.html#skip_html_minification">SKIP_HTML_MINIFICATION global variable</a></strong>—Changed the default value to <code class="language-plaintext highlighter-rouge">true</code> to enable on-demand HTML content minification, which minimizes downtime when deploying to Staging and Production environments. This configuration is required for zero-downtime deployments.</p>
      </li>
      <li>
        <!--MAGECLOUD-1506-->
        <p><strong><a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#clean_static_files">CLEAN_STATIC_FILES deploy variable</a></strong>—Added the capability to manage the clean static files processing for static content generated during the build phase based on the CLEAN_STATIC_FILES environment variable setting. Previously, static content files generated during the build phase were always cleaned.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <p><strong>Logging</strong>—Made the following changes to improve log messages and reduce log size:</p>

    <ul>
      <li>
        <!--MAGECLOUD-2489-->
        <p>Deployment failure log entries now include the command output from the operations that cause the failures even if your environment configuration does not specify debug level logging. See <a href="/devdocs-archive/2.2/cloud/env/variables-global.html#min_logging_level"><code class="language-plaintext highlighter-rouge">MIN_LOGGING_LEVEL</code></a>.</p>
      </li>
      <li>
        <!--MAGECLOUD-2209-->
        <p>Added logging for deployment failures that occur when generated factories required by some extensions cannot be generated correctly because the file system is in a read-only state.</p>
      </li>
      <li>
        <!--MAGECLOUD-2402-->
        <p>Reduced the deploy log size and fixed formatting issues caused by setup commands that use the interactive progress bar.</p>
      </li>
      <li>
        <!--MAGECLOUD-2227-->
        <p>Eliminated unnecessary verbosity and updated the priority levels for some log statements.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <p><strong>Cron-specific fixes</strong>—</p>

    <ul>
      <li>
        <!--MAGECLOUD-2427-->
        <p>Changed the default cron job configuration settings for history lifetime from 3d (4320 min) to 1h (60 min) to prevent performance issues and deployment failures that can occur when the cron queue fills too quickly.</p>
      </li>
      <li>
        <!--MAGECLOUD-2445-->
        <p>Improved the cron job management process during the deploy phase to prevent database locks and other critical issues. Now, all cron jobs stop during the deploy phase and restart after deployment completes.</p>
      </li>
      <li>
        <!--MAGECLOUD-2464-->
        <p>Fixed an issue with the locking mechanism for scheduling consumers launched by cron jobs in Magento Commerce versions 2.2.0 and later to prevent cron jobs from launching duplicate consumers.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2182-->
    <p>Fixed an issue with the <a href="/devdocs-archive/2.2/cloud/env/variables-intro.html">static content compression process</a> (<code class="language-plaintext highlighter-rouge">gzip</code>) that caused <code class="language-plaintext highlighter-rouge">not overwritten</code> and <code class="language-plaintext highlighter-rouge">no such file or directory</code> errors when referencing the compressed file during the deployment process.</p>
  </li>
  <li class="fix">
    <!--MAGECLOUD-2444-->
    <p>Fixed an issue that prevented the <code class="language-plaintext highlighter-rouge">php ./vendor/bin/ece-tools config:dump</code> command from removing redundant sections from the <code class="language-plaintext highlighter-rouge">config.php</code> file during the dump process if the store locale is not specified. Now you can easily move your configuration files between environments. After you update to <code class="language-plaintext highlighter-rouge">ece-tools</code> v2002.0.13, regenerate older <code class="language-plaintext highlighter-rouge">config.php</code> files with the improved <code class="language-plaintext highlighter-rouge">config:dump</code> command. See <a href="/devdocs-archive/2.2/cloud/live/sens-data-over.html">Configuration management for store settings</a>.</p>
  </li>
  <li class="fix">
    <!--MAGECLOUD-2556-->
    <p>Fixed an issue that caused an error during the deploy phase if the route configuration in the <code class="language-plaintext highlighter-rouge">.magento/routes.yaml</code> file redirects from an <a href="https://blog.cloudflare.com/zone-apex-naked-domain-root-domain-cname-supp/">apex</a> domain to a <code class="language-plaintext highlighter-rouge">www</code> domain.</p>
  </li>
  <li class="fix">
    <!--MAGECLOUD-2520-->
    <p>Fixed an issue with the <code class="language-plaintext highlighter-rouge">_merge</code> option for the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#search_configuration"><code class="language-plaintext highlighter-rouge">SEARCH_CONFIGURATION</code></a> variable that caused incorrect merge results if you do not include the <code class="language-plaintext highlighter-rouge">engine</code> parameter in the updated <code class="language-plaintext highlighter-rouge">.magento.env.yaml</code> configuration file. Now, the merge operation correctly overwrites only the values you specify in the updated <code class="language-plaintext highlighter-rouge">.magento.env.yaml</code> without requiring you to set the <code class="language-plaintext highlighter-rouge">engine</code> parameter.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2515-->
    <p>Fixed a Redis configuration issue that incorrectly enabled session locking for Magento Commerce Cloud versions 2.2.1 and later, which can cause slow performance and timeouts. Now, session locking is disabled by default. The issue was caused by a change in the default behavior of the <code class="language-plaintext highlighter-rouge">disable_locking</code> parameter introduced in v1.3.4 of the Redis session handler package. See <a href="https://github.com/colinmollenhour/php-redis-session-abstract">colinmollenhour/php-redis-session-abstract package</a>.</p>
  </li>
</ul>

<h2 id="v2002012">v2002.0.12</h2>

<ul>
  <li class="new">
    <!-- MAGECLOUD-2250 -->
    <p><strong>Docker Compose for Cloud</strong>—Added a command—<code class="language-plaintext highlighter-rouge">docker:build</code>—to generate a <a href="/devdocs-archive/2.2/cloud/docker/docker-config.html">Docker Compose</a> configuration from the Cloud <code class="language-plaintext highlighter-rouge">ece-tools</code> repository.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-2019 -->
    <p><strong>Change Locales</strong>—Now you can <a href="/devdocs-archive/2.2/cloud/live/sens-data-over.html#change-locales">change store locale</a> without the exporting and importing configuration process. While Magento is in Production and the SCD_ON_DEMAND is enabled, the Magento store and admin locale options are available.</p>
  </li>
  <li class="new">
    <!-- MAGECLOU-1998 -->
    <p><strong>Site map and Robots</strong>—Created a <a href="/devdocs-archive/2.2/cloud/trouble/robots-sitemap.html">workflow</a>to add a <code class="language-plaintext highlighter-rouge">robots.txt</code> file and generate a <code class="language-plaintext highlighter-rouge">sitemap.xml</code> file for a single domain configuration without requiring a change to the infrastructure.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-1910 -->
    <p><strong>Wizards</strong>—Added two <a href="/devdocs-archive/2.2/cloud/deploy/smart-wizards.html">wizards</a> to help you with Cloud configuration:</p>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ideal-state</code>—configure the ideal state for minimal deployment downtime</li>
      <li><code class="language-plaintext highlighter-rouge">master-slave</code>—configure load balancing for database and Redis</li>
    </ul>
  </li>
  <li class="new">
    <!-- MAGECLOUD-1521 -->
    <p><strong>Module Refresh</strong>—Added a Cloud command—<code class="language-plaintext highlighter-rouge">module:refresh</code>—to enable modules that were disabled or not explicitly enabled, similar to the way that it is done automatically during a build. See <a href="/devdocs-archive/2.2/cloud/live/live-sanity-check.html#build">Build and deploy on local in Build phase</a>.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-2105 -->
    <p>Added the ability to choose to merge or overwrite configuration for services using the <code class="language-plaintext highlighter-rouge">_merge</code> option in <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#cache_configuration">CACHE</a>, <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#session_configuration">SESSION</a>, <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#queue_configuration">QUEUE</a>, and <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#search_configuration">SEARCH</a> configurations.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-1908 -->
    <p><strong>Environment Configuration sample file</strong>—We added a <code class="language-plaintext highlighter-rouge">.magento.env.yaml</code> sample file to the ece-tools package that includes a detailed description and possible values for each environment variable.</p>

    <ul>
      <li>
        <!-- MAGECLOUD-1907 -->
        <p>We also added a deep validation for the <code class="language-plaintext highlighter-rouge">.magento.env.yaml</code> configuration that prevents failures in the deployment process caused by unexpected values. When a failure occurs, you now receive a detailed error message that begins with: <code class="language-plaintext highlighter-rouge">Environment configuration is not valid. Please correct .magento.env.yaml file with next suggestions:</code></p>
      </li>
    </ul>
  </li>
  <li class="new">
    <p>Added the following <a href="/devdocs-archive/2.2/cloud/env/variables-intro.html"><strong>Environment variables</strong></a>:</p>

    <ul>
      <li>
        <!-- MAGECLOUD-1501 -->
        <p>Now you can define multiple locales for each theme using the new <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#scd_matrix">SCD_MATRIX</a> environment variable, which reduces the amount of theme files to deploy.</p>
      </li>
      <li>
        <!-- MAGECLOUD-2047 -->
        <p>Added the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#database_configuration">DATABASE_CONFIGURATION</a> environment variable to customize your database connections for deployment.</p>
      </li>
      <li>
        <!-- MAGECLOUD-2129 -->
        <p>The new <a href="/devdocs-archive/2.2/cloud/env/variables-global.html#min_logging_level">MIN_LOGGING_LEVEL</a> variable overrides the minimum logging level for all output streams without making changes to the code.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <p>Fixed an issue that caused downtime between the deploy and post-deploy phase. Now, the post_deploy phase begins <em>immediately</em> after the deploy phase ends.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2268 -->
    <p>Fixed an issue that did not clean the successful cron jobs, those with <code class="language-plaintext highlighter-rouge">status = success</code>, from the schedule.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2113 -->
    <p>Fixed an issue with the <code class="language-plaintext highlighter-rouge">post_deploy</code> hook that cleared the cache in the deploy phase instead of the post-deploy phase of the project.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2034 -->
    <p>Fixed an issue when using SCD with multiple locales, which generated the same <code class="language-plaintext highlighter-rouge">js-translation.json</code> file for each locale.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2033 -->
    <p>Optimized the <code class="language-plaintext highlighter-rouge">db:dump</code> command in the <code class="language-plaintext highlighter-rouge">ece-tools</code> package to avoid locking tables and increase speed.</p>
  </li>
</ul>

<h2 id="v2002011">v2002.0.11</h2>

<p class="bs-callout-info">The ece-tools version 2002.0.11 is required for 2.2.4 compatibility.</p>

<ul>
  <li class="new">
    <p><strong>Configuring read-only connections to non-master nodes</strong>—This release adds the ability to configure a read-only connection to a non-master node to receive read-only traffic (for <!--MAGECLOUD-143 --><a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#redis_use_slave_connection">Redis</a> and for <!--MAGECLOUD-143 --> <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#mysql_use_slave_connection">MariaDB</a>).</p>
  </li>
  <li class="new">
    <!--MAGECLOUD-1910 -->
    <p><strong>Configuration Wizard</strong>—Added a wizard to help verify your configuration for static content deployment. See <a href="/devdocs-archive/2.2/cloud/deploy/smart-wizards.html">Smart wizards</a>.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-1966 -->
    <p><strong>Symfony Console support</strong>—Added support for Symfony Console 4 with Magento 2.3.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1607 -->
    <p><strong>Cron scheduling optimizations</strong>—Improved the queue management and enhanced logging to help with debugging cron-related issues.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1221 -->
    <p>Deployment validation fails if an <code class="language-plaintext highlighter-rouge">ADMIN_EMAIL</code> or <code class="language-plaintext highlighter-rouge">ADMIN_USERNAME</code> value is the same as an existing Magento administrator account.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1282 -->
    <p>Removed SOLR support for 2.2.x versions. 2.1.x versions retain the ability to enable SOLR.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1489 -->
    <p>The first installation of the Staging &amp; Production environments of a PRO project now includes different index prefixes for ElasticSearch to prevent possible conflicts while identifying records belonging to each environment.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-2021 -->
    <p>Fixed an issue that interrupted the build phase for legacy architecture during static content deployment.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1607 -->
    <p><strong>Cron-specific Improvements</strong>—Re-worked the cron implementation:</p>

    <ul>
      <li>
        <p>Fixed an issue that caused the cron queue to fill quickly. Now it clears the outdated cron jobs in a more reliable way.</p>
      </li>
      <li>
        <p>Re-organized the sequence of cron jobs so that all jobs in separate threads launch prior to the general group.</p>
      </li>
      <li>
        <p>Improved logging to better assist in debugging cron issues.</p>
      </li>
      <li>
        <p><strong>NOTE</strong>—This release addresses many cron-related issues. If you currently use some cron-related patches in <em>m2-hotfixes</em>, remove them.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <p><strong>SCD-specific improvements</strong>—</p>

    <ul>
      <li>
        <!-- MAGECLOUD-1819 -->
        <p>You can use the <code class="language-plaintext highlighter-rouge">VERBOSE_COMMANDS</code> and the <code class="language-plaintext highlighter-rouge">SCD_COMPRESSION_LEVEL</code> environment variables during both <em>build</em> and <em>deploy</em> phases.</p>
      </li>
      <li>
        <!-- MAGECLOUD-2043 -->
        <p>Fixed an issue that caused deployment to fail with a random error when encountering an unexpected value for the <code class="language-plaintext highlighter-rouge">SCD_COMPRESSION_LEVEL</code> environment variable. Improved the configuration validation to provide meaningful notifications. See <a href="/devdocs-archive/2.2/cloud/env/variables-build.html#scd_compression_level"><code class="language-plaintext highlighter-rouge">SCD_COMPRESSION_LEVEL</code></a> for acceptable values.</p>
      </li>
      <li>
        <!-- MAGECLOUD-2044 -->
        <p>Fixed the behavior of the <code class="language-plaintext highlighter-rouge">SCD_COMPRESSION_LEVEL</code> environment variable configuration flow so the overrides work as expected.</p>
      </li>
      <li>
        <!-- MAGECLOUD-2046 -->
        <p>Fixed an issue that prevented the configuration of the <code class="language-plaintext highlighter-rouge">SCD_THREADS</code> environment variable in the <code class="language-plaintext highlighter-rouge">.magento.env.yaml</code> file <em>deploy</em> stage.</p>
      </li>
    </ul>
  </li>
</ul>

<h2 id="v2002010">v2002.0.10</h2>

<ul>
  <li class="new">
    <!-- MAGECLOUD-1285 -->
    <p><strong>Static Content Deployment (SCD)</strong>—There is a new, alternative deployment process to generate static content when requested (on-demand). This decreases downtime and improves cache handling by generating the most critical assets.</p>

    <ul>
      <li>
        <!-- MAGECLOUD-1738 -->
        <p><strong>New environment variable</strong>—Added the <code class="language-plaintext highlighter-rouge">SCD_ON_DEMAND</code> global environment variable to generate static content when requested.</p>
      </li>
      <li>
        <!-- MAGECLOUD-1788 -->
        <p><strong>Post-deploy hook</strong>—Added a <code class="language-plaintext highlighter-rouge">post_deploy</code> hook for the <code class="language-plaintext highlighter-rouge">.magento.app.yaml</code> file that clears the cache and pre-loads (warms) the cache <em>after</em> the container begins accepting connections. It is available only for Pro projects that contain Staging and Production environments in the Project Web Interface and for Starter projects. Although not required, this works in tandem with the <code class="language-plaintext highlighter-rouge">SCD_ON_DEMAND</code> environment variable.</p>
      </li>
    </ul>
  </li>
  <li class="new">
    <!-- MAGECLOUD-1842 -->
    <p><strong>Optimization</strong>—Optimized moving or copying files during deployment to improve deployment speed and decrease loads on the file system.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-1751 -->
    <p><strong>Deployment Logging</strong>—Added the ability to enable Syslog and Graylog Extended Log Format (GELF) handlers for outputting logs during the deployment process. See <a href="/devdocs-archive/2.2/cloud/env/log-handlers.html">Logging handlers</a>.</p>
  </li>
  <li class="new">
    <p>Added the following <a href="/devdocs-archive/2.2/cloud/env/variables-intro.html"><strong>Environment variables</strong></a>:</p>

    <ul>
      <li>
        <!-- MAGECLOUD-1556 -->
        <p><code class="language-plaintext highlighter-rouge">CRYPT_KEY</code>—Provide a cryptographic key to another environment when moving a database.</p>
      </li>
      <li>
        <!-- MAGECLOUD-1621 and MAGECLOUD-1736-->
        <p><code class="language-plaintext highlighter-rouge">SKIP_HTML_MINIFICATION</code>—<em>Global</em> environment variable that skips copying the static view files in the <code class="language-plaintext highlighter-rouge">var/view_preprocessed</code> directory and generates minified HTML when requested.</p>
      </li>
      <li>
        <!-- MAGECLOUD-1738 -->
        <p><code class="language-plaintext highlighter-rouge">SCD_ON_DEMAND</code>—<em>Global</em> environment variable to generate static content when requested.</p>
      </li>
      <li><code class="language-plaintext highlighter-rouge">WARM_UP_PAGES</code>—You can list the pages to use to pre-load the cache. Available in the new <a href="/devdocs-archive/2.2/cloud/env/variables-post-deploy.html">Post-deploy variables</a>.</li>
    </ul>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-982 -->
    <p>Fixed an issue that involved a locally applied patch breaking the deployment on an instance. Now, ece-tools can detect that a patch has been applied.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1735 -->
    <p>Fixed a conflict between JavaScript bundling and GZIP functionality. Now these features work correctly together.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1744 -->
    <p>Fixed an issue that caused ece-tools CLI commands to fail when using earlier PHP 7.0.x versions.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1822 -->
    <p>Fixed an issue that prevented static content deployment with the compact strategy in multiple threads.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1853 -->
    <p>Fixed a Redis session locking issue that caused an Admin login delay. Also, the fix is available for 2.1.x.</p>
  </li>
</ul>

<h2 id="v200209">v2002.0.9</h2>

<p>{.bs-callout-info}
You must <a href="/devdocs-archive/2.2/cloud/project/project-upgrade-parent.html">upgrade the Magento Commerce Cloud metapackage</a> to get this and all future updates.</p>

<ul>
  <li class="new">
    <!-- MAGECLOUD-1086 -->
    <p><strong>ece-tools</strong>—The <code class="language-plaintext highlighter-rouge">ece-tools</code> package now supports Magento 2.1.x.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-1552 -->
    <p><strong>Redis configuration</strong>—You can now <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#cache_configuration">configure Redis</a> page and default cache and Redis session storage using an environment variable.</p>
  </li>
  <li class="new">
    <!-- MAGECLOUD-1437 -->
    <p><strong>Search, AMQP, and Redis service improvements</strong>—We unified the service configuration flow so that it now behaves the same way for all services. Manually editing the <code class="language-plaintext highlighter-rouge">env.php</code> file to configure services is no longer supported. You must use environment variables or the <code class="language-plaintext highlighter-rouge">.magento.env.yaml</code> file instead.</p>
  </li>
  <li class="fix">
    <p><strong>Environment variables</strong>—</p>

    <ul>
      <li>
        <!-- MAGECLOUD-1507 -->
        <p>The use of <code class="language-plaintext highlighter-rouge">env:STATIC_CONTENT_THREADS</code> was deprecated and will be removed in a future release. Use the <a href="/devdocs-archive/2.2/cloud/env/variables-deploy.html#scd_threads">SCD_THREADS</a> instead.</p>
      </li>
      <li>
        <!-- MAGECLOUD-1640 -->
        <p>The <code class="language-plaintext highlighter-rouge">STATIC_CONTENT_EXCLUDE_THEMES</code> environment variable was deprecated. You must use the <code class="language-plaintext highlighter-rouge">SCD_EXCLUDE_THEMES</code> environment variable instead.</p>
      </li>
    </ul>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1674 -->
    <p><strong>Logging</strong>—We simplified logging around built-in patching operations.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1615 -->
    <p>We removed <code class="language-plaintext highlighter-rouge">developer</code> mode support and the <code class="language-plaintext highlighter-rouge">APPLICATION_MODE</code> environment variable because they were causing unexpected behavior.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1630 -->
    <p>We fixed an issue that was causing static content deployment failures related to Redis. Now, multi-threaded static content deployment runs as designed.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1175 -->
    <p>We fixed an issue that was preventing users from saving modifications to configuration fields in the Admin, which are marked as sensitive after running the <code class="language-plaintext highlighter-rouge">app:config:dump</code> command.</p>
  </li>
  <li class="fix">
    <!-- MAGECLOUD-1674 -->
    <p>We added support for an earlier version of <code class="language-plaintext highlighter-rouge">symfony/yaml</code> to fix conflicts with some packages, which are not yet compatible with the latest version.</p>
  </li>
</ul>

<h2 id="older-releases">Older releases</h2>

<p>See the <a href="/devdocs-archive/2.2/cloud/release-notes/cloud-release-archive.html">release notes archive</a> for version 2002.0.8 and earlier.</p>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  
  <div class="page-updated">
    <img src="/devdocs-archive/2.2/i/icons/time.svg" alt="Updated" />
    <time id="last-modified-at" itemprop="dateModified" datetime="2023-04-12">
      Apr 12th, 2023
    </time>
  </div>
  

  

  

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links" role="menu">

  <li class="" role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md">Become a Contributor</a></li>

  <li class="" role="menuitem"><a href="https://glossary.magento.com/">Glossary</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/privacy/">Privacy Policy</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/">Terms of Service</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/licensing/">License/Trademark FAQ</a></li>

  <li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/bk-release-notes.html">Release Notes</a></li>

  <li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/packages-open-source.html">Third-Party Licenses</a></li>

</ul>

    </div>

		<div class="copyright-date">&copy; 2023 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/devdocs-archive/2.2/assets/js/app.min.js?ver=7"></script>





<script type="text/javascript" src="/devdocs-archive/2.2/common/js/last-modified-at.js"></script>
<script type="text/javascript" src="/devdocs-archive/2.2/common/js/glossary-link-enhancer.js"></script>


</body>
</html>

