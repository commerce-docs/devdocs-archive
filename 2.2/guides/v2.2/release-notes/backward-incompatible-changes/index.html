<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Magento 2.2 backward incompatible changes | Archived Magento 2.2 Developer Documentation</title>
	<meta name="description" content="Archived Magento 2 Developer Documentation.">

	<link rel="stylesheet" href="/devdocs-archive/2.2/assets/css/app.css?ver=7" />
	<link rel="stylesheet" href="/devdocs-archive/2.2/assets/css/print.css?ver=7" media="print"/>

	<link rel="stylesheet" href="/devdocs-archive/2.2/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />



<meta name="google-site-verification" content="3WFsoYwBe6UuxDwgs7bmd7t0YFQVzDpLpWLjNh0CUp8" />

	<script>
  var baseUrl = "/devdocs-archive/2.2";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c",
  };

  var indices = [
    {
      label: "DevDocs",
      name: "devdocs",
      facetFilters: [["guide_version: 2.2", "versionless: true"]],
      refinements: [
        {
          label: "Functional areas",
          attribute: "functional_areas"
        }
      ],
      baseUrl: "https://devdocs.magento.com"
    },
    {
      label: "User Guide",
      name: "merchdocs_ee",
      baseUrl: "https://docs.magento.com/m2/ee/user_guide"
    },
    {
      label: "MBI User Guide",
      name: "merchdocs-mbi",
      baseUrl: "https://docs.magento.com/mbi"
    },
    {
      label: "Marketplace User Guide",
      name: "merchdocs-marketplace",
      baseUrl: "https://docs.magento.com/marketplace/user_guide"
    },
    {
      label: "PWA",
      name: "pwa-devdocs",
      baseUrl: "https://magento.github.io/pwa-studio"
    },
    {
      label: "Order Management",
      name: "oms-en",
      baseUrl: "https://omsdocs.magento.com"
    }
  ];
</script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">


	<header class="site-header">
		

<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" href="/devdocs-archive/2.2/">
      <img src="/devdocs-archive/2.2/assets/i/m-logo.svg" alt=""><img src="/devdocs-archive/2.2/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      


<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" disabled>
		Magento 2.2
	</button>
</div>


      <!-- Main Navigation --><ul class="nav-main" role="menubar"><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Cloud</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Cloud basics</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/bk-cloud.html">Cloud Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/architecture/cloud-architecture.html">Cloud Architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-upgrade-parent.html">Upgrades and Patches</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/release-notes/cloud-tools.html">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Cloud development</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/setup/first-time-setup.html">Local development</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-config.html">Launch Docker</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-quick-reference.html">Docker quick reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/environments.html">Configure Environments</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/install-gde/bk-install-guide.html">Installation Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/extensions/">Magento Extensions Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/comp-mgr/bk-compman-upgrade-guide.html">Software Update Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/bk-config-guide.html">Configuration Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/performance-best-practices/introduction.html">Performance Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/migration/bk-migration-guide.html">Migration Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/bk-release-notes.html">Release Information</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/reference/cli/magento.html">Command-line Tools Reference</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Backend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/architecture/bk-architecture.html">Architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/mrg/intro.html">Module Reference Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/coding-standards/bk-coding-standards.html">Coding Standards</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/contributor-guide/contributing.html">Contributor Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Frontend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">API</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/rest/bk-rest.html">REST API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/soap/bk-soap.html">SOAP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/marketplace/eqp/v1/api.html">Marketplace EQP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/mbi/docs/getting-started.html">Business Intelligence API</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/testing.html">Magento Testing Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/mftf/docs/introduction.html">Functional Acceptance Testing (MFTF)</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/mtf/mtf_introduction.html">Functional Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/integration/integration_test_execution.html">Integration Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/js/jasmine.html">JavaScript Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/unit/unit_test_execution.html">PHP Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/advanced-reporting/overview.html">Advanced Reporting</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/b2b/bk-b2b.html">B2B</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/howdoi/checkout/checkout_overview.html">Checkout</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/compliance/industry-compliance.html">Compliance</a></li><li class="" role="menuitem"><a href="http://omsdocs.magento.com/en/">Order Management</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/payments-integrations/bk-payments-integrations.html">Payment Integrations</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/extension-dev-guide/staging.html">Staging</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/rest/tutorials/index.html">Rest Tutorials</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/howdoi/customize_product.html">Customize Product Creation Form</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/howdoi/checkout/checkout_overview.html">Customize Checkout</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/community/resources/support.html">Magento Support</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/videos/">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="nav-actions">
      
<div class="app-switcher">
  <div class="dropdown">
    <button id="app-switcher-trigger" class="app-switcher-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Documentation sites"></button>
    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="app-switcher-trigger" role="menu">
      <div class="app-switcher-content">
      
      <div class="app-switcher-group">
        <h3 class="app-swither-group-title">Developer</h3>
        
        <li role="menuitem"><a class="dropdown-item" href="https://devdocs.magento.com/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce Developer Documentation">Commerce Developer Documentation</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="http://pwastudio.io/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=PWA Studio">PWA Studio</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://omsdocs.magento.com/en/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
      </div>
      
      <div class="app-switcher-group">
        <h3 class="app-swither-group-title">Merchant</h3>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/m2/ee/user_guide/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce User Guide">Commerce User Guide</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://omsdocs.magento.com/en/userguides/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/mbi/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Business Intelligence">Business Intelligence</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/marketplace/user_guide/getting-started.html?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Marketplace">Marketplace</a></li>
        
      </div>
      
      </div>
    </ul>
  </div>
</div>


      <div class="search-btn">
        <button class="search-trigger search-icon" aria-label="Search"></button>
      </div>

      <form class="quick-search" action="/devdocs-archive/2.2/guides/v2.2/search.html" method="get" novalidate="novalidate">
        <input type="search" name="query" placeholder="Search" />
        <button class="quick-search-close" aria-label="Close Search">&times;</button>
      </form>

    </div>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>

	</header>

	<div class="global-wrapper">
		
		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Release Information</h4>
		<div class="collapsible-navigation">
		    <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/bk-release-notes.html">Introduction</a></li><li class="" role="menuitem"><span>2.2 Release Notes</span><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/release-notes-2-2-11-open-source.html">Magento Open Source 2.2.11 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/release-notes-2-2-11-commerce.html">Magento Commerce 2.2.11 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/release-notes-2-2-10-open-source.html">Magento Open Source 2.2.10 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/release-notes-2-2-10-commerce.html">Magento Commerce 2.2.10 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.9CE.html">Magento Open Source 2.2.9 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.9EE.html">Magento Commerce 2.2.9 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.8CE.html">Magento Open Source 2.2.8 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.8EE.html">Magento Commerce 2.2.8 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.7CE.html">Magento Open Source 2.2.7 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.7EE.html">Magento Commerce 2.2.7 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.6CE.html">Magento Open Source 2.2.6 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.6EE.html">Magento Commerce 2.2.6 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.5CE.html">Magento Open Source 2.2.5 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.5EE.html">Magento Commerce 2.2.5 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.4CE.html">Magento Open Source 2.2.4 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.4EE.html">Magento Commerce 2.2.4 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.3CE.html">Magento Open Source 2.2.3 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.3EE.html">Magento Commerce 2.2.3 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.2CE.html">Magento Open Source 2.2.2 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.2EE.html">Magento Commerce 2.2.2 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.1CE.html">Magento Open Source 2.2.1 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.1EE.html">Magento Commerce 2.2.1 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.0CE.html">Magento Open Source 2.2.0 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/ReleaseNotes2.2.0EE.html">Magento Commerce 2.2.0 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/release-notes/CloudReleaseNotes2.2.html">Magento Commerce (Cloud) 2.2.0 Release Notes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/release-candidate/component-status.html">Component Status</a></li></ul></li><li class="" role="menuitem"><span>Backward incompatible changes</span><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/backward-incompatible-changes/index.html">Highlights</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/backward-incompatible-changes/reference.html">Reference</a></li></ul></li><li class="" role="menuitem"><span>Packages</span><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/packages-open-source.html">Magento Open Source packages</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/packages-commerce.html">Magento Commerce packages</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/packages-cloud.html">Magento Commerce Cloud packages</a></li></ul></li><li class="" role="menuitem"><span>Sales Channels</span><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/extensions/amazon-sales/release-notes/">Amazon</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/extensions/google-shopping-ads/release-notes/">Google Shopping ads</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">








<h1 class="page-heading">Magento 2.2 backward incompatible changes</h1>
</section>

			<p>Magento 2.2 introduces changes that may affect the correct functionality of already released external modules. The purpose of this document is to highlight changes between Magento 2.1 and 2.2.</p>

<h2 id="api-changes">API changes</h2>

<p>Magento 2.2 introduces changes in several <a href="https://glossary.magento.com/api">API</a> classes. These changes are designed to extend overall API coverage and improve developer experience with new features.</p>

<h3 id="framework">Framework</h3>

<p>Magento no longer supports custom config file pools</p>

<p><strong>Class:</strong> <a href="https://github.com/magento/magento2/blob/2.2/lib/internal/Magento/Framework/App/DeploymentConfig/Reader.php" target="_blank"><code class="language-plaintext highlighter-rouge">Magento\Framework\App\DeploymentConfig\Reader</code></a><br />
<strong>Action:</strong> Deprecated the method <code class="language-plaintext highlighter-rouge">loadConfigFile</code><br /></p>

<h3 id="store-module">Store module</h3>

<p>The Store <a href="https://glossary.magento.com/module">module</a> management has been updated to allow the retrieval of a store by its <a href="https://glossary.magento.com/website">website</a> id.</p>

<p><strong>Class:</strong> <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Store/Api/StoreWebsiteRelationInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">Magento\Store\Api\StoreWebsiteRelationInterface</code></a><br />
<strong>Action:</strong> New interface added with method <code class="language-plaintext highlighter-rouge">getStoreByWebsiteId($websiteId)</code></p>

<p><strong>Class:</strong> <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Store/Model/StoreManager.php" target="_blank"><code class="language-plaintext highlighter-rouge">Magento\Store\Model\StoreManager</code></a><br />
<strong>Action:</strong> Implemented <code class="language-plaintext highlighter-rouge">StoreWebsiteRelationInterface</code> and added the inherited method <code class="language-plaintext highlighter-rouge">getStoreByWebsiteId($websiteId)</code><br /></p>

<p><strong>Description:</strong> Retrieves a store by website id<br /></p>

<p>New unique and required field <code class="language-plaintext highlighter-rouge">code</code> was added to the Store Group.</p>

<p><strong>Class:</strong> <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Store/Api/Data/GroupInterface.php"><code class="language-plaintext highlighter-rouge">Magento\Store\Api\Data\GroupInterface</code></a><br />
<strong>Action:</strong> Added two methods <code class="language-plaintext highlighter-rouge">getCode()</code> and <code class="language-plaintext highlighter-rouge">setCode($code)</code><br /></p>

<h3 id="customer-module">Customer module</h3>

<p>Change was done in order to add default values to customer attributes.</p>

<p><strong>Class:</strong> <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Eav/Api/Data/AttributeDefaultValueInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">Magento\Eav\Api\Data\AttributeDefaultValueInterface</code></a><br />
<strong>Action:</strong> New interface added with methods <code class="language-plaintext highlighter-rouge">getDefaultValue()</code> and <code class="language-plaintext highlighter-rouge">setDefaultValue($defaultValue)</code><br /></p>

<p><strong>Class:</strong> <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Customer/Model/Data/AttributeMetadata.php" target="_blank"><code class="language-plaintext highlighter-rouge">Magento\Customer\Model\Data\AttributeMetadata</code></a><br />
<strong>Action:</strong> Implemented <code class="language-plaintext highlighter-rouge">AttributeDefaultValueInterface</code> and added the getter <code class="language-plaintext highlighter-rouge">getDefaultValue()</code> and setter <code class="language-plaintext highlighter-rouge">setDefaultValue($defaultValue)</code> methods<br /></p>

<p><strong>Description:</strong> Retrieve and set default values to customer attributes<br /></p>

<h3 id="wishlist-module">Wishlist module</h3>

<p><strong>Class:</strong> <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Wishlist/Model/Wishlist.php" target="_blank"><code class="language-plaintext highlighter-rouge">Magento\Wishlist\Model\Wishlist</code></a><br />
<strong>Action:</strong> The format of the string for the <code class="language-plaintext highlighter-rouge">buyRequest</code> parameter in the <code class="language-plaintext highlighter-rouge">addNewItem</code> method changed from serialized to JSON.<br /></p>

<h3 id="recently-viewed-and-recently-compared-widgets">Recently Viewed and Recently Compared Widgets</h3>

<p><strong>Class:</strong> <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Reports/Block/Product/Viewed.php" target="_blank"><code class="language-plaintext highlighter-rouge">Magento\Reports\Block\Product\Viewed</code></a><br />
<strong>Action:</strong> Deprecated <br /></p>

<p><strong>Class:</strong> <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Reports/Block/Product/Compared.php" target="_blank"><code class="language-plaintext highlighter-rouge">Magento\Reports\Block\Product\Compared</code></a><br />
<strong>Action:</strong> Deprecated <br /></p>

<p><strong>Configuration</strong> <a href="https://github.com/magento/magento2/blob/2.1/app/code/Magento/Reports/etc/widget.xml" target="_blank"><code class="language-plaintext highlighter-rouge">Magento\Reports\etc\widget.xml</code></a><br />
<strong>Action:</strong> Removed <br /></p>

<p>Please note, that all inheritance of old widget.xml file will break Magento. Use <code class="language-plaintext highlighter-rouge">Magento/Catalog/etc/widget.xml</code> instead of <code class="language-plaintext highlighter-rouge">Magento/Reports/etc/widget.xml</code>.</p>

<h3 id="eav-module-changes">Eav Module Changes</h3>

<p>The class <code class="language-plaintext highlighter-rouge">\Magento\Eav\Model\Entity\Attribute\Backend\Serialized</code> has been marked as deprecated, <code class="language-plaintext highlighter-rouge">Magento\Eav\Model\Entity\Attribute\Backend\JsonEncoded</code> can be used instead.</p>

<h3 id="messagequeue-module-api">MessageQueue Module API</h3>

<p>The <code class="language-plaintext highlighter-rouge">Magento\Framework\MessageQueue\ConfigInterface</code> has been deprecated.
The following table lists the deprecated methods and their replacements.</p>

<table>
  <thead>
    <tr>
      <th>Deprecated method</th>
      <th>Use instead</th>
      <th>Subsequent calls</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getExchangeByTopic($topicName);</code></td>
      <td><code class="language-plaintext highlighter-rouge">\Magento\Framework\MessageQueue\Publisher\ConfigInterface::getPublisher($topic)</code></td>
      <td>Call <code class="language-plaintext highlighter-rouge">getConnection()</code>  then <code class="language-plaintext highlighter-rouge">getExchange()</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getQueuesByTopic($topic);</code></td>
      <td><code class="language-plaintext highlighter-rouge">\Magento\Framework\MessageQueue\Topology\ConfigInterface::getQueues()</code></td>
      <td>Iterate and call <code class="language-plaintext highlighter-rouge">getName()</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getConnectionByTopic($topic);</code></td>
      <td><code class="language-plaintext highlighter-rouge">\Magento\Framework\MessageQueue\Publisher\ConfigInterface::getPublisher($topic)</code></td>
      <td><code class="language-plaintext highlighter-rouge">getConnection()</code> <code class="language-plaintext highlighter-rouge">getName()</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getConnectionByConsumer($consumer);</code></td>
      <td><code class="language-plaintext highlighter-rouge">\Magento\Framework\MessageQueue\Consumer\ConfigInterface::getConsumer($name)</code></td>
      <td><code class="language-plaintext highlighter-rouge">getConnection()</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getMessageSchemaType($topic);</code></td>
      <td><code class="language-plaintext highlighter-rouge">\Magento\Framework\Communication\ConfigInterface::getTopic($name)</code></td>
      <td>Use getter methods to return information from topic data.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getConsumer($name);</code></td>
      <td><code class="language-plaintext highlighter-rouge">\Magento\Framework\MessageQueue\Consumer\ConfigInterface::getConsumer($name)</code></td>
      <td>Extract necessary information using accessor methods.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getConsumerNames();</code></td>
      <td><code class="language-plaintext highlighter-rouge">\Magento\Framework\MessageQueue\Consumer\ConfigInterface::getConsumers()</code></td>
      <td>Iterate and use <code class="language-plaintext highlighter-rouge">getName()</code> on every item.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getBinds();</code></td>
      <td><code class="language-plaintext highlighter-rouge">\Magento\Framework\MessageQueue\Topology\ConfigInterface::getExchanges()</code></td>
      <td>Extract necessary information using accessor methods.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getPublishers();</code></td>
      <td><code class="language-plaintext highlighter-rouge">\Magento\Framework\MessageQueue\Publisher\ConfigInterface::getPublishers()</code></td>
      <td>Iterate and use getter methods.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getConsumers();</code></td>
      <td><code class="language-plaintext highlighter-rouge">\Magento\Framework\MessageQueue\Consumer\ConfigInterface::getConsumers()</code></td>
      <td>Iterate and use getter methods.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getTopic($name);</code></td>
      <td><code class="language-plaintext highlighter-rouge">\Magento\Framework\Communication\ConfigInterface::getTopic($name)</code> <code class="language-plaintext highlighter-rouge">\Magento\Framework\MessageQueue\Publisher\ConfigInterface::getPublisher($topic)</code></td>
      <td>Use <code class="language-plaintext highlighter-rouge">getTopic($name)</code> for topic information. Use <code class="language-plaintext highlighter-rouge">getPublisher($name)</code> for publisher-related clients.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getPublisher($name);</code></td>
      <td><code class="language-plaintext highlighter-rouge">\Magento\Framework\MessageQueue\Publisher\ConfigInterface::getPublisher($name)</code></td>
      <td>Use getter methods to return requested information.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">getResponseQueueName($topicName);</code></td>
      <td>Magento\Framework\MessageQueue\Rpc\ResponseQueueNameBuilder::getQueueName($topicName)</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h3 id="error-processor-module">Error processor module</h3>

<p><a href="https://glossary.magento.com/exception">Exception</a> report files in <code class="language-plaintext highlighter-rouge">var/report</code> are now JSON encoded, and existing serialized files will not be readable by the upgraded Magento 2.2 instance.</p>

<h3 id="braintree-module">Braintree module</h3>

<p><strong>Class:</strong> <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Braintree/Model/Ui/ConfigProvider.php" target="_blank"><code class="language-plaintext highlighter-rouge">Magento\Braintree\Model\Ui\ConfigProvider</code></a><br />
<strong>Action:</strong> The deprecated constant <code class="language-plaintext highlighter-rouge">PAYPAL_CODE</code> has been removed<br />
<strong>Description</strong> Use <code class="language-plaintext highlighter-rouge">\Magento\Braintree\Model\Ui\PayPal\ConfigProvider::PAYPAL_CODE</code> instead.<br /></p>

<h3 id="paypal-module">PayPal module</h3>

<p><strong>Class:</strong> <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Paypal/Cron/FetchReports.php" target="_blank"><code class="language-plaintext highlighter-rouge">Magento\Paypal\Cron\FetchReports</code></a><br />
<strong>Action:</strong></p>

<ul>
  <li>Method <code class="language-plaintext highlighter-rouge">execute</code> has been reworked and now throws an <code class="language-plaintext highlighter-rouge">\Exception</code> instead of logging it</li>
  <li>Method <code class="language-plaintext highlighter-rouge">__construction</code> no longer has the <code class="language-plaintext highlighter-rouge">\Psr\Log\LoggerInterface</code> dependency</li>
  <li>The <code class="language-plaintext highlighter-rouge">report_date</code> column from the <code class="language-plaintext highlighter-rouge">paypal_settlement_report</code> table has been changed from <code class="language-plaintext highlighter-rouge">timestamp</code> format to <code class="language-plaintext highlighter-rouge">date</code>.</li>
</ul>

<h2 id="changes-in-repositories">Changes in repositories</h2>

<p>In Magento 2.2 the behavior of repositories regarding the Filters added to Search Criteria  was unified:</p>

<ul>
  <li>The boolean OR statement joins Filters inside a single Filter Group.</li>
  <li>The boolean AND statement joins Filter Groups inside a Search Criteria.</li>
</ul>

<p>In the scope of this work, the following repositories were affected.</p>

<h3 id="affected-magento-open-source-repositories">Affected Magento Open Source repositories</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Api\AttributeSetRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Api\CategoryAttributeRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Api\ProductAttributeGroupRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Api\ProductAttributeRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Cms\Api\BlockRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Cms\Api\PageRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Eav\Api\AttributeGroupRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Eav\Api\AttributeRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Eav\Api\AttributeSetRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\CreditmemoCommentRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\CreditmemoItemRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\CreditmemoRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\InvoiceCommentRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\InvoiceItemRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\InvoiceRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderAddressRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderItemRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderPaymentRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderStatusHistoryRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\ShipmentCommentRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\ShipmentItemRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\ShipmentRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\ShipmentTrackRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\TransactionRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Ui\Api\BookmarkRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Vault\Api\PaymentTokenRepositoryInterface</code></li>
</ul>

<h3 id="affected-magento-commerce-repositories">Affected Magento Commerce repositories</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">\Magento\GiftCardAccount\Api\GiftCardAccountRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\GiftWrapping\Api\WrappingRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Api\CommentRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Model\RmaRepository</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Model\Service\RmaManagement</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Model\Rma\Status\HistoryRepository</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Api\RmaRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Staging\Api\UpdateRepositoryInterface</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\VersionsCms\Api\HierarchyNodeRepositoryInterface</code></li>
</ul>

<p>For details about repositories see the <a href="/devdocs-archive/2.2/guides/v2.2/extension-dev-guide/searching-with-repositories.html">Searching with repositories</a> topic.</p>

<h2 id="changes-in-repositories-in-method-getlist">Changes in repositories in method getList</h2>

<p>In Magento 2.2 the signature of the method getList was unified across the code base.</p>

<p><code class="language-plaintext highlighter-rouge">public function getList(\Magento\Framework\Api\SearchCriteria $searchCriteria);</code>
was changed to
<code class="language-plaintext highlighter-rouge">public function getList(\Magento\Framework\Api\SearchCriteriaInterface $searchCriteria);</code></p>

<p>These changes won’t affect the clients that use these interfaces, but this will affect the extensions that implemented these interfaces.
In order to adopt custom implementations of these interfaces, please, change method signature from <code class="language-plaintext highlighter-rouge">\Magento\Framework\Api\SearchCriteria</code> to <code class="language-plaintext highlighter-rouge">\Magento\Framework\Api\SearchCriteriaInterface</code> in your implementations.</p>

<h3 id="affected-magento-open-source-repositories-1">Affected Magento Open Source repositories</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Vault\Api\PaymentTokenRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Tax\Api\TaxRuleRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\CreditmemoCommentRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\CreditmemoItemRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\CreditmemoRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\InvoiceCommentRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\InvoiceItemRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\InvoiceRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderAddressRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderItemRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderPaymentRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderStatusHistoryRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\ShipmentCommentRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\ShipmentItemRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\ShipmentRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\ShipmentTrackRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\TransactionRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Quote\Api\CartRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Vault\Model\PaymentTokenRepository::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Tax\Model\TaxRuleRepository::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\OrderRepository::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\AddressRepository::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\CreditmemoRepository::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\InvoiceRepository::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\ItemRepository::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\ShipmentRepository::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Payment\Repository::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Payment\Transaction\Repository::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Quote\Model\QuoteRepository::getList</code></li>
</ul>

<h3 id="affected-magento-commerce-repositories-1">Affected Magento Commerce repositories</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Signifyd\Api\CaseRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Api\CommentRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Api\RmaManagementInterface::search</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Api\RmaRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Api\TrackRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\GiftWrapping\Api\WrappingRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\GiftCardAccount\Api\GiftCardAccountRepositoryInterface::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Signifyd\Model\CaseRepository::getList</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Model\Service\RmaManagement::search</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\GiftWrapping\Model\WrappingRepository::getList</code></li>
</ul>

<h2 id="compiler-changes">Compiler changes</h2>

<p>This release removes the multi-tenant compiler option and support of the definitions option for the single tenant compiler in the <code class="language-plaintext highlighter-rouge">env.php</code> file.</p>

<p>The following classes are no longer available:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Magento\Setup\Console\Command\DiCompileMultiTenantCommand</code></li>
  <li><code class="language-plaintext highlighter-rouge">Magento\Framework\ObjectManager\Relations\Compiled</code></li>
  <li><code class="language-plaintext highlighter-rouge">Magento\Framework\ObjectManager\Definition\Compiled\Serialized</code></li>
  <li><code class="language-plaintext highlighter-rouge">Magento\Framework\ObjectManager\Definition\Compiled\Binary</code></li>
  <li><code class="language-plaintext highlighter-rouge">Magento\Framework\Interception\Definition\Compiled</code></li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">bin/magento setup:config:set</code> command no longer has the <code class="language-plaintext highlighter-rouge">--definition-format</code> option.</p>

<h2 id="changes-in-ui">Changes in UI</h2>

<h3 id="advanced-section-in-system-configurations">Advanced section in System Configurations</h3>

<p><strong>Action:</strong> Section <code class="language-plaintext highlighter-rouge">Advanced</code> was removed from <a href="https://glossary.magento.com/admin">Admin</a> Interface<br />
<strong>Description:</strong> Magento does not support disabling/enabling modules output from the Admin Panel in 2.2.0 version. Module output can still be enabled/disabled in configuration files.</p>

<h2 id="database-schema-changes">Database schema changes</h2>

<h3 id="store_group">store_group</h3>

<p><strong>Action:</strong> New column <code class="language-plaintext highlighter-rouge">code</code> was added to <code class="language-plaintext highlighter-rouge">store_group</code> table. This column has a unique key.<br />
<strong>Description:</strong> Data to this column for existing store Groups will be automatically filled based on Group names.</p>

<h2 id="database-data-format-changes">Database data format changes</h2>

<p>This release replaces usages of <code class="language-plaintext highlighter-rouge">unserialize</code> with <a href="/devdocs-archive/2.2/guides/v2.2/extension-dev-guide/framework/serializer.html"><code class="language-plaintext highlighter-rouge">json_decode</code></a>.</p>

<p>The release also provides upgrade scripts that convert Magento data stored in serialized format.</p>

<p><a href="https://glossary.magento.com/extension">Extension</a> developers should review the following cases to see what actions they should take for their extensions:</p>

<p><strong>Case 1:</strong>
Your extension declared fields for automatic serialization/unserialization using the <code class="language-plaintext highlighter-rouge">_serializableFields</code> parameter of <code class="language-plaintext highlighter-rouge">\Magento\Framework\Model\ResourceModel\Db\AbstractDb</code>.
<strong>Solution:</strong>
Write an <a href="/devdocs-archive/2.2/guides/v2.2/ext-best-practices/tutorials/serialized-to-json-data-upgrade.html">upgrade script</a> to convert your extension data to JSON format.</p>

<p><strong>Case 2:</strong>
Your extension stores or adds serialized data to Magento entities (e.g. new/custom attributes for Product).
<strong>Solution:</strong>
Your extension will continue working normally, but we recommend switching to JSON for security reasons.
You also need to write an upgrade script for the data in the database.</p>

<p><strong>Case 3:</strong>
Your extension relies on serialized data from Magento entities.
<strong>Solution:</strong>
Update all usages to expect the data in JSON format.</p>

<p><strong>Case 4:</strong>
The serialize/unserialize logic belongs to your extension and stores data in a new table or field.
<strong>Solution:</strong>
Your extension will continue working normally, but we recommend switching to JSON for security reasons.
You also need to write an upgrade script for the data in the database.</p>

<p><strong>Case 5:</strong>
Your extension accesses values in the <code class="language-plaintext highlighter-rouge">core_config_data</code> table using the following paths:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">payment/braintree/countrycreditcard</code></li>
  <li><code class="language-plaintext highlighter-rouge">design/theme/ua_regexp</code></li>
  <li><code class="language-plaintext highlighter-rouge">cataloginventory/item_options/min_sale_qty</code></li>
  <li><code class="language-plaintext highlighter-rouge">currency/options/customsymbol</code></li>
  <li><code class="language-plaintext highlighter-rouge">admin/magento_logging/actions</code></li>
</ul>

<p><strong>Solution:</strong>
Update your extension to use <code class="language-plaintext highlighter-rouge">\Magento\Framework\Serialize\Serializer\Json</code> for serializing/unserializing data instead of the native <a href="https://glossary.magento.com/php">PHP</a> serialize/unserialize functions.</p>

<p><strong>Case 6:</strong>
Your extension uses a backend model that extends <code class="language-plaintext highlighter-rouge">\Magento\Config\Model\Config\Backend\Serialized</code> to save/load data to/from the database.</p>

<p><strong>Solution:</strong>
Write an <a href="/devdocs-archive/2.2/guides/v2.2/ext-best-practices/tutorials/serialized-to-json-data-upgrade.html">upgrade script</a> to update data stored by the extension in the <code class="language-plaintext highlighter-rouge">core_config_data</code> table from serialized to JSON format.</p>

<p><strong>See:</strong></p>

<ul>
  <li><a href="/devdocs-archive/2.2/guides/v2.2/ext-best-practices/tutorials/serialized-to-json-data-upgrade.html">Serialize to JSON data upgrade</a></li>
  <li><a href="/devdocs-archive/2.2/guides/v2.2/extension-dev-guide/framework/serializer.html">Serialize Library</a></li>
</ul>

<h2 id="database-field-changes">Database field changes</h2>

<p>This is a list of tables and fields where the data format changed from serialized to JSON format.</p>

<div class="collapsible">
    <b class="collapsible-title">Show table </b>
    <div class="collapsible-content"><table>
  <thead>
    <tr>
      <th>Resource Model</th>
      <th>Table</th>
      <th>Field</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>\Magento\Quote\Model\ResourceModel\Quote\Payment</td>
      <td>quote_payment</td>
      <td>additional_information</td>
    </tr>
    <tr>
      <td>\Magento\Reward\Model\ResourceModel\Reward\History</td>
      <td>magento_reward_history</td>
      <td>additional_data</td>
    </tr>
    <tr>
      <td>\Magento\Sales\Model\ResourceModel\Order\Item</td>
      <td>sales_order_item</td>
      <td>product_options</td>
    </tr>
    <tr>
      <td>\Magento\Sales\Model\ResourceModel\Order\Payment</td>
      <td>sales_order_payment</td>
      <td>additional_information</td>
    </tr>
    <tr>
      <td>\Magento\Sales\Model\ResourceModel\Order\Shipment</td>
      <td>sales_shipment</td>
      <td>packages</td>
    </tr>
    <tr>
      <td>\Magento\Sales\Model\ResourceModel\Order\Payment\Transaction</td>
      <td>sales_payment_transaction</td>
      <td>additional_information</td>
    </tr>
    <tr>
      <td>\Magento\Quote\Model\Quote\Item\Option</td>
      <td>quote_item_option</td>
      <td>value</td>
    </tr>
    <tr>
      <td>\Magento\GiftRegistry\Model\Item\Option</td>
      <td>magento_giftregistry_item_option</td>
      <td>value</td>
    </tr>
    <tr>
      <td>\Magento\Wishlist\Model\Item</td>
      <td>wishlist_item_option</td>
      <td>value</td>
    </tr>
    <tr>
      <td>\Magento\Sales\Model\ResourceModel\Order</td>
      <td>sales_order</td>
      <td>gift_cards</td>
    </tr>
    <tr>
      <td>\Magento\Quote\Model\ResourceModel\Quote</td>
      <td>quote</td>
      <td>gift_cards</td>
    </tr>
    <tr>
      <td>\Magento\Quote\Model\ResourceModel\Quote\Address</td>
      <td>quote_address</td>
      <td>applied_taxes, gift_cards</td>
    </tr>
    <tr>
      <td>\Magento\Quote\Model\Quote\Payment</td>
      <td>quote_payment</td>
      <td>additional_data</td>
    </tr>
    <tr>
      <td>\Magento\Customer\Model\Attribute</td>
      <td>customer_eav_attribute</td>
      <td>validate_rules</td>
    </tr>
    <tr>
      <td>\Magento\Rma\Model\Item\Attribute</td>
      <td>magento_rma_item_eav_attribute</td>
      <td>validate_rules</td>
    </tr>
    <tr>
      <td>\Magento\UrlRewrite\Model\UrlRewrite</td>
      <td>url_rewrite</td>
      <td>metadata</td>
    </tr>
    <tr>
      <td>\Magento\Framework\Flag\FlagResource</td>
      <td>flag</td>
      <td>flag_data</td>
    </tr>
    <tr>
      <td>\Magento\Config\Model\ResourceModel\Config</td>
      <td>core_config_data</td>
      <td>value</td>
    </tr>
    <tr>
      <td>\Magento\Widget\Model\ResourceModel\Widget\Instance</td>
      <td>widget_instance</td>
      <td>widget_parameters</td>
    </tr>
    <tr>
      <td>\Magento\Reminder\Model\Rule</td>
      <td>magento_reminder_rule</td>
      <td>conditions_serialized</td>
    </tr>
    <tr>
      <td>\Magento\TargetRule\Model\Rule</td>
      <td>magento_targetrule</td>
      <td>actions_serialized, conditions_serialized, action_select_bind</td>
    </tr>
    <tr>
      <td>\Magento\SalesRule\Model\Rule</td>
      <td>salesrule</td>
      <td>conditions_serialized, actions_serialized</td>
    </tr>
    <tr>
      <td>\Magento\CatalogRule\Model\Rule</td>
      <td>catalogrule</td>
      <td>conditions_serialized, actions_serialized</td>
    </tr>
    <tr>
      <td>\Magento\CustomerSegment\Model\Segment</td>
      <td>magento_customersegment_segment</td>
      <td>conditions_serialized</td>
    </tr>
    <tr>
      <td>\Magento\Sales\Model\Order\Creditmemo\Item</td>
      <td>sales_creditmemo_item</td>
      <td>tax_ratio</td>
    </tr>
    <tr>
      <td>\Magento\Sales\Model\Order\Invoice\Item</td>
      <td>sales_invoice_item</td>
      <td>tax_ratio</td>
    </tr>
    <tr>
      <td>\Magento\User\Model\User</td>
      <td>admin_user</td>
      <td>extra</td>
    </tr>
    <tr>
      <td>\Magento\Catalog\Model\ResourceModel\Eav\Attribute</td>
      <td>catalog_eav_attribute</td>
      <td>additional_data</td>
    </tr>
    <tr>
      <td>\Magento\Support\Model\ResourceModel\Report</td>
      <td>support_report</td>
      <td>report_data</td>
    </tr>
    <tr>
      <td>\Magento\Logging\Block\Adminhtml\Details</td>
      <td>magento_logging_event</td>
      <td>info</td>
    </tr>
    <tr>
      <td>\Magento\Logging\Block\Adminhtml\Details\Renderer\Diff</td>
      <td>magento_logging_event_changes</td>
      <td>original_data, result_data</td>
    </tr>
    <tr>
      <td>\Magento\Rma\Model\Item, \Magento\Rma\Model\Rma</td>
      <td>magento_rma_item_entity</td>
      <td>product_options</td>
    </tr>
    <tr>
      <td>\Magento\Rma\Model\Shipping, \Magento\Rma\Model\Shipping\LabelService</td>
      <td>magento_rma_shipping_label</td>
      <td>packages</td>
    </tr>
    <tr>
      <td>\Magento\GiftRegistry\Model\Person, \Magento\GiftRegistry\Model\ResourceModel\Person</td>
      <td>magento_giftregistry_person</td>
      <td>custom_values</td>
    </tr>
    <tr>
      <td>\Magento\GiftRegistry\Model\Entity, \Magento\GiftRegistry\Model\ResourceModel\Entity</td>
      <td>magento_giftregistry_entity</td>
      <td>custom_values, shipping_address</td>
    </tr>
    <tr>
      <td>\Magento\ScheduledImportExport\Model\Scheduled\Operation</td>
      <td>magento_scheduled_operations</td>
      <td>file_info, entity_attributes</td>
    </tr>
    <tr>
      <td>\Magento\Cms\Model\ResourceModel\Block</td>
      <td>cms_block</td>
      <td>content</td>
    </tr>
    <tr>
      <td>\Magento\Cms\Model\ResourceModel\Page</td>
      <td>cms_page</td>
      <td>content</td>
    </tr>
    <tr>
      <td>\Magento\Widget\Model\ResourceModel\Widget\Instance</td>
      <td>layout_update</td>
      <td>xml</td>
    </tr>
    <tr>
      <td>\Magento\Banner\Model\ResourceModel\Banner</td>
      <td>magento_banner_content</td>
      <td>banner_content</td>
    </tr>
    <tr>
      <td>\Magento\Cms\Model\ResourceModel\Page</td>
      <td>cms_page</td>
      <td>layout_update_xml</td>
    </tr>
    <tr>
      <td>\Magento\Catalog\Model\ResourceModel\Product</td>
      <td>catalog_product_entity_text</td>
      <td>value</td>
    </tr>
    <tr>
      <td>\Magento\Catalog\Model\ResourceModel\Category</td>
      <td>catalog_category_entity_text</td>
      <td>value</td>
    </tr>
  </tbody>
</table>
</div>
  </div>

<h3 id="table-deprecations">Table deprecations</h3>

<p>The table for <code class="language-plaintext highlighter-rouge">\Magento\Widget\Model\ResourceModel\Widget</code> has been deprecated.</p>

<h3 id="new-class-fielddataconverter">New Class: <code class="language-plaintext highlighter-rouge">FieldDataConverter</code></h3>

<p>This class supports data <a href="https://glossary.magento.com/conversion">conversion</a> from one format to another.
It can be used to upgrade data in upgrade scripts.</p>

<h4 id="features">Features</h4>

<ul>
  <li>Ability to process records in batches</li>
  <li>Can use the <code class="language-plaintext highlighter-rouge">where</code> condition</li>
  <li>Update multiple fields in a table at once</li>
  <li>Update records in multiple threads</li>
  <li>Convert nested serialized data</li>
  <li>Update duplicate records at once</li>
</ul>

<h2 id="inputoutput-format-of-methods">Input/Output format of methods</h2>

<p>The following methods now return JSON instead of a serialized string.</p>

<div class="collapsible">
    <b class="collapsible-title">Show methods </b>
    <div class="collapsible-content"><ul>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\Product\Option\Type\File::prepareForCart()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\CatalogInventory\Helper\Minsaleqty::serializeValue($value)</code>
    <ul>
      <li>Only if <code class="language-plaintext highlighter-rouge">$value</code> is array type</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Widget\Helper\Conditions::encode($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Wishlist\Model\Item\Option::getValue</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Wishlist\Model\Item\Option::getData('value',...)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Widget\Model\Widget\Instance::getData('widget_parameters')</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Creditmemo\Item::getTaxRatio</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Invoice\Item::getTaxRatio</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Quote\Model\Quote\Address\Total::getAppliedTaxes()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\ResourceModel\Eav\Attribute::getData('additional_data')</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\ResourceModel\Eav\Attribute::getAdditionalData()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Item::getProductOptions()</code>
    <ul>
      <li>Return value is an array, applicable only for “bundle_selection_attributes” key</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Quote\Model\Quote\Item::getOptionByCode</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">info_buyRequest</code> option</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rule\Model\AbstractModel::getConditionsSerialized()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\Product-&gt;getCustomOption('attributes')-&gt;getValue()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\CatalogInventory\Helper\Minsaleqty::makeStorableArrayFieldValue()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\Product\Option\Type\File::prepareForCart()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\Product\Configuration\Item\Option\OptionInterface::getValue()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Quote\Model\Quote\Item\Option::getValue()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\Product\Configuration\Item\ItemInterface::getOptionByCode('bundle_selection_ids')-&gt;getValue()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Item::getProductOptions()['bundle_selection_ids']</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\Product::getCustomOption('bundle_selection_ids')</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Model\Shipping::getPackages()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Model\Item::getProductOptions()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Logging\Model\Event\Changes::getResultData()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Logging\Model\Event::getInfo()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\GiftCardAccount\Helper\Data::getCards()</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\OrderInterface</code>
    <ul>
      <li>[‘extension_attributes’ =&gt; ‘gift_cards’ =&gt; JSON]</li>
    </ul>
  </li>
</ul>
</div>
  </div>

<p>The following methods now require JSON as a parameter instead of a serialized string.</p>

<div class="collapsible">
    <b class="collapsible-title">Show methods </b>
    <div class="collapsible-content"><ul>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\Product\Option\Type\File::getFormattedOptionValue($optionValue)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\Product\Option\Type\File::_unserializeValue($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\Product\Option\Type\File::getEditableOptionValue($optionValue)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\Product\Option\Type\File::prepareOptionValueForRequest($optionValue)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\CatalogInventory\Helper\Minsaleqty::unserializeValue($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Widget\Helper\Conditions::decode($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Wishlist\Model\Item\Option::setValue($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Wishlist\Model\Item\Option::setData('value', $value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Widget\Model\Widget\Instance::setData('widget_parameters', $value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Creditmemo\Item::setTaxRatio($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Invoice\Item::setTaxRatio($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Quote\Model\Quote\Address\Total::setAppliedTaxes($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Quote\Model\Quote\Address\Total::setFullInfo($value)</code>
    <ul>
      <li>Only for string values</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\ResourceModel\Eav\Attribute::setData('additional_data', $value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\ResourceModel\Eav\Attribute::setAdditionalData($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Item::setProductOptions($value)</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">$value</code> is an array, applicable only for <code class="language-plaintext highlighter-rouge">bundle_selection_attributes</code> key</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Quote\Model\Quote\Item::setOptionByCode</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">info_buyRequest</code> option</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rule\Model\AbstractModel::setConditionsSerialized($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\Product::addCustomOption('attributes', $value)</code>
    <ul>
      <li>For attributes <code class="language-plaintext highlighter-rouge">bundle_selection_ids</code> key</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\UrlRewrite\Model\UrlRewrite::setMetadata($value)</code>
    <ul>
      <li>For non array values</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\UrlRewrite\Service\V1\Data::setMetadata($value)</code>
    <ul>
      <li>For non array values</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\UrlRewrite\Model\UrlPersistInterface::deleteByData()</code>
    <ul>
      <li>For metadata key</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Catalog\Model\Product\Configuration\Item\Option\OptionInterface::setValue($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Quote\Model\Quote\Item\Option::setValue($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Model\Shipping::setPackages($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Rma\Model\Item::setProductOptions($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Logging\Model\Event\Changes::setResultData($value)</code></li>
  <li><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\OrderInterface</code>
    <ul>
      <li>[‘extension_attributes’ =&gt; ‘gift_cards’ =&gt; JSON]</li>
    </ul>
  </li>
</ul>
</div>
  </div>

<h3 id="other-class-changes">Other class changes</h3>

<table>
  <thead>
    <tr>
      <th>Class</th>
      <th>Change</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Magento\Framework\Acl\Cache</code></td>
      <td>Class removed</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Magento\Framework\Acl\Builder::__construct</code></td>
      <td>[public] Method parameter changed</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Magento\Framework\Acl\Builder::$_cache</code></td>
      <td>[protected] Property removed</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Magento\User\Model\ResourceModel\User::__construct</code></td>
      <td>[public] Method parameter changed</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Magento\User\Model\ResourceModel\User::$_aclCache</code></td>
      <td>[protected] Property removed</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Magento\Authorization\Model\ResourceModel\Rules::__construct</code></td>
      <td>[public] Method parameter changed</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Magento\Authorization\Model\ResourceModel\Rules::$_aclCache</code></td>
      <td>[protected] Property removed</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">Magento\Setup\Module\Di\Compiler\Config\Writer\Filesystem</code></td>
      <td>Format and type of <code class="language-plaintext highlighter-rouge">generated\metadata</code> files changed from <code class="language-plaintext highlighter-rouge">.ser</code> to <code class="language-plaintext highlighter-rouge">.php</code> and serialized data to php data</td>
    </tr>
  </tbody>
</table>

<h2 id="changes-in-file-system">Changes in file system</h2>

<h3 id="file-appetcconfiglocalphp-is-not-supported">File <code class="language-plaintext highlighter-rouge">app/etc/config.local.php</code> is not supported</h3>

<p><strong>Description:</strong> file app/etc/config.local.php is not read anymore.
 CLI command <code class="language-plaintext highlighter-rouge">app:config:dump</code> writes data to <code class="language-plaintext highlighter-rouge">app/etc/config.php</code> instead. File <code class="language-plaintext highlighter-rouge">app/etc/config.local.php</code> may be removed manually.</p>

<h3 id="directories-vardi-and-vargenerate-are-moved">Directories <code class="language-plaintext highlighter-rouge">var/di</code> and <code class="language-plaintext highlighter-rouge">var/generate</code> are moved</h3>

<p><strong>Description:</strong></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">var/di</code> is moved to <code class="language-plaintext highlighter-rouge">generated/metadata</code></li>
  <li><code class="language-plaintext highlighter-rouge">var/generate</code> is moved to <code class="language-plaintext highlighter-rouge">generated/code</code></li>
</ul>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  
  <div class="page-updated">
    <img src="/devdocs-archive/2.2/i/icons/time.svg" alt="Updated" />
    <time id="last-modified-at" itemprop="dateModified" datetime="2019-11-27">
      Nov 27th, 2019
    </time>
  </div>
  

  

  

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links" role="menu">

  <li class="" role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md">Become a Contributor</a></li>

  <li class="" role="menuitem"><a href="https://glossary.magento.com/">Glossary</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/privacy/">Privacy Policy</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/">Terms of Service</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/licensing/">License/Trademark FAQ</a></li>

  <li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/bk-release-notes.html">Release Notes</a></li>

  <li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/packages-open-source.html">Third-Party Licenses</a></li>

</ul>

    </div>

		<div class="copyright-date">&copy; 2023 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/devdocs-archive/2.2/assets/js/app.min.js?ver=7"></script>





<script type="text/javascript" src="/devdocs-archive/2.2/common/js/last-modified-at.js"></script>
<script type="text/javascript" src="/devdocs-archive/2.2/common/js/glossary-link-enhancer.js"></script>


</body>
</html>

