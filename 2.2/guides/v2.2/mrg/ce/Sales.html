<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Magento_Sales module | Archived Magento 2.2 Developer Documentation</title>
	<meta name="description" content="Archived Magento 2 Developer Documentation.">

	<link rel="stylesheet" href="/devdocs/2.2/assets/css/app.css?ver=7" />
	<link rel="stylesheet" href="/devdocs/2.2/assets/css/print.css?ver=7" media="print"/>

	<link rel="stylesheet" href="/devdocs/2.2/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />



<meta name="google-site-verification" content="3WFsoYwBe6UuxDwgs7bmd7t0YFQVzDpLpWLjNh0CUp8" />

	<script>
  var baseUrl = "/devdocs/2.2";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c",
  };

  var indices = [
    {
      label: "DevDocs",
      name: "devdocs",
      facetFilters: [["guide_version: 2.2", "versionless: true"]],
      refinements: [
        {
          label: "Functional areas",
          attribute: "functional_areas"
        }
      ],
      baseUrl: "https://devdocs.magento.com"
    },
    {
      label: "User Guide",
      name: "merchdocs_ee",
      baseUrl: "https://docs.magento.com/m2/ee/user_guide"
    },
    {
      label: "MBI User Guide",
      name: "merchdocs-mbi",
      baseUrl: "https://docs.magento.com/mbi"
    },
    {
      label: "Marketplace User Guide",
      name: "merchdocs-marketplace",
      baseUrl: "https://docs.magento.com/marketplace/user_guide"
    },
    {
      label: "PWA",
      name: "pwa-devdocs",
      baseUrl: "https://magento.github.io/pwa-studio"
    },
    {
      label: "Order Management",
      name: "oms-en",
      baseUrl: "https://omsdocs.magento.com"
    }
  ];
</script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">


	<header class="site-header">
		

<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" href="/devdocs/2.2/">
      <img src="/devdocs/2.2/assets/i/m-logo.svg" alt=""><img src="/devdocs/2.2/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      


<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" disabled>
		Magento 2.2
	</button>
</div>


      <!-- Main Navigation --><ul class="nav-main" role="menubar"><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Cloud</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Cloud basics</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.2/cloud/bk-cloud.html">Cloud Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/cloud/architecture/cloud-architecture.html">Cloud Architecture</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/cloud/project/project-upgrade-parent.html">Upgrades and Patches</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/cloud/release-notes/cloud-tools.html">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Cloud development</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.2/cloud/setup/first-time-setup.html">Local development</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/cloud/docker/docker-config.html">Launch Docker</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/cloud/docker/docker-quick-reference.html">Docker quick reference</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/cloud/env/environments.html">Configure Environments</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/install-gde/bk-install-guide.html">Installation Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/extensions/">Magento Extensions Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/comp-mgr/bk-compman-upgrade-guide.html">Software Update Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/config-guide/bk-config-guide.html">Configuration Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/performance-best-practices/introduction.html">Performance Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/migration/bk-migration-guide.html">Migration Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/release-notes/bk-release-notes.html">Release Information</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/reference/cli/magento.html">Command-line Tools Reference</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Backend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/architecture/bk-architecture.html">Architecture</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/intro.html">Module Reference Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/coding-standards/bk-coding-standards.html">Coding Standards</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/contributor-guide/contributing.html">Contributor Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Frontend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">API</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/rest/bk-rest.html">REST API Reference</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/soap/bk-soap.html">SOAP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/marketplace/eqp/v1/api.html">Marketplace EQP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/mbi/docs/getting-started.html">Business Intelligence API</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/test/testing.html">Magento Testing Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/mftf/docs/introduction.html">Functional Acceptance Testing (MFTF)</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mtf/mtf_introduction.html">Functional Testing</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/test/integration/integration_test_execution.html">Integration Testing</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/test/js/jasmine.html">JavaScript Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/test/unit/unit_test_execution.html">PHP Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/advanced-reporting/overview.html">Advanced Reporting</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/b2b/bk-b2b.html">B2B</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/howdoi/checkout/checkout_overview.html">Checkout</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/compliance/industry-compliance.html">Compliance</a></li><li class="" role="menuitem"><a href="http://omsdocs.magento.com/en/">Order Management</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/payments-integrations/bk-payments-integrations.html">Payment Integrations</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/extension-dev-guide/staging.html">Staging</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/rest/tutorials/index.html">Rest Tutorials</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/howdoi/customize_product.html">Customize Product Creation Form</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/howdoi/checkout/checkout_overview.html">Customize Checkout</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/community/resources/support.html">Magento Support</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/videos/">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="nav-actions">
      
<div class="app-switcher">
  <div class="dropdown">
    <button id="app-switcher-trigger" class="app-switcher-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Documentation sites"></button>
    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="app-switcher-trigger" role="menu">
      <div class="app-switcher-content">
      
      <div class="app-switcher-group">
        <h3 class="app-swither-group-title">Developer</h3>
        
        <li role="menuitem"><a class="dropdown-item" href="https://devdocs.magento.com/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce Developer Documentation">Commerce Developer Documentation</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="http://pwastudio.io/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=PWA Studio">PWA Studio</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://omsdocs.magento.com/en/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
      </div>
      
      <div class="app-switcher-group">
        <h3 class="app-swither-group-title">Merchant</h3>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/m2/ee/user_guide/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce User Guide">Commerce User Guide</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://omsdocs.magento.com/en/userguides/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/mbi/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Business Intelligence">Business Intelligence</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/marketplace/user_guide/getting-started.html?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Marketplace">Marketplace</a></li>
        
      </div>
      
      </div>
    </ul>
  </div>
</div>


      <div class="search-btn">
        <button class="search-trigger search-icon" aria-label="Search"></button>
      </div>

      <form class="quick-search" action="/devdocs/2.2/guides/v2.2/search.html" method="get" novalidate="novalidate">
        <input type="search" name="query" placeholder="Search" />
        <button class="quick-search-close" aria-label="Close Search">&times;</button>
      </form>

    </div>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>

	</header>

	<div class="global-wrapper">
		
		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Module Reference Guide</h4>
		<div class="collapsible-navigation">
		    <ul><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/intro.html">Introduction</a></li><li class="" role="menuitem"><span>Open Source</span><ul><li class="active" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ce/Sales.html">Sales</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ce/Signifyd.html">Signifyd</a></li></ul></li><li class="" role="menuitem"><span>Commerce</span><ul><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/BundleStaging.html">BundleStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/CatalogImportExportStaging.html">CatalogImportExportStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/CatalogInventoryStaging.html">CatalogInventoryStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/CatalogRuleStaging.html">CatalogRuleStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/CatalogStaging.html">CatalogStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/CatalogUrlRewriteStaging.html">CatalogUrlRewriteStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/CheckoutStaging.html">CheckoutStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/CmsStaging.html">CmsStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/ConfigurableProductStaging.html">ConfigurableProductStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/DownloadableStaging.html">DownloadableStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/GiftCardStaging.html">GiftCardStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/GiftMessageStaging.html">GiftMessageStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/GiftWrappingStaging.html">GiftWrappingStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/GoogleOptimizerStaging.html">GoogleOptimizerStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/GroupedProductStaging.html">GroupedProductStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/LayeredNavigationStaging.html">LayeredNavigationStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/MsrpStaging.html">MsrpStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/PaymentStaging.html">PaymentStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/ProductVideoStaging.html">ProductVideoStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/ReviewStaging.html">ReviewStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/RmaStaging.html">RmaStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/SalesRuleStaging.html">SalesRuleStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/SearchStaging.html">SearchStaging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/Staging.html">Staging</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/ee/WeeeStaging.html">WeeeStaging</a></li></ul></li><li class="" role="menuitem"><span>B2B</span><ul><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/B2b.html">B2b</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/BundleNegotiableQuote.html">BundleNegotiableQuote</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/BundleRequisitionList.html">BundleRequisitionList</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/BundleSharedCatalog.html">BundleSharedCatalog</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/Company.html">Company</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/CompanyCredit.html">CompanyCredit</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/CompanyPayment.html">CompanyPayment</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/ConfigurableNegotiableQuote.html">ConfigurableNegotiableQuote</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/ConfigurableRequisitionList.html">ConfigurableRequisitionList</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/ConfigurableSharedCatalog.html">ConfigurableSharedCatalog</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/GiftCardNegotiableQuote.html">GiftCardNegotiableQuote</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/GiftCardRequisitionList.html">GiftCardRequisitionList</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/GiftCardSharedCatalog.html">GiftCardSharedCatalog</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/GroupedRequisitionList.html">GroupedRequisitionList</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/GroupedSharedCatalog.html">GroupedSharedCatalog</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/NegotiableQuote.html">NegotiableQuote</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/NegotiableQuoteSharedCatalog.html">NegotiableQuoteSharedCatalog</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/QuickOrder.html">QuickOrder</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/RequisitionList.html">RequisitionList</a></li><li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/mrg/b2b/SharedCatalog.html">SharedCatalog</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">








<h1 class="page-heading">Magento_Sales module</h1>
</section>

			<p>Magento_Sales <a href="https://glossary.magento.com/module">module</a> is responsible for order processing and appearance in the system.</p>

<p>Magento_Sales module manages next system entities and flows:</p>

<ul>
  <li>order management</li>
  <li><a href="https://glossary.magento.com/invoice">invoice</a> management</li>
  <li><a href="https://glossary.magento.com/shipment">shipment</a> management (including track management)</li>
  <li>credit memos management</li>
</ul>

<p>Magento_Sales module is required for Magento_Checkout module to perform <a href="https://glossary.magento.com/checkout">checkout</a> operations.</p>

<h2 id="public-api">Public API</h2>

<h2 id="invoiceorder">InvoiceOrder</h2>

<p>The InvoiceOrder service introduces a capability to execute Magento native business flow of the Sales <a href="https://glossary.magento.com/module">module</a> using <a href="https://glossary.magento.com/api">API</a>.</p>

<p>With this service you can:</p>

<ul>
  <li>create an <a href="https://glossary.magento.com/invoice">invoice</a> document (full or partial)</li>
  <li>capture money placed with order payment</li>
  <li>notify a customer about document creation</li>
  <li>change <a href="https://glossary.magento.com/order-status">order status</a> and state</li>
</ul>

<h3 id="parameters">Parameters</h3>

<h4 id="orderid">orderId</h4>

<p>An identifier of a target order for operation.</p>

<p><em>Format:</em> Integer</p>

<p><em>Presence:</em> Required</p>

<h4 id="items">items</h4>

<p>An array of order items that will be included to invoice. By default, the invoice will contain all order items.</p>

<p><em>Format:</em> Array of items with a format according to <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/InvoiceItemCreationInterface.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\InvoiceItemCreationInterface</code></a>.</p>

<p><em>Default:</em> <code class="language-plaintext highlighter-rouge">[]</code></p>

<p><em>Presence:</em> Optional (required, when invoice must contain particular order items.</p>

<p><em>Example:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
      </span><span class="nl">"order_item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"order_item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="capture">capture</h4>

<p>Flag that sets whether the customer’s payment can be captured using an online payments system (for example, PayPal).
<strong>IMPORTANT</strong>: If you created Invoice with the flag set to default value (<code class="language-plaintext highlighter-rouge">false</code>), you will not be able to capture money in Magento on the corresponding Invoice.</p>

<p><em>Format:</em> Boolean</p>

<p><em>Default:</em> false</p>

<p><em>Presence:</em> Optional</p>

<h4 id="notify">notify</h4>

<p>Flag that activates e-mail notification about new invoice for a customer. If <code class="language-plaintext highlighter-rouge">true</code>, the service will notify a customer. If <code class="language-plaintext highlighter-rouge">false</code>, the service won’t notify a customer.</p>

<p><em>Format:</em> Boolean</p>

<p><em>Default:</em> false</p>

<p><em>Presence:</em> Optional</p>

<h4 id="appendcomment">appendComment</h4>

<p>Flag that determines whether a <code class="language-plaintext highlighter-rouge">comment</code> argument must be included in an e-mail notification. If <code class="language-plaintext highlighter-rouge">true</code>, the service adds the comment.</p>

<p><em>Format:</em> Boolean</p>

<p><em>Default:</em> false</p>

<p><em>Presence:</em> Optional</p>

<h4 id="comment">comment</h4>

<p>The comment to add to an invoice. Specify a comment if <code class="language-plaintext highlighter-rouge">appendComment</code> is set to <code class="language-plaintext highlighter-rouge">true</code>.</p>

<p><em>Format:</em> A format according to <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/InvoiceCommentCreationInterface.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\InvoiceCommentCreationInterface</code></a>.</p>

<p><em>Default:</em> null</p>

<p><em>Presence:</em> Optional</p>

<p><em>Example:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The first Invoice"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"is_visible_on_front"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="arguments">arguments</h4>

<p>Additional arguments. Reserved for use by extension modules.</p>

<p><em>Format:</em> A format according to <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/InvoiceCreationArgumentsInterface.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\InvoiceCreationArgumentsInterface</code></a>.</p>

<p><em>Default:</em> null</p>

<p><em>Presence:</em> Optional</p>

<h3 id="return-values">Return values</h3>

<p>The service returns an identifier of the created Invoice.</p>

<h3 id="rest">REST</h3>

<h4 id="post-endpoint">POST Endpoint</h4>

<p><code class="language-plaintext highlighter-rouge">http://&lt;magento_host&gt;/rest/&lt;store_code&gt;/V1/order/&lt;orderId&gt;/invoice</code></p>

<h4 id="rest-declaration">REST declaration</h4>

<p><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/etc/webapi.xml"><code class="language-plaintext highlighter-rouge">etc/webapi.xml</code></a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;route</span> <span class="na">url=</span><span class="s">"/V1/order/:orderId/invoice"</span> <span class="na">method=</span><span class="s">"POST"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">class=</span><span class="s">"Magento\Sales\Api\InvoiceOrderInterface"</span> <span class="na">method=</span><span class="s">"execute"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;resources&gt;</span>
        <span class="nt">&lt;resource</span> <span class="na">ref=</span><span class="s">"Magento_Sales::invoice"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/resources&gt;</span>
<span class="nt">&lt;/route&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="soap">SOAP</h3>

<h4 id="soap-endpoint">SOAP Endpoint</h4>

<p><code class="language-plaintext highlighter-rouge">http://&lt;magento_host&gt;/soap/&lt;store_code&gt;?wsdl&amp;services=salesInvoiceOrderV1</code></p>

<h3 id="php-interface">PHP interface</h3>

<p><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/InvoiceOrderInterface.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\InvoiceOrderInterface</code></a></p>

<h3 id="php-implementation">PHP implementation</h3>

<p><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/InvoiceOrder.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\InvoiceOrder</code></a></p>

<h4 id="exceptions">Exceptions</h4>

<p>In case of failure, it returns an error object. Example in REST:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Creditmemo Document Validation Error(s):</span><span class="se">\n</span><span class="s2">We can't create creditmemo for the order.</span><span class="se">\n</span><span class="s2">The most money available to refund is 0."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="extension-points">Extension points</h4>

<p>The service implementation contains <a href="https://glossary.magento.com/extension">extension</a> points marked with <code class="language-plaintext highlighter-rouge">@api</code> annotation. Extension developers can use APIs to extend service logic.</p>

<table>
  <thead>
    <tr>
      <th>Extension point</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/OrderRepositoryInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderRepositoryInterface</code></a></td>
      <td>An interface for saving and retrieving Orders.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/OrderStateResolverInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\OrderStateResolverInterface</code></a></td>
      <td>An interface which provides a correct state of an Order according to performed operation.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/InvoiceRepositoryInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\InvoiceRepositoryInterface</code></a></td>
      <td>An interface for saving and retrieving Shipments.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/InvoiceDocumentFactory.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\InvoiceDocumentFactory</code></a></td>
      <td>A factory for creating an Invoice data object. The factory uses the <code class="language-plaintext highlighter-rouge">arguments</code> parameter to process the extension attributes of a new Invoice.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/Invoice/NotifierInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Invoice\NotifierInterface</code></a></td>
      <td>An interface for sending notifications about new Invoice creation.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/Validation/InvoiceOrderInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Validation\InvoiceOrderInterface</code></a></td>
      <td>An interface for validating service parameters and Invoice data object.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/PaymentAdapterInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\PaymentAdapterInterface</code></a></td>
      <td>An interface for a payment according to a selected option (online/offline). It returns Order with modified state, which contains payment specific information.</td>
    </tr>
  </tbody>
</table>

<h2 id="refundinvoice">RefundInvoice</h2>

<p>The RefundInvoice service introduces a capability to execute Magento native business flow of the Sales module using API.</p>

<p>Please note, that current service is available only for invoices created using online payment methods. If you try to apply it to an Invoice created using offline payment method, system will throw a validation error.</p>

<p>With this service you can:</p>

<ul>
  <li>create a <a href="https://glossary.magento.com/credit-memo">Credit Memo</a> (complete or partial) for particular Invoice</li>
  <li>add details about refunded items to an Order</li>
  <li>change status and state of an Order according to performed actions</li>
  <li>notify a customer about performed refund operation</li>
</ul>

<h3 id="service-parameters">Service parameters</h3>

<h4 id="invoiceid">invoiceId</h4>

<p>An identifier of a target Invoice for operation.</p>

<p><em>Format:</em> Integer</p>

<p><em>Presence:</em> Required</p>

<h4 id="items-1">items</h4>

<p>An array of invoice items included to a Credit Memo. By default, the service will create a Credit Memo for all invoice items.</p>

<p><em>Format:</em> Array of items with a format according to <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/CreditmemoItemCreationInterface.php"> <code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\CreditmemoItemCreationInterface</code></a>.</p>

<p><em>Default:</em> <code class="language-plaintext highlighter-rouge">[]</code></p>

<p><em>Presence:</em> Optional (required, when a Credit Memo must contain particular order items).</p>

<p><em>Example:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
          </span><span class="nl">"order_item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="nl">"order_item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="isonline">isOnline</h4>

<p>Flag that determines whether funds should be returned to a customer via online payment system (PayPal for example) or not.</p>

<p><em>Format:</em> Boolean</p>

<p><em>Default:</em> false</p>

<p><em>Presence:</em> Optional</p>

<h4 id="notify-1">notify</h4>

<p>Flag that activates e-mail notification about Credit Memo creation. If <code class="language-plaintext highlighter-rouge">true</code>, the service notifies a customer; if <code class="language-plaintext highlighter-rouge">false</code>, it doesn’t.</p>

<p><em>Format:</em> Boolean</p>

<p><em>Default:</em> false</p>

<p><em>Presence:</em> Optional</p>

<h4 id="appendcomment-1">appendComment</h4>

<p>Flag that activates addition of a <code class="language-plaintext highlighter-rouge">comment</code> argument to the e-mail notification. If <code class="language-plaintext highlighter-rouge">true</code> and <code class="language-plaintext highlighter-rouge">comment</code> contains data, the service will add the comment to an e-mail notification.</p>

<p><em>Format:</em> Boolean</p>

<p><em>Default:</em> false</p>

<p><em>Presence:</em> Optional</p>

<h4 id="comment-1">comment</h4>

<p>A comment to Credit Memo.</p>

<p><em>Format:</em> A format according to the <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/CreditmemoCommentCreationInterface.php"> <code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\CreditmemoCommentCreationInterface</code></a>.</p>

<p><em>Default:</em> null</p>

<p><em>Presence:</em> Optional</p>

<p><em>Example:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The first Credit Memo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"is_visible_on_front"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="arguments-1">arguments</h4>

<p>Additional arguments for the service. Can be used by extension modules.</p>

<p><em>Format:</em> A format according to <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/CreditmemoCreationArgumentsInterface.php"> <code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\CreditmemoCreationArgumentsInterface</code></a>.</p>

<p><em>Default:</em> null</p>

<p><em>Presence:</em> Optional</p>

<p><em>Example:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
</span><span class="nl">"shipping_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.00</span><span class="p">,</span><span class="w">
</span><span class="nl">"adjustment_positive"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.00</span><span class="p">,</span><span class="w">
</span><span class="nl">"adjustment_negative"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.00</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>A parameter <code class="language-plaintext highlighter-rouge">shipping_amount</code> behaves like at the Credit Memo creation page in the Admin area. If shipping amount is not specified, then shipping amount from a target Invoice is refunded automatically. To specify a shipping amount, consider shipping tax displays settings.</p>

<h3 id="return-values-1">Return values</h3>

<p>The service returns an identifier of a created Credit Memo.</p>

<h3 id="rest-1">REST</h3>

<h4 id="post-endpoint-1">POST Endpoint</h4>

<p><code class="language-plaintext highlighter-rouge">http://&lt;magento_host&gt;/rest/&lt;store_code&gt;/V1/invoice/&lt;invoiceId&gt;/refund</code></p>

<h4 id="rest-declaration-1">REST Declaration</h4>

<p><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/etc/webapi.xml"><code class="language-plaintext highlighter-rouge">etc/webapi.xml</code></a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;route</span> <span class="na">url=</span><span class="s">"/V1/invoice/:invoiceId/refund"</span> <span class="na">method=</span><span class="s">"POST"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">class=</span><span class="s">"Magento\Sales\Api\RefundInvoiceInterface"</span> <span class="na">method=</span><span class="s">"execute"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;resources&gt;</span>
        <span class="nt">&lt;resource</span> <span class="na">ref=</span><span class="s">"Magento_Sales::sales_invoice"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/resources&gt;</span>
<span class="nt">&lt;/route&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="soap-1">SOAP</h3>

<h4 id="soap-endpoint-1">SOAP Endpoint</h4>

<p><code class="language-plaintext highlighter-rouge">http://&lt;magento_host&gt;/soap/&lt;store_code&gt;?wsdl&amp;services=salesRefundInvoiceV1</code></p>

<h3 id="php-interface-1">PHP interface</h3>

<p><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/RefundInvoiceInterface.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\RefundInvoiceInterface</code></a></p>

<h3 id="php-implementation-1">PHP implementation</h3>

<p><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/RefundInvoice.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\RefundInvoice</code></a></p>

<h4 id="exceptions-1">Exceptions</h4>

<p>In case of failure, it returns an error object. Example in REST:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Creditmemo Document Validation Error(s):</span><span class="se">\n</span><span class="s2">We can't create creditmemo for the order.</span><span class="se">\n</span><span class="s2">The most money available to refund is 0."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="extension-points-1">Extension points</h4>

<p>The service contains extension points marked with <code class="language-plaintext highlighter-rouge">@api</code> annotation. Extension developers can use APIs to extend service logic.</p>

<table>
  <thead>
    <tr>
      <th>Extension point</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/OrderRepositoryInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderRepositoryInterface</code></a></td>
      <td>An interface for saving and retrieving Orders.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/OrderStateResolverInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\OrderStateResolverInterface</code></a></td>
      <td>An interface providing a correct state of an Order according to performed operation.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/InvoiceRepositoryInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\InvoiceRepositoryInterface</code></a></td>
      <td>An interface for saving and retrieving Invoices.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/CreditmemoRepositoryInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\CreditmemoRepositoryInterface</code></a></td>
      <td>An interface for saving and retrieving Credit Memos.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/CreditmemoDocumentFactory.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\CreditmemoDocumentFactory</code></a></td>
      <td>A factory for creating an Credit Memo data object. The factory uses the <code class="language-plaintext highlighter-rouge">arguments</code> parameter to process the extension attributes of a new Credit Memo.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/Shipment/NotifierInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Creditmemo\NotifierInterface</code></a></td>
      <td>An interface for sending notifications about new Credit Memo creation.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/Validation/RefundInvoiceInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Validation\RefundInvoiceInterface</code></a></td>
      <td>An interface for validating service parameters and Credit Memo data object.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/RefundAdapterInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\RefundAdapterInterface</code></a></td>
      <td>An interface for a payment according to a selected option (online/offline). It returns Order with modified state, which contains payment specific information.</td>
    </tr>
  </tbody>
</table>

<h2 id="refundorder">RefundOrder</h2>

<p>With the RefundOrder service you can:</p>

<ul>
  <li>create a Credit Memo (complete or partial) for a particular Order</li>
  <li>add details about refunded items to an Order</li>
  <li>change status and state of an Order according to performed actions</li>
  <li>notify a customer about performed refund operation</li>
</ul>

<h3 id="service-parameters-1">Service parameters</h3>

<h4 id="orderid-1">orderId</h4>

<p>An identifier of a target Order for operation.</p>

<p><em>Format:</em> Integer</p>

<p><em>Presence:</em> Required</p>

<h4 id="items-2">items</h4>

<p>An array of Order items included to a Credit Memo. By default, the service will create a Credit Memo for all Order items.</p>

<p><em>Format:</em> Array of items with a format according to <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/CreditmemoItemCreationInterface.php"> <code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\CreditmemoItemCreationInterface</code></a>.</p>

<p><em>Default:</em> <code class="language-plaintext highlighter-rouge">[]</code></p>

<p><em>Presence:</em> Optional (required, when a Credit Memo must contain particular order items).</p>

<p><em>Example:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
        </span><span class="nl">"order_item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
        </span><span class="nl">"order_item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="notify-2">notify</h4>

<p>Flag that activates e-mail notification about Credit Memo creation. If <code class="language-plaintext highlighter-rouge">true</code>, the service notifies a customer; if <code class="language-plaintext highlighter-rouge">false</code>, it doesn’t.</p>

<p><em>Format:</em> Boolean</p>

<p><em>Default:</em> false</p>

<p><em>Presence:</em> Optional</p>

<h4 id="appendcomment-2">appendComment</h4>

<p>Flag that activates addition of a <code class="language-plaintext highlighter-rouge">comment</code> argument to the e-mail notification. If <code class="language-plaintext highlighter-rouge">true</code> and <code class="language-plaintext highlighter-rouge">comment</code> contains data, the service will add the comment to an e-mail notification.</p>

<p><em>Format:</em> Boolean</p>

<p><em>Default:</em> false</p>

<p><em>Presence:</em> Optional</p>

<h4 id="appendcomment-3">appendComment</h4>

<p>Flag that activates addition of a <code class="language-plaintext highlighter-rouge">comment</code> argument to the e-mail notification. If <code class="language-plaintext highlighter-rouge">true</code> and <code class="language-plaintext highlighter-rouge">comment</code> contains data, the service will add the comment to an e-mail notification.</p>

<p><em>Format:</em> Boolean</p>

<p><em>Default:</em> false</p>

<p><em>Presence:</em> Optional</p>

<h4 id="comment-2">comment</h4>

<p>A comment to Credit Memo.</p>

<p><em>Format:</em> A format according to the <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/CreditmemoCommentCreationInterface.php"> <code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\CreditmemoCommentCreationInterface</code></a>.</p>

<p><em>Default:</em> null</p>

<p><em>Presence:</em> Optional</p>

<p><em>Example:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The first Credit Memo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"is_visible_on_front"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="arguments-2">arguments</h4>

<p>Additional arguments for the service. Can be used by extension modules.</p>

<p><em>Format:</em> A format according to <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/CreditmemoCreationArgumentsInterface.php"> <code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\CreditmemoCreationArgumentsInterface</code></a>.</p>

<p><em>Default:</em> null</p>

<p><em>Presence:</em> Optional</p>

<p><em>Example:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
</span><span class="nl">"shipping_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.00</span><span class="p">,</span><span class="w">
</span><span class="nl">"adjustment_positive"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.00</span><span class="p">,</span><span class="w">
</span><span class="nl">"adjustment_negative"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.00</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>A parameter shipping_amount behaves like at the Credit Memo creation page in the Admin area. If shipping amount is not specified, then shipping amount from a target Invoice is refunded automatically. To specify a shipping amount, consider shipping tax displays settings.</p>

<h3 id="return-values-2">Return values</h3>

<p>The service returns an identifier of a created Credit Memo.</p>

<h3 id="rest-2">REST</h3>

<h4 id="post-endpoint-2">POST Endpoint</h4>

<p><code class="language-plaintext highlighter-rouge">http://&lt;magento_host&gt;/rest/&lt;store_code&gt;/V1/order/&lt;orderId&gt;/refund</code></p>

<h4 id="rest-declaration-2">REST Declaration</h4>

<p><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/etc/webapi.xml"><code class="language-plaintext highlighter-rouge">etc/webapi.xml</code></a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;route</span> <span class="na">url=</span><span class="s">"/V1/order/:orderId/refund"</span> <span class="na">method=</span><span class="s">"POST"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">class=</span><span class="s">"Magento\Sales\Api\RefundOrderInterface"</span> <span class="na">method=</span><span class="s">"execute"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;resources&gt;</span>
        <span class="nt">&lt;resource</span> <span class="na">ref=</span><span class="s">"Magento_Sales::creditmemo"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/resources&gt;</span>
<span class="nt">&lt;/route&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="soap-2">SOAP</h3>

<h4 id="soap-endpoint-2">SOAP Endpoint</h4>

<p><code class="language-plaintext highlighter-rouge">http://&lt;magento_host&gt;/soap/&lt;store_code&gt;?wsdl&amp;services=salesRefundOrderV1</code></p>

<h3 id="php-interface-2">PHP interface</h3>

<p>[\Magento\Sales\Api\RefundOrderInterface][]</p>

<h3 id="php-implementation-2">PHP implementation</h3>

<p><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/RefundOrder.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\RefundOrder</code></a></p>

<h4 id="exceptions-2">Exceptions</h4>

<p>In case of failure, it returns an error object. Example in REST:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Creditmemo Document Validation Error(s):</span><span class="se">\n</span><span class="s2">We can't create creditmemo for the order.</span><span class="se">\n</span><span class="s2">The most money available to refund is 0."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="extension-points-2">Extension points</h4>

<p>The service contains extension points marked with <code class="language-plaintext highlighter-rouge">@api</code> annotation. Extension developers can use APIs to extend service logic.</p>

<table>
  <thead>
    <tr>
      <th>Extension point</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/OrderRepositoryInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderRepositoryInterface</code></a></td>
      <td>An interface for saving and retrieving Orders.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/OrderStateResolverInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\OrderStateResolverInterface</code></a></td>
      <td>An interface providing a correct state of an Order according to performed operation.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/CreditmemoRepositoryInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\CreditmemoRepositoryInterface</code></a></td>
      <td>An interface for saving and retrieving Credit Memos.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/CreditmemoDocumentFactory.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\CreditmemoDocumentFactory</code></a></td>
      <td>A factory for creating an Credit Memo data object. The factory uses the <code class="language-plaintext highlighter-rouge">arguments</code> parameter to process the extension attributes of a new Credit Memo.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/Shipment/NotifierInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Creditmemo\NotifierInterface</code></a></td>
      <td>An interface for sending notifications about new Credit Memo creation.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/Validation/RefundOrderInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Validation\RefundOrderInterface</code></a></td>
      <td>An interface for validating service parameters and Credit Memo data object.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/RefundAdapterInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\RefundAdapterInterface</code></a></td>
      <td>An interface for a payment according to a selected option (online/offline). It returns Order with modified state, which contains payment specific information.</td>
    </tr>
  </tbody>
</table>

<h2 id="shiporder">ShipOrder</h2>

<p>With the ShipOrder service you can:</p>

<ul>
  <li>create a <a href="https://glossary.magento.com/shipment">shipment</a> document (full or partial)</li>
  <li>add details about shipped items into an order</li>
  <li>change status and state of an order according to performed actions</li>
  <li>notify the customer of a new <a href="https://glossary.magento.com/shipment-document">shipment document</a></li>
</ul>

<h3 id="service-parameters-2">Service parameters</h3>

<h4 id="orderid-2">orderId</h4>

<p>An identifier of a target order for operation.</p>

<p><em>Format:</em> Integer</p>

<p><em>Presence:</em> Required</p>

<h4 id="items-3">items</h4>

<p>An array of order items included to a shipment. By default, the service will create a shipment for all order items.</p>

<p><em>Format:</em> Array of items with a format according to <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/ShipmentItemCreationInterface.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\ShipmentItemCreationInterface</code></a>.</p>

<p><em>Default:</em> <code class="language-plaintext highlighter-rouge">[]</code></p>

<p><em>Presence:</em> Optional (required, when a shipment document must contain particular order items).</p>

<p><em>Example:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
      </span><span class="nl">"order_item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
      </span><span class="nl">"order_item_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"qty"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="notify-3">notify</h4>

<p>Flag that activates e-mail notification about shipment details. If <code class="language-plaintext highlighter-rouge">true</code>, the service notifies a customer; if <code class="language-plaintext highlighter-rouge">false</code>, it doesn’t.</p>

<p><em>Format:</em> Boolean</p>

<p><em>Default:</em> false</p>

<p><em>Presence:</em> Optional</p>

<h4 id="appendcomment-4">appendComment</h4>

<p>Flag that activates addition of a <code class="language-plaintext highlighter-rouge">comment</code> argument to the e-mail notification. If <code class="language-plaintext highlighter-rouge">true</code> and <code class="language-plaintext highlighter-rouge">comment</code> contains data, the service will add the comment to an e-mail notification.</p>

<p><em>Format:</em> Boolean</p>

<p><em>Default:</em> false</p>

<p><em>Presence:</em> Optional</p>

<h4 id="comment-3">comment</h4>

<p>A comment about a shipment.</p>

<p><em>Format:</em> A format according to the <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/CreditmemoCommentCreationInterface.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\CreditmemoCommentCreationInterface</code></a> interface.</p>

<p><em>Default:</em> null</p>

<p><em>Presence:</em> Optional</p>

<p><em>Example:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
    </span><span class="nl">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The first Invoice"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"is_visible_on_front"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="tracks">tracks</h4>

<p>A list of track numbers attached to a shipment.</p>

<p><em>Format:</em> Array of objects with a format according to <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/ShipmentTrackCreationInterface.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\ShipmentTrackCreationInterface&gt;</code></a>.</p>

<p><em>Default:</em> <code class="language-plaintext highlighter-rouge">[]</code></p>

<p><em>Presence:</em> Optional</p>

<p><em>Example:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"track_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132456789"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"United States Postal Service"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"carrier_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usps"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="packages">packages</h4>

<p>A list of packages attached to a shipment.</p>

<p><em>Format:</em> Array of objects with a format according to <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/ShipmentPackageCreationInterface.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\ShipmentPackageCreationInterface</code></a>.</p>

<p><em>Default:</em> <code class="language-plaintext highlighter-rouge">[]</code></p>

<p><em>Presence:</em> Optional</p>

<p><em>Example:</em></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"extension_attributes"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ups"</span><span class="p">:</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
                </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="arguments-3">arguments</h4>

<p>Additional arguments for the service. Can be used by extension modules.</p>

<p><em>Format:</em> A format according to the <a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/Data/CreditmemoCreationArgumentsInterface.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\Data\CreditmemoCreationArgumentsInterface</code></a> interface.</p>

<p><em>Default:</em> null</p>

<p><em>Presence:</em> Optional</p>

<h3 id="return-values-3">Return values</h3>

<p>The service returns the identifier of a created shipment.</p>

<h3 id="rest-3">REST</h3>

<h4 id="post-endpoint-3">POST Endpoint</h4>

<p><code class="language-plaintext highlighter-rouge">http://&lt;magento_host&gt;/rest/&lt;store_code&gt;/V1/order/&lt;orderId&gt;/ship</code></p>

<h4 id="rest-declaration-3">REST Declaration</h4>

<p><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/etc/webapi.xml"><code class="language-plaintext highlighter-rouge">etc/webapi.xml</code></a></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;route</span> <span class="na">url=</span><span class="s">"/V1/order/:orderId/ship"</span> <span class="na">method=</span><span class="s">"POST"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;service</span> <span class="na">class=</span><span class="s">"Magento\Sales\Api\ShipOrderInterface"</span> <span class="na">method=</span><span class="s">"execute"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;resources&gt;</span>
        <span class="nt">&lt;resource</span> <span class="na">ref=</span><span class="s">"Magento_Sales::ship"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/resources&gt;</span>
<span class="nt">&lt;/route&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="soap-3">SOAP</h3>

<h4 id="soap-endpoint-3">SOAP Endpoint</h4>

<p><code class="language-plaintext highlighter-rouge">http://&lt;magento_host&gt;/soap/&lt;store_code&gt;?wsdl&amp;services=salesShipOrderV1</code></p>

<h3 id="php-interface-3">PHP interface</h3>

<p><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/ShipOrderInterface.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\ShipOrderInterface</code></a></p>

<h3 id="php-implementation-3">PHP implementation</h3>

<p><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/ShipOrder.php"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\ShipOrder</code></a></p>

<h4 id="exceptions-3">Exceptions</h4>

<p>In case of failure, it returns an error object. Example in REST:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Creditmemo Document Validation Error(s):</span><span class="se">\n</span><span class="s2">We can't create creditmemo for the order.</span><span class="se">\n</span><span class="s2">The most money available to refund is 0."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="extension-points-3">Extension points</h4>

<p>The service contains extension points marked with <code class="language-plaintext highlighter-rouge">@api</code> annotation. Extension developers can use APIs to extend service logic.</p>

<table>
  <thead>
    <tr>
      <th>Extension point</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/OrderRepositoryInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\OrderRepositoryInterface</code></a></td>
      <td>An interface for saving and retrieving Orders.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/OrderStateResolverInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\OrderStateResolverInterface</code></a></td>
      <td>An interface providing a correct state of an Order according to performed operation.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Api/ShipmentRepositoryInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Api\ShipmentRepositoryInterface</code></a></td>
      <td>An interface for saving and retrieving Shipments.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/ShipmentDocumentFactory.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\ShipmentDocumentFactory</code></a></td>
      <td>A factory creating a Shipment data object. The factory uses the <code class="language-plaintext highlighter-rouge">arguments</code> parameter to process the extension attributes of a new shipment document.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/Shipment/NotifierInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Shipment\NotifierInterface</code></a></td>
      <td>An interface for sending notifications about new Shipment creation.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/Validation/ShipOrderInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Validation\ShipOrderInterface</code></a></td>
      <td>An interface for validating the service parameters and created Shipment data object.</td>
    </tr>
    <tr>
      <td><a href="https://github.com/magento/magento2/blob/2.2/app/code/Magento/Sales/Model/Order/Shipment/OrderRegistrarInterface.php" target="_blank"><code class="language-plaintext highlighter-rouge">\Magento\Sales\Model\Order\Shipment\OrderRegistrarInterface</code></a></td>
      <td>An interface for registering a Shipment in Order to update amount of shipped items in a given Order according to Shipment. The <code class="language-plaintext highlighter-rouge">execute</code> method returns an updated Order.</td>
    </tr>
  </tbody>
</table>

<!-- LINK DEFINITIONS -->


			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  
  <div class="page-updated">
    <img src="/devdocs/2.2/i/icons/time.svg" alt="Updated" />
    <time id="last-modified-at" itemprop="dateModified" datetime="2019-12-10">
      Dec 10th, 2019
    </time>
  </div>
  

  

  

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links" role="menu">

  <li class="" role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md">Become a Contributor</a></li>

  <li class="" role="menuitem"><a href="https://glossary.magento.com/">Glossary</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/privacy/">Privacy Policy</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/">Terms of Service</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/licensing/">License/Trademark FAQ</a></li>

  <li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/release-notes/bk-release-notes.html">Release Notes</a></li>

  <li class="" role="menuitem"><a href="/devdocs/2.2/guides/v2.2/release-notes/packages-open-source.html">Third-Party Licenses</a></li>

</ul>

    </div>

		<div class="copyright-date">&copy; 2023 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/devdocs/2.2/assets/js/app.min.js?ver=7"></script>





<script type="text/javascript" src="/devdocs/2.2/common/js/last-modified-at.js"></script>
<script type="text/javascript" src="/devdocs/2.2/common/js/glossary-link-enhancer.js"></script>


</body>
</html>

