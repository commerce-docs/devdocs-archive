<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>How CSS and Less files are preprocessed and how to debug them | Archived Magento 2.2 Developer Documentation</title>
	<meta name="description" content="Archived Magento 2 Developer Documentation.">

	<link rel="stylesheet" href="/devdocs-archive/2.2/assets/css/app.css?ver=7" />
	<link rel="stylesheet" href="/devdocs-archive/2.2/assets/css/print.css?ver=7" media="print"/>

	<link rel="stylesheet" href="/devdocs-archive/2.2/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />



<meta name="google-site-verification" content="3WFsoYwBe6UuxDwgs7bmd7t0YFQVzDpLpWLjNh0CUp8" />

	<script>
  var baseUrl = "/devdocs-archive/2.2";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c",
  };

  var indices = [
    {
      label: "DevDocs",
      name: "devdocs",
      facetFilters: [["guide_version: 2.2", "versionless: true"]],
      refinements: [
        {
          label: "Functional areas",
          attribute: "functional_areas"
        }
      ],
      baseUrl: "https://devdocs.magento.com"
    },
    {
      label: "User Guide",
      name: "merchdocs_ee",
      baseUrl: "https://docs.magento.com/m2/ee/user_guide"
    },
    {
      label: "MBI User Guide",
      name: "merchdocs-mbi",
      baseUrl: "https://docs.magento.com/mbi"
    },
    {
      label: "Marketplace User Guide",
      name: "merchdocs-marketplace",
      baseUrl: "https://docs.magento.com/marketplace/user_guide"
    },
    {
      label: "PWA",
      name: "pwa-devdocs",
      baseUrl: "https://magento.github.io/pwa-studio"
    },
    {
      label: "Order Management",
      name: "oms-en",
      baseUrl: "https://omsdocs.magento.com"
    }
  ];
</script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">


	<header class="site-header">
		

<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" href="/devdocs-archive/2.2/">
      <img src="/devdocs-archive/2.2/assets/i/m-logo.svg" alt=""><img src="/devdocs-archive/2.2/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      


<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" disabled>
		Magento 2.2
	</button>
</div>


      <!-- Main Navigation --><ul class="nav-main" role="menubar"><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Cloud</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Cloud basics</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/bk-cloud.html">Cloud Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/architecture/cloud-architecture.html">Cloud Architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-upgrade-parent.html">Upgrades and Patches</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/release-notes/cloud-tools.html">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Cloud development</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/setup/first-time-setup.html">Local development</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-config.html">Launch Docker</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-quick-reference.html">Docker quick reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/environments.html">Configure Environments</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/install-gde/bk-install-guide.html">Installation Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/extensions/">Magento Extensions Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/comp-mgr/bk-compman-upgrade-guide.html">Software Update Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/bk-config-guide.html">Configuration Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/performance-best-practices/introduction.html">Performance Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/migration/bk-migration-guide.html">Migration Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/bk-release-notes.html">Release Information</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/reference/cli/magento.html">Command-line Tools Reference</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Backend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/architecture/bk-architecture.html">Architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/mrg/intro.html">Module Reference Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/coding-standards/bk-coding-standards.html">Coding Standards</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/contributor-guide/contributing.html">Contributor Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Frontend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">API</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/rest/bk-rest.html">REST API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/soap/bk-soap.html">SOAP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/marketplace/eqp/v1/api.html">Marketplace EQP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/mbi/docs/getting-started.html">Business Intelligence API</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/testing.html">Magento Testing Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/mftf/docs/introduction.html">Functional Acceptance Testing (MFTF)</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/mtf/mtf_introduction.html">Functional Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/integration/integration_test_execution.html">Integration Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/js/jasmine.html">JavaScript Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/unit/unit_test_execution.html">PHP Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/advanced-reporting/overview.html">Advanced Reporting</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/b2b/bk-b2b.html">B2B</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/howdoi/checkout/checkout_overview.html">Checkout</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/compliance/industry-compliance.html">Compliance</a></li><li class="" role="menuitem"><a href="http://omsdocs.magento.com/en/">Order Management</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/payments-integrations/bk-payments-integrations.html">Payment Integrations</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/extension-dev-guide/staging.html">Staging</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/rest/tutorials/index.html">Rest Tutorials</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/howdoi/customize_product.html">Customize Product Creation Form</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/howdoi/checkout/checkout_overview.html">Customize Checkout</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/community/resources/support.html">Magento Support</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/videos/">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="nav-actions">
      
<div class="app-switcher">
  <div class="dropdown">
    <button id="app-switcher-trigger" class="app-switcher-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Documentation sites"></button>
    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="app-switcher-trigger" role="menu">
      <div class="app-switcher-content">
      
      <div class="app-switcher-group">
        <h3 class="app-swither-group-title">Developer</h3>
        
        <li role="menuitem"><a class="dropdown-item" href="https://devdocs.magento.com/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce Developer Documentation">Commerce Developer Documentation</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="http://pwastudio.io/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=PWA Studio">PWA Studio</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://omsdocs.magento.com/en/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
      </div>
      
      <div class="app-switcher-group">
        <h3 class="app-swither-group-title">Merchant</h3>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/m2/ee/user_guide/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce User Guide">Commerce User Guide</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://omsdocs.magento.com/en/userguides/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/mbi/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Business Intelligence">Business Intelligence</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/marketplace/user_guide/getting-started.html?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Marketplace">Marketplace</a></li>
        
      </div>
      
      </div>
    </ul>
  </div>
</div>


      <div class="search-btn">
        <button class="search-trigger search-icon" aria-label="Search"></button>
      </div>

      <form class="quick-search" action="/devdocs-archive/2.2/guides/v2.2/search.html" method="get" novalidate="novalidate">
        <input type="search" name="query" placeholder="Search" />
        <button class="quick-search-close" aria-label="Close Search">&times;</button>
      </form>

    </div>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>

	</header>

	<div class="global-wrapper">
		
		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Frontend Developer Guide</h4>
		<div class="collapsible-navigation">
		    <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/bk-frontend-dev-guide.html">Introduction</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/conventions.html">Conventional notations used in this Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/cache_for_frontdevs.html">Magento cache overview</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/theme-best-practice.html">Theme development best practices</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/theme-general.html">Themes</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/theme-overview.html">Themes overview</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/theme-install.html">Install a third-party storefront theme</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/theme-uninstall.html">Uninstall a storefront theme</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/admin_theme_create.html">Create an Admin theme</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/admin_theme_apply.html">Apply an Admin theme</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/theme-create.html">Create a new storefront theme</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/theme-apply.html">Apply and configure a storefront theme</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/debug-theme.html">Locate templates, layouts, and styles</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/theme-structure.html">Magento theme structure</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/theme-inherit.html">Theme inheritance</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/favicon.html">Adding custom favicons</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/theme-images.html">Configure theme properties</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/product-video.html">Configure product video</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/js-bundling.html">JavaScript Bundling</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/layouts/layout-overview.html">Layout</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/layouts/xml-instructions.html">Layout instructions</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/layouts/layout-types.html">Layout file types</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/layouts/product-layouts.html">Product layouts</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/layouts/layout-extend.html">Extend a layout</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/layouts/layout-override.html">Override a layout</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/layouts/xml-manage.html">Common layout customization tasks</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/layouts/layout-practice.html">Customizing layout illustration</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/templates/template-overview.html">Templates</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/templates/template-override.html">Templates basic concepts</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/templates/template-walkthrough.html">Templates customization walkthrough</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/templates/template-sample.html">Templates customization sample</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/templates/template-email.html">Email templates</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/css-overview.html">Cascading style sheets (CSS)</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/css-themes.html">Include CSS</a></li><li class="active" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/css-preprocess.html">CSS and LESS preprocessing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/css_debug.html">Compile LESS using Grunt</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/theme-ui-lib.html">Magento UI library</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/css-jquery.html">Using jQuery UI styles</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/css-practice.html">Customizing styles illustration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/using-fonts.html">Using custom fonts</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/css-critical-path.html">CSS critical path</a></li><li class="" role="menuitem"><span>Using custom CSS preprocessor</span><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/custom_preprocess.html">Add custom CSS preprocessor</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/gulp-sass.html">Use Sass preprocessor and Gulp task runner</a></li></ul></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-guide/css_quick_guide_overview.html">Quick start guide to styles</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-guide/css_quick_guide_approach.html">Simple ways to customize a theme's styles</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-guide/css_quick_guide_mode.html">Simple style changes with client-side LESS compilation vs. server-side</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/responsive-web-design/rwd_overview.html">How to Make Your Theme Responsive and Mobile</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/responsive-web-design/rwd_css.html">CSS in responsive design</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/responsive-web-design/rwd_js.html">JavaScript in Magento responsive design</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/responsive-web-design/rwd_mobile.html">Create a responsive mobile theme based on a default theme</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/responsive-web-design/rwd_practice.html">Customizing RWD illustration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/responsive-web-design/rwd-breakpoints.html">Add a custom breakpoint</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/translations/xlate.html">Translations</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/translations/theme_dictionary.html">Use translation dictionary to customize strings</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/translations/translate_theory.html">Translate theme strings</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/translations/translate_practice.html">Example theme translation dictionary</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/validations/form-validation.html">Form validation</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/tools/tools_overview.html">Tools</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/tools/using_grunt.html">Using Grunt for Magento tasks</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">








<h1 class="page-heading">How CSS and Less files are preprocessed and how to debug them</h1>
</section>

			<h2 id="preproc_over">What’s in this topic</h2>

<p>The topic describes how stylesheets are preprocessed and compiled to <a href="https://glossary.magento.com/css">CSS</a> in the Magento application. It provides the theoretical background a <a href="https://glossary.magento.com/frontend">frontend</a> developer needs to debug stylesheets effectively.</p>

<h2 id="css_preprocess_terms">Terms used</h2>

<table>
    <tr>
        <th>
            Term
        </th>
        <th>
            Description
        </th>
    </tr>
    <tr>
        <td>
            <p>Root source files</p>
        </td>
        <td>
            The <code>.less</code> files from which the <code>.css</code> files <a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/css-themes.html">included in layout</a> are compiled. For example, in one of the <a href="https://github.com/magento/magento2/blob/2.2/app/design/frontend/Magento/blank/Magento_Theme/layout/default_head_blocks.xml">layout files of the Magento Blank theme</a>, the following <code>.css</code> files are included in the <code>head</code>:
<pre>
&lt;head&gt;
    &lt;css src="css/styles-m.css"/&gt;
    &lt;css src="css/styles-l.css" media="screen and (min-width: 768px)"/&gt;
    &lt;css src="css/print.css" media="print"/&gt;
&lt;/head&gt;
</pre>
   The root source files for the Blank theme:
  <ul>
   <li><a href="https://github.com/magento/magento2/blob/2.2/app/design/frontend/Magento/blank/web/css/styles-m.less">Magento_Blank_theme_dir/web/css/styles-m.less</a></li>
   <li><a href="https://github.com/magento/magento2/blob/2.2/app/design/frontend/Magento/blank/web/css/styles-l.less">Magento_Blank_theme_dir/web/css/styles-l.less</a></li>
   <li><a href="https://github.com/magento/magento2/blob/2.2/app/design/frontend/Magento/blank/web/css/print.less">Magento_Blank_theme_dir/web/css/print.less</a></li>
  </ul>
 </td>
 </tr>
</table>

<h2 id="less_modes">Less compilation modes</h2>

<p>In the Magento application, the following modes of compiling <code class="language-plaintext highlighter-rouge">.less</code> files to CSS are implemented:</p>

<ol>
  <li>
    <p>Server-side Less compilation.</p>

    <p>This is the default compilation mode, and is the only option in <a href="/devdocs-archive/2.2/guides/v2.2/config-guide/bootstrap/magento-modes.html#production-mode">production application mode</a>. In this case the compilation is performed on the server, using the <a href="https://github.com/oyejorge/less.php">Less PHP library</a>.</p>
  </li>
  <li>
    <p>Client-side Less compilation.</p>

    <p>When your application is not in the production mode, you can set Magento to compile <code class="language-plaintext highlighter-rouge">.less</code> files in a browser, using the <a href="http://lesscss.org/usage/#using-less-in-the-browser">native <code class="language-plaintext highlighter-rouge">less.js</code> library</a></p>
  </li>
</ol>

<p>To set the compilation mode, do the following:</p>

<ol>
  <li>In the Magento Admin, navigate to <strong>Stores</strong> &gt; <strong>Settings</strong> &gt; <strong>Configuration</strong> &gt; ADVANCED &gt; <strong>Developer</strong>.</li>
  <li>In the <strong>Store View</strong> drop-down field, select <strong>Default Config</strong>.</li>
  <li>Under <strong>Frontend development workflow</strong>, in the <strong>Workflow type</strong> field, select the compilation mode.</li>
  <li>To save the settings, click <strong>Save Config</strong>.</li>
</ol>

<h3 id="server-side">Server-side Less compilation</h3>

<p>The following paragraph describes how the Less preprocessor works in server-side compilation mode.
For each CSS file included in the layouts, Less preprocessor does the following:</p>

<ol>
  <li>Checks if the requested <code class="language-plaintext highlighter-rouge">.css</code> file is found. If it is found, the preprocessor stops its execution. Otherwise, it proceeds to the next step.</li>
  <li>Changes the extension of the requested file to <code class="language-plaintext highlighter-rouge">.less</code> and tries to find the file using the <a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/theme-inherit.html#theme-inherit-static">Magento fallback mechanism</a>. If the <code class="language-plaintext highlighter-rouge">.less</code> file is not found, Less preprocessor stops its execution. Otherwise, it proceeds to the next step.</li>
  <li>
    <p>Reads <code class="language-plaintext highlighter-rouge">.less</code> file contents and resolves <a href="#fedg_css-magento-import"><code class="language-plaintext highlighter-rouge">@magento_import</code></a> and default Less <code class="language-plaintext highlighter-rouge">@import</code> directives.</p>
  </li>
  <li>
    <p>Resolves all paths in <code class="language-plaintext highlighter-rouge">.less</code> files to relative paths in the system using the Magento fallback mechanism. All files resolved by the Less preprocessor are copied to <code class="language-plaintext highlighter-rouge">var/view_preprocessed/less</code>. Imported files are processed recursively.</p>
  </li>
  <li>All source files are passed to the PHP Less compiler. The resulting compiled <code class="language-plaintext highlighter-rouge">.css</code> files are published to <code class="language-plaintext highlighter-rouge">pub/static/frontend/&lt;Vendor&gt;/&lt;theme&gt;/&lt;locale&gt;</code>.</li>
</ol>

<h4 id="css_debug_server">Styles debugging in server-side compilation mode</h4>

<p>In server-side Less compilation mode, to have your changes applied, you need to do the following:</p>

<ol>
  <li>Clear <code class="language-plaintext highlighter-rouge">pub/static/frontend/&lt;Vendor&gt;/&lt;theme&gt;/&lt;locale&gt;</code> by deleting the directory in the file system (excluding .htaccess).</li>
  <li>Clear the <code class="language-plaintext highlighter-rouge">var/cache</code> and <code class="language-plaintext highlighter-rouge">var/view_preprocessed</code> directories by deleting the directory in the file system. (if they already existed there).</li>
  <li>
    <p>Trigger <a href="https://glossary.magento.com/static-files">static files</a> compilation and publication. This can be done in one of the following ways:</p>

    <ul>
      <li>Reloading the page where the modified styles are applied.</li>
      <li>Running the <a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-static-view.html">static files deployment tool</a>.</li>
    </ul>
  </li>
</ol>

<p>Reloading the page only triggers compilation and publication of the styles used on this very page, and does not give you the information about the errors if any. So if you made changes in <code class="language-plaintext highlighter-rouge">.less</code> files used on many pages, and want to debug them, using the deployment tool is the better option.</p>

<h5 id="debugging-using-the-static-view-files-deployment-tool">Debugging using the static view files deployment tool</h5>

<p>Once you save your changes, run the following command from your <code class="language-plaintext highlighter-rouge">&lt;Magento_root&gt;</code> directory:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>bin/magento setup:static-content:deploy
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The tool pre-processes (including compilation) and publishes the static view files.</p>

<p class="bs-callout-info">Manual static content deployment is not required in “default” and “developer” modes. If you still want to deploy in these modes, use the -f option: <code class="language-plaintext highlighter-rouge">bin/magento setup:static-content:deploy -f</code>. Read more about the command in the <a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-static-view.html">Deploy static view files</a> section.</p>

<p>All errors occurring during <code class="language-plaintext highlighter-rouge">.less</code> files compilation are handled by the <a href="https://github.com/oyejorge/less.php"><code class="language-plaintext highlighter-rouge">oyejorge/less.php</code></a> third party library.</p>

<p>Errors are caught as exceptions and written to the system log (by default it is <code class="language-plaintext highlighter-rouge">var/log/system.log</code>) and displayed on the screen. For each error, the following information is written:</p>

<ul>
  <li>The path to the processed file in the <code class="language-plaintext highlighter-rouge">var/view_preprocessed</code> directory.</li>
  <li>The error description, including the path to file where the actual error occurred. It might be either the processed file, or the imported file.</li>
  <li>The error line and the column number.</li>
  <li>The content of the <code class="language-plaintext highlighter-rouge">.less</code> code in the previous and following lines.</li>
</ul>

<p>Example of an error message:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="go">Compilation from source: /var/www/magento2/app/design/adminhtml/Magento/backend/web/css/styles.less
variable @variable-x is undefined in file /var/www/magento2/var/view_preprocessed/css/adminhtml/Magento/backend/en_US/css/styles.less in styles.less on line 56, column 17
</span><span class="gp">        margin-left: 0;</span><span class="w">
</span><span class="gp">        width: 100%;</span><span class="w">
</span><span class="gp">        height: @variable-x;</span><span class="w">
</span><span class="go">    }
    .menu-wrapper,
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h5 id="debugging-using-grunt">Debugging using Grunt</h5>

<p>Alternatively, to streamline the process of applying and debugging styles customizations, in server-side compilation mode, you can</p>

<p>See the <a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/css_debug.html">Compile LESS with Grunt</a> topic for details how to install, configure and use Grunt.</p>

<h3 id="client-side">Client-side LESS compilation</h3>

<p>The client-side compilation flow is similar to <a href="#server-side">server-side</a>. The difference is in the set of files, published to <code class="language-plaintext highlighter-rouge">pub/static</code> on the last step. In the client-side mode, the following files are published to the <code class="language-plaintext highlighter-rouge">pub/static/frontend/&lt;Vendor&gt;/&lt;theme&gt;/&lt;locale&gt;</code> directory:</p>

<ul>
  <li>root source (.less) files with resolved <code class="language-plaintext highlighter-rouge">@magento_import</code> directive</li>
  <li><a href="http://en.wikipedia.org/wiki/Symbolic_link">symlinks</a> to the root source file that do not contain <code class="language-plaintext highlighter-rouge">@magento_import</code></li>
  <li>symlinks to all other `.less` files imported recursively by the <code class="language-plaintext highlighter-rouge">@magento_import</code> and <code class="language-plaintext highlighter-rouge">@import</code> directives</li>
</ul>

<p class="bs-callout-info">Symlink is not created, and a copy of the processed file is published to <code class="language-plaintext highlighter-rouge">pub/static</code> instead, if the source file differs from the processed one. One of the reasons of this difference might be the usage of the <code class="language-plaintext highlighter-rouge">@import</code> directive without file extension in the source file. See <a href="#fedg_css-import">The @import directive usage</a> for more details.</p>

<h4 id="css_debug_client">Styles debugging in client-side compilation mode</h4>

<p>Client-side LESS compilation is implemented using the native <code class="language-plaintext highlighter-rouge">less.js</code> library. The default configuration is set in <code class="language-plaintext highlighter-rouge">lib/web/less/config.less.js</code>; you can change it as needed.</p>

<p>You can find the detailed information about the configuration and other options of the <code class="language-plaintext highlighter-rouge">less.js</code> used in a browser at <a href="http://lesscss.org/usage/#using-less-in-the-browser">http://lesscss.org/usage/#using-less-in-the-browser</a>.</p>

<p>In client-side compilation mode, most of the stylesheet customizations display immediately after you reload a page in a browser.</p>

<p>With client-side compilation mode enabled, LESS files are compiled on every page load. This reduces page-loading performance.</p>

<h5 id="css_exception">When you need to clean static view files</h5>

<p>There are certain types of changes, that require you to clear the <code class="language-plaintext highlighter-rouge">pub/static/frontend/&lt;Vendor&gt;/&lt;theme&gt;/&lt;locale&gt;</code> directory and trigger the compilation and <a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-static-view.html#config-cli-static-overview">publication</a> processes anew.</p>

<p>This is required in the following cases:</p>

<ul>
  <li>If you change the <a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/css-preprocess.html#css_preprocess_terms">root source files</a> that contain the <code class="language-plaintext highlighter-rouge">@magento_import</code> directive, or the <code class="language-plaintext highlighter-rouge">@import</code> directive where the imported file is specified without extension.</li>
  <li>If you rename, remove, or add a <code class="language-plaintext highlighter-rouge">.less</code> file imported with a <code class="language-plaintext highlighter-rouge">@magento_import</code> or <code class="language-plaintext highlighter-rouge">@import</code> directive but you did not correct the directives accordingly.</li>
</ul>

<p>To clear the <code class="language-plaintext highlighter-rouge">pub/static/frontend/&lt;Vendor&gt;/&lt;theme&gt;/&lt;locale&gt;</code> directory, delete the directory in the file system, and reload the store pages in a browser to trigger compilation and publication.</p>

<h2 id="fedg_css-import">The <code class="language-plaintext highlighter-rouge">@import</code> directive rules of usage</h2>

<p>You can import local and remote <code class="language-plaintext highlighter-rouge">.less</code> and <code class="language-plaintext highlighter-rouge">.css</code> files in your <code class="language-plaintext highlighter-rouge">.less</code> Magento stylesheets by using the standard LESS <a href="http://lesscss.org/features/#import-directives-feature"><code class="language-plaintext highlighter-rouge">@import</code> directive</a>.
According to the <code class="language-plaintext highlighter-rouge">@import</code> syntax, specifying the file extension for the imported file is not mandatory. For example, the following notation is allowed:</p>

<pre><code class="language-less">@import 'source/lib/_lib';
@import (css) 'styles';
</code></pre>

<p>But in process of resolving the file path, Magento adds the <code class="language-plaintext highlighter-rouge">.less</code> extension for the imported files in all <code class="language-plaintext highlighter-rouge">@import</code> entrees. So in the processed files, the statements from the previous example will look like following:</p>

<pre><code class="language-less">@import 'source/lib/_lib.less';
@import (css) 'styles.less';
</code></pre>

<p>As a result, the processed files are different from the source files. So in the <a href="#client-side">client-side compilation mode</a> or when using <a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/css_debug.html">grunt commands</a>, Magento cannot use symlinks to the source files. Instead it uses the copies of processed files, and they are published to the <code class="language-plaintext highlighter-rouge">pub/static</code> directory. In case of importing CSS resources, this also results in not finding and not importing the required files.</p>

<h3 id="importing-remote-css-files">Importing remote CSS files</h3>

<p>If you need to import a remote CSS file in your <code class="language-plaintext highlighter-rouge">.less</code> source, use <code class="language-plaintext highlighter-rouge">url()</code> notation. For example, to import a Google font, use the following notation:</p>

<pre><code class="language-less">@import url('//fonts.googleapis.com/css?family=Titillium+Web:400,300,200,600.css');
</code></pre>

<p>To <a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/css-topics/using-fonts.html">include the font</a> in your theme’s CSS files, use the <code class="language-plaintext highlighter-rouge">@font-face</code> CSS rule for the fastest loading time.</p>

<p>This way Magento will skip the <code class="language-plaintext highlighter-rouge">@import</code> directive while resolving paths to the local resources.</p>

<h2 id="fedg_css-magento-import">The @magento_import directive</h2>

<p><code class="language-plaintext highlighter-rouge">@magento_import</code> is a Magento-specific LESS directive that allows including multiple files by a name pattern. It is used to include files with the same name from the different locations, for example, different modules.
The standard <code class="language-plaintext highlighter-rouge">@import</code> directive includes a single file, which is found according to the <a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/themes/theme-inherit.html#theme-inherit-static">static files fallback</a>.</p>

<p><code class="language-plaintext highlighter-rouge">@magento_import</code> can be used in the root source files of a theme only.</p>

<h3 id="magento-import-usage">@magento_import rules of usage</h3>

<p>To include a <code class="language-plaintext highlighter-rouge">.less</code> file using the <code class="language-plaintext highlighter-rouge">@magento_import</code> directive:</p>

<ol>
  <li>
    <p>To avoid any conflicts with the original LESS syntax, <code class="language-plaintext highlighter-rouge">@magento_import</code> must be commented out with two slashes. Otherwise, the LESS preprocessor ignores it.</p>

    <p><strong>Example:</strong></p>

    <pre><code class="language-less">//  Comment in a LESS document

//  Standard LESS import directive
//  ---------------------------------------------

@import 'source/_reset';
@import '_styles';

//
//  Custom Magento LESS import directives
//  ---------------------------------------------

//@magento_import 'source/_module.less'; // Theme modules
//@magento_import 'source/_widgets.less'; // Theme widgets
//@magento_import 'source/_extend.less'; // Extend for minor customization
</code></pre>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">@magento_import</code> must contain the file path. The path is specified relatively to the file, where the directive is called and put in either single (‘’) or double quotes (“”). The best practice is to specify the file extension in the path, though technically you can omit this.</p>
  </li>
</ol>

<h3 id="magento_import_example">@magento_import processing</h3>

<p>In the scope of static resources preprocessing, the built-in LESS preprocessor does the following:</p>

<ol>
  <li>Searches for all <code class="language-plaintext highlighter-rouge">@magento_import</code> directives.</li>
  <li>Replaces the original <code class="language-plaintext highlighter-rouge">@magento_import</code> directives with the standard <code class="language-plaintext highlighter-rouge">@import</code> directives. The latter specify the paths to the particular files that correspond to the pattern specified in <code class="language-plaintext highlighter-rouge">@magento_import</code>.</li>
</ol>

<p>Example of how <code class="language-plaintext highlighter-rouge">@magento_import</code> is used and processed in <code class="language-plaintext highlighter-rouge">&lt;Magento_Blank_theme_dir&gt;/web/css/styles-l.less</code>:</p>

<table>
   <tbody>
      <tr>
         <th>Before</th>
         <th>After</th>
      </tr>
      <tr class="even">
         <td> In <code>&lt;Magento_Blank_theme_dir&gt;/web/css/styles-l.less</code> there's a following directive:
<pre>
..
 //@magento_import 'source/_widgets.less'; // Theme widgets
..
</pre>
   </td>
   <td> In the processed file, this results in the following:
<pre>
@import '../Magento_Catalog/css/source/_widgets.less';
@import '../Magento_Cms/css/source/_widgets.less';
@import '../Magento_Reports/css/source/_widgets.less';
@import '../Magento_Sales/css/source/_widgets.less';
 // Theme widgets
</pre>
         </td>
      </tr>
   </tbody>
</table>


			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  
  <div class="page-updated">
    <img src="/devdocs-archive/2.2/i/icons/time.svg" alt="Updated" />
    <time id="last-modified-at" itemprop="dateModified" datetime="2019-12-03">
      Dec 3rd, 2019
    </time>
  </div>
  

  

  

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links" role="menu">

  <li class="" role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md">Become a Contributor</a></li>

  <li class="" role="menuitem"><a href="https://glossary.magento.com/">Glossary</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/privacy/">Privacy Policy</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/">Terms of Service</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/licensing/">License/Trademark FAQ</a></li>

  <li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/bk-release-notes.html">Release Notes</a></li>

  <li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/packages-open-source.html">Third-Party Licenses</a></li>

</ul>

    </div>

		<div class="copyright-date">&copy; 2023 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/devdocs-archive/2.2/assets/js/app.min.js?ver=7"></script>





<script type="text/javascript" src="/devdocs-archive/2.2/common/js/last-modified-at.js"></script>
<script type="text/javascript" src="/devdocs-archive/2.2/common/js/glossary-link-enhancer.js"></script>


</body>
</html>

