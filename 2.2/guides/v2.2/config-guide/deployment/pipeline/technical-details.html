<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Technical Details | Archived Magento 2.2 Developer Documentation</title>
	<meta name="description" content="Archived Magento 2 Developer Documentation.">

	<link rel="stylesheet" href="/devdocs-archive/2.2/assets/css/app.css?ver=7" />
	<link rel="stylesheet" href="/devdocs-archive/2.2/assets/css/print.css?ver=7" media="print"/>

	<link rel="stylesheet" href="/devdocs-archive/2.2/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />



<meta name="google-site-verification" content="3WFsoYwBe6UuxDwgs7bmd7t0YFQVzDpLpWLjNh0CUp8" />

	<script>
  var baseUrl = "/devdocs-archive/2.2";
  var algolia = {
    id : "E642SEDTHL",
    index:  "devdocs",
    key:  "d2d0f33ab73e291ef8d88d8b565e754c",
  };

  var indices = [
    {
      label: "DevDocs",
      name: "devdocs",
      facetFilters: [["guide_version: 2.2", "versionless: true"]],
      refinements: [
        {
          label: "Functional areas",
          attribute: "functional_areas"
        }
      ],
      baseUrl: "https://devdocs.magento.com"
    },
    {
      label: "User Guide",
      name: "merchdocs_ee",
      baseUrl: "https://docs.magento.com/m2/ee/user_guide"
    },
    {
      label: "MBI User Guide",
      name: "merchdocs-mbi",
      baseUrl: "https://docs.magento.com/mbi"
    },
    {
      label: "Marketplace User Guide",
      name: "merchdocs-marketplace",
      baseUrl: "https://docs.magento.com/marketplace/user_guide"
    },
    {
      label: "PWA",
      name: "pwa-devdocs",
      baseUrl: "https://magento.github.io/pwa-studio"
    },
    {
      label: "Order Management",
      name: "oms-en",
      baseUrl: "https://omsdocs.magento.com"
    }
  ];
</script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">


	<header class="site-header">
		

<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" href="/devdocs-archive/2.2/">
      <img src="/devdocs-archive/2.2/assets/i/m-logo.svg" alt=""><img src="/devdocs-archive/2.2/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      


<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" disabled>
		Magento 2.2
	</button>
</div>


      <!-- Main Navigation --><ul class="nav-main" role="menubar"><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Cloud</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Cloud basics</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/bk-cloud.html">Cloud Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/architecture/cloud-architecture.html">Cloud Architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/project/project-upgrade-parent.html">Upgrades and Patches</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/release-notes/cloud-tools.html">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Cloud development</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/setup/first-time-setup.html">Local development</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-config.html">Launch Docker</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/docker/docker-quick-reference.html">Docker quick reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/cloud/env/environments.html">Configure Environments</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/install-gde/bk-install-guide.html">Installation Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/extensions/">Magento Extensions Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/comp-mgr/bk-compman-upgrade-guide.html">Software Update Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/bk-config-guide.html">Configuration Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/performance-best-practices/introduction.html">Performance Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/migration/bk-migration-guide.html">Migration Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/bk-release-notes.html">Release Information</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/reference/cli/magento.html">Command-line Tools Reference</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Backend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/architecture/bk-architecture.html">Architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/mrg/intro.html">Module Reference Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/coding-standards/bk-coding-standards.html">Coding Standards</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/contributor-guide/contributing.html">Contributor Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Frontend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">API</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/rest/bk-rest.html">REST API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/soap/bk-soap.html">SOAP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/marketplace/eqp/v1/api.html">Marketplace EQP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/mbi/docs/getting-started.html">Business Intelligence API</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/testing.html">Magento Testing Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/mftf/docs/introduction.html">Functional Acceptance Testing (MFTF)</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/mtf/mtf_introduction.html">Functional Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/integration/integration_test_execution.html">Integration Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/js/jasmine.html">JavaScript Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/test/unit/unit_test_execution.html">PHP Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/advanced-reporting/overview.html">Advanced Reporting</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/b2b/bk-b2b.html">B2B</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/howdoi/checkout/checkout_overview.html">Checkout</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/compliance/industry-compliance.html">Compliance</a></li><li class="" role="menuitem"><a href="http://omsdocs.magento.com/en/">Order Management</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/payments-integrations/bk-payments-integrations.html">Payment Integrations</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/extension-dev-guide/staging.html">Staging</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/rest/tutorials/index.html">Rest Tutorials</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/howdoi/customize_product.html">Customize Product Creation Form</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/howdoi/checkout/checkout_overview.html">Customize Checkout</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/community/resources/support.html">Magento Support</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/videos/">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="nav-actions">
      
<div class="app-switcher">
  <div class="dropdown">
    <button id="app-switcher-trigger" class="app-switcher-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="Documentation sites"></button>
    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="app-switcher-trigger" role="menu">
      <div class="app-switcher-content">
      
      <div class="app-switcher-group">
        <h3 class="app-swither-group-title">Developer</h3>
        
        <li role="menuitem"><a class="dropdown-item" href="https://devdocs.magento.com/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce Developer Documentation">Commerce Developer Documentation</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="http://pwastudio.io/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=PWA Studio">PWA Studio</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://omsdocs.magento.com/en/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
      </div>
      
      <div class="app-switcher-group">
        <h3 class="app-swither-group-title">Merchant</h3>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/m2/ee/user_guide/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Commerce User Guide">Commerce User Guide</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://omsdocs.magento.com/en/userguides/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Order Management">Order Management</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/mbi/?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Business Intelligence">Business Intelligence</a></li>
        
        <li role="menuitem"><a class="dropdown-item" href="https://docs.magento.com/marketplace/user_guide/getting-started.html?itm_source=devdocs&itm_medium=top_nav&itm_campaign=app_switcher&itm_term=Marketplace">Marketplace</a></li>
        
      </div>
      
      </div>
    </ul>
  </div>
</div>

    </div>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>

	</header>

	<div class="global-wrapper">
		
		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Configuration Guide</h4>
		<div class="collapsible-navigation">
		    <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/bk-config-guide.html">Introduction</a></li><li class="" role="menuitem"><span>Security settings</span><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/security/google-recaptcha.html">Google reCAPTCHA</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/secy/hashing.html">Password hashing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/secy/secy-headers.html">Prevent cache poisoning</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/secy/secy-cron.html">Secure cron.php to run in a browser</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/security/two-factor-authentication.html">Two-Factor Authentication</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/secy/secy-xframe.html">X-Frame-Options header</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/bootstrap/magento-bootstrap.html">Magento application initialization and bootstrap</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/bootstrap/magento-modes.html">About Magento modes</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/bootstrap/mage-dirs.html">Customize base directory paths (MAGE_DIRS)</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/bootstrap/mage-profiler.html">Enable profiling (MAGE_PROFILER)</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/bootstrap/magento-how-to-set.html">Set the value of bootstrap parameters</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/">Pipeline Deployment</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/pipeline/">Overview</a></li><li class="active" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/pipeline/technical-details.html">Technical Details</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/pipeline/development-system.html">Development System Setup</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/pipeline/build-system.html">Build System Setup</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/pipeline/production-system.html">Production System Setup</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/prod_file-sys-perms.html">File systems access permissions</a></li><li class="" role="menuitem"><span>Examples</span><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/pipeline/example/shared-configuration.html">Shared configuration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/pipeline/example/cli.html">Using CLI commands</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/pipeline/example/environment-variables.html">Using environment variables</a></li></ul></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/single-machine.html">Single machine deployment</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli.html">Command line configuration</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands.html">Get started with command-line configuration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/logging.html">Logging</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-cache.html">Manage the cache</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-index.html">Manage the indexers</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-cron.html">Configure and run cron</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-compiler.html">Code compiler</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-mode.html">Set the Magento mode</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-urn.html">URN highlighter</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-depen.html">Dependency reports</a></li><li class="" role="menuitem"><span>Configuration management</span><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-export.html">Export the configuration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-set.html">Set configuration values</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-import.html">Import data from configuration files</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-i18n.html">Translation dictionaries and language packages</a></li><li class="" role="menuitem"><span>Static view files deployment</span><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-static-deploy-strategies.html">Static files deployment strategies</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-static-view.html">Deploy static view files</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-less-sass.html">Create symlinks to LESS files</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-test.html">Run unit tests</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-layout-xml.html">Convert layout XML files</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-perf-data.html">Generate data for performance testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-spt-util.html">Run the support utilities (Magento Commerce only)</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/config/config-magento.html">Magento configuration files</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/config/config-php.html">Magento's deployment configuration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/config/config-files.html">Module configuration files</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/config/config-create.html">Create or extend configuration types</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/config/disable-module-output.html">Disable module output</a></li><li class="" role="menuitem"><span>Configuration reference</span><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/config-reference-sens.html">Sensitive and system-specific</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/config-reference-payment.html">Payment configuration paths reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/config-reference-most.html">Other configuration paths reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/config-reference-b2b.html">Magento Commerce for B2B Extension configuration paths reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/config-reference-gitignore.html">.gitignore reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/config-reference-var-name.html">Use environment variables to override configuration settings</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/config-reference-configphp.html">config.php reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/config-reference-envphp.html">env.php reference</a></li></ul></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cache.html">Configure caching</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cache/cache-types.html">Associate cache frontends with cache types</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cache/cache-options.html">Low-level cache options</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cache/static-content-signing.html">Static content signing</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/redis/config-redis.html">Configure Redis</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/redis/redis-pg-cache.html">Use Redis for the Magento page and default cache</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/redis/redis-session.html">Use Redis for session storage</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/varnish/config-varnish.html">Configure and use Varnish</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/varnish/config-varnish-install.html">Install Varnish</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/varnish/config-varnish-configure.html">Configure Varnish and your web server</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/varnish/config-varnish-magento.html">Configure Magento to use Varnish</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/varnish/config-varnish-advanced.html">Advanced Varnish configuration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/varnish/use-multiple-varnish-cache.html">How Magento cache clearing works with multiple Varnish instances</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/varnish/config-varnish-final.html">Final verification</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/varnish/use-varnish-cache.html">How Magento cache clearing works with Varnish</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/varnish/use-varnish-cache-how.html">How Varnish caching works</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/varnish/tshoot-varnish-503.html">Troubleshooting 503 errors</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/memcache/memcache.html">Use memcached for session storage</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/memcache/memcache_ubuntu.html">Install, configure, verify memcached on Ubuntu</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/memcache/memcache_centos.html">Install, configure, verify memcached on CentOS</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/memcache/memcache_magento.html">Configure Magento to use memcached</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/multi-site/ms_over.html">Multiple websites or stores</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/multi-site/change-increment-id.html">Change increment ID for a database entity on particular store</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/multi-site/ms_websites.html">Set up multiple websites, stores, and store views in the Admin</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/multi-site/ms_nginx.html">Tutorial—Set up multiple websites or stores with nginx</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/multi-site/ms_apache.html">Tutorial—Set up multiple websites with Apache</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cron/custom-cron.html">Set up a custom cron job and cron group</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cron/custom-cron-ref.html">Custom cron job and cron group reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cron/custom-cron-tut.html">Configure a custom cron job and cron group (tutorial)</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/db-profiler/db-profiler.html">Configure the database profiler</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/elasticsearch/es-overview.html">Install and configure Elasticsearch (Magento Commerce only)</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/elasticsearch/es-config-nginx.html">Configure nginx and Elasticsearch</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/elasticsearch/es-config-apache.html">Configure Apache and Elasticsearch</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/elasticsearch/es-config-stopwords.html">Configure Elasticsearch stopwords</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/elasticsearch/configure-magento.html">Configure Magento to use Elasticsearch</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/elasticsearch/es-downgrade.html">Change the Elasticsearch client</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/mq/rabbitmq-overview.html">Message Queues (Magento Commerce only)</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/mq/manage-mysql.html">Manage message queues</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/multi-master/multi-master.html">Split database performance solution (Magento Commerce only)</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/multi-master/multi-master_masterdb.html">Automatically configure master databases</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/multi-master/multi-master_manual.html">Manually configure master databases</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/multi-master/multi-master_verify.html">Verify split databases</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/multi-master/multi-master_slavedb.html">Set up optional database replication</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/log/log-intro.html">Custom Logging</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/log/log-magento.html">Magento logging in more detail</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/log/log-db.html">Example - logging database activity</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/log/custom-logger-handler.html">Example - logging to a custom log file</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/sessions.html">How to locate your session files</a></li><li class="" role="menuitem"><span>GDPR compliance</span><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/architecture/gdpr/magento-2x.html">Magento 2.x</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/architecture/gdpr/magento-1x.html">Magento 1.x</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">








<h1 class="page-heading">Technical Details</h1>
</section>

			<p>This topic discusses technical implementation details about pipeline deployment in Magento 2.2 and later. Improvements can be divided into the following areas:</p>

<ul>
  <li><a href="#config-deploy-configman">Configuration management</a></li>
  <li><a href="#config-deploy-admin">Changes in the Magento Admin</a></li>
  <li><a href="#config-deploy-cron">cron installation and removal</a></li>
</ul>

<p>This topic also discusses the <a href="#config-deploy-workflow">recommended workflow</a> for pipeline deployment and provides some examples to help you understand how it works.</p>

<p>Before you get started, review the <a href="#config-deploy-prereq">prerequisite for your development, build, and production systems</a>.</p>

<h2 id="config-deploy-configman">Configuration management</h2>

<p>To enable you to synchronize and maintain the configuration of your development and production systems, we use the following override scheme.</p>

<p><img src="/devdocs-archive/2.2/common/images/cloud_vars_flow-diagram.png" alt="How configuration variable values are determined" width="550px" /></p>

<p>As the diagram shows, we get configuration values in the following order:</p>

<ol>
  <li>Environment variables, if they exist, override all other values.</li>
  <li>From the shared configuration files <code class="language-plaintext highlighter-rouge">env.php</code> and <code class="language-plaintext highlighter-rouge">config.php</code>. Values in <code class="language-plaintext highlighter-rouge">env.php</code> override values in <code class="language-plaintext highlighter-rouge">config.php</code>.</li>
  <li>From values stored in the database.</li>
  <li>If no value exists in any of those sources, we use either the default value or NULL.</li>
</ol>

<h3 id="manage-the-shared-configuration">Manage the shared configuration</h3>

<p>The shared configuration is stored in <code class="language-plaintext highlighter-rouge">app/etc/config.php</code>, which should be in source control.</p>

<p>Set the shared configuration in the Magento Admin in your development (or Magento Commerce Cloud <em>integration</em>) system and write the configuration to <code class="language-plaintext highlighter-rouge">config.php</code> using the <a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-export.html"><code class="language-plaintext highlighter-rouge">magento app:config:dump</code> command</a>.</p>

<h3 id="manage-the-system-specific-configuration">Manage the system-specific configuration</h3>

<p>The system-specific configuration is stored in <code class="language-plaintext highlighter-rouge">app/config/env.php</code>, which should <em>not</em> be in source control.</p>

<p>Set the system-specific configuration in the Magento Admin in your development (or Magento Commerce Cloud integration) system and write the configuration to <code class="language-plaintext highlighter-rouge">env.php</code> using the <a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-export.html"><code class="language-plaintext highlighter-rouge">magento app:config:dump</code> command</a>.</p>

<p>This command also writes sensitive settings to <code class="language-plaintext highlighter-rouge">env.php</code>.</p>

<h3 id="manage-the-sensitive-configuration">Manage the sensitive configuration</h3>

<p>The sensitive configuration is also stored in <code class="language-plaintext highlighter-rouge">app/etc/env.php</code>.</p>

<p>You can manage the sensitive configuration in any of the following ways:</p>

<ul>
  <li>Environment variables</li>
  <li>Save the sensitive configuration in <code class="language-plaintext highlighter-rouge">env.php</code> on your production system using the <a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-set.html"><code class="language-plaintext highlighter-rouge">magento config:set:sensitive</code> command</a></li>
</ul>

<h3 id="configuration-settings-locked-in-the-magento-admin">Configuration settings locked in the Magento Admin</h3>

<p>Any configuration settings in <code class="language-plaintext highlighter-rouge">config.php</code> or <code class="language-plaintext highlighter-rouge">env.php</code> are locked in the Magento Admin; that is, those settings cannot be changed in the Admin.
Use the <a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-set.html#config-cli-config-set"><code class="language-plaintext highlighter-rouge">magento config:set</code> or <code class="language-plaintext highlighter-rouge">magento config:set --lock</code></a> command to change the settings in the <code class="language-plaintext highlighter-rouge">config.php</code> or <code class="language-plaintext highlighter-rouge">env.php</code> files.</p>

<h2 id="config-deploy-admin">Changes in the Magento Admin</h2>

<p>We changed the following behavior in the Magento Admin in production mode:</p>

<ul>
  <li>You cannot enable or disable cache types in the Admin</li>
  <li>
    <p>Developer settings are unavailable (<strong>Stores</strong> &gt; Settings &gt; <strong>Configuration</strong> &gt; Advanced &gt; <strong>Developer</strong>), including:</p>

    <ul>
      <li>Minify CSS, JavaScript, and HTML</li>
      <li>Merge CSS and JavaScript</li>
      <li>Server-side or client-side LESS compilation</li>
      <li>Inline translations</li>
      <li>As discussed previously, any configuration setting in <code class="language-plaintext highlighter-rouge">config.php</code> or <code class="language-plaintext highlighter-rouge">env.php</code> is locked and cannot be edited in the Admin.</li>
      <li>You can change the Admin locale only to languages used by deployed themes</li>
    </ul>

    <p>The following figure shows an example of the <strong>Account Setting</strong>&gt; <strong>Interface Locale</strong> list in the Admin showing only two deployed locales:</p>

    <p><img src="/devdocs-archive/2.2/common/images/config_split-deploy_admin-locale.png" alt="You can change the Admin locale only to deployed locales" width="450px" /></p>
  </li>
  <li>
    <p>You cannot change locale configurations for any scope using the Admin Panel.</p>

    <p>We recommend making these changes before switching to Production mode.</p>

    <p>You can still configure the locale using <a href="#config-deploy-configman">environment variables</a> or the <a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-set.html#config-cli-config-set">config:set</a> CLI command with the path <code class="language-plaintext highlighter-rouge">general/locale/code</code>.</p>
  </li>
</ul>

<h2 id="config-deploy-cron">cron installation and removal</h2>

<p>In version 2.2 for the first time, we help you set up your Magento cron job by providing the <a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-cron.html"><code class="language-plaintext highlighter-rouge">magento cron:install</code> command</a>. This command sets up a Magento crontab as the user who runs the command.</p>

<p>We also enable you to remove the Magento crontab using the <code class="language-plaintext highlighter-rouge">magento cron:remove</code> command.</p>

<h2 id="config-deploy-workflow">Recommended pipeline deployment workflow</h2>

<p>The following diagram shows how we recommend you use pipeline deployment to manage the configuration.</p>

<p><img src="/devdocs-archive/2.2/common/images/config_split-deploy_workflow.png" alt="Recommended pipeline deployment workflow" width="700px" /></p>

<h3 id="development-system">Development system</h3>

<p>On your development system, you make configuration changes in the Magento Admin and generate the shared configuration, <code class="language-plaintext highlighter-rouge">app/etc/config.php</code> and the system-specific configuration, <code class="language-plaintext highlighter-rouge">app/etc/env.php</code>. Check Magento code and the shared configuration into source control and push it to the build server.</p>

<p>You should also install extensions and customize Magento code on the development system.</p>

<p>On your development system:</p>

<ol>
  <li>
    <p>Set the configuration in the Magento Admin.</p>
  </li>
  <li>
    <p>Use the <code class="language-plaintext highlighter-rouge">magento app:config:dump</code> command to write the configuration to the file system.</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">app/etc/config.php</code> is the shared configuration, which contains all settings <em>except</em> sensitive and system-specific settings. This file should be in source control.</li>
      <li><code class="language-plaintext highlighter-rouge">app/etc/env.php</code> is the system-specific configuration, which contains settings that are unique to a particular system (for example, hostnames and port numbers). This file should <em>not</em> be in source control.</li>
    </ul>
  </li>
  <li>
    <p>Add your modified code and the shared configuration to source control.</p>
  </li>
</ol>

<h3 id="build-system">Build system</h3>

<p>The build system compiles code and generates static view files for themes registered in Magento. It doesn’t need a connection to the Magento database; it needs only the Magento codebase.</p>

<p>On your build system:</p>

<ol>
  <li>Pull the shared configuration file from source control.</li>
  <li>Use the <code class="language-plaintext highlighter-rouge">magento setup:di:compile</code> command to compile code.</li>
  <li>Use the <code class="language-plaintext highlighter-rouge">magento setup:static-content:deploy -f</code> command to update static file view files.</li>
  <li>Check the updates into source control.</li>
</ol>

<h3 id="production-system">Production system</h3>

<p>On your production system (that is, your live store) you pull generated assets and code updates from source control and set system-specific and sensitive configuration settings using the command line or environment variables.</p>

<p>On your production system:</p>

<ol>
  <li>Start maintenance mode.</li>
  <li>Pull code and configuration updates from source control.</li>
  <li>If you use Magento Commerce, stop queue workers.</li>
  <li>Use the <code class="language-plaintext highlighter-rouge">magento app:config:import</code> command to import configuration changes in the production system.</li>
  <li>If you installed components that changed the database schema, run <code class="language-plaintext highlighter-rouge">magento setup:upgrade --keep-generated</code> to update the database schema and data, preserving generated static files.</li>
  <li>To set system-specific settings, use either the <code class="language-plaintext highlighter-rouge">magento config:set</code> command or environment variables.</li>
  <li>To set sensitive settings, use either the <code class="language-plaintext highlighter-rouge">magento config:sensitive:set</code> command or environment variables.</li>
  <li>Clean (also referred to as <em>flush</em>) the Magento cache.</li>
  <li>End maintenance mode.</li>
</ol>

<h2 id="configuration-management-commands">Configuration management commands</h2>

<p>We provide the following commands to help you manage the configuration:</p>

<ul>
  <li><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-export.html"><code class="language-plaintext highlighter-rouge">magento app:config:dump</code></a> to write Magento Admin configuration settings to <code class="language-plaintext highlighter-rouge">config.php</code> and <code class="language-plaintext highlighter-rouge">env.php</code> (except for sensitive settings)</li>
  <li>
    <p><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-set.html"><code class="language-plaintext highlighter-rouge">magento config:set</code></a> to set the values of system-specific settings on the production system.</p>

    <p>Use the optional <code class="language-plaintext highlighter-rouge">--lock</code> option to lock the option in the Magento Admin (that is, make the setting uneditable). If a setting is already locked, use the <code class="language-plaintext highlighter-rouge">--lock</code> option to change the setting.</p>
  </li>
  <li><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-set.html"><code class="language-plaintext highlighter-rouge">magento config:sensitive:set</code></a> to set the values of sensitive settings on the production system.</li>
  <li><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/cli/config-cli-subcommands-config-mgmt-import.html"><code class="language-plaintext highlighter-rouge">magento app:config:import</code></a> to import configuration changes from <code class="language-plaintext highlighter-rouge">config.php</code> and <code class="language-plaintext highlighter-rouge">env.php</code> to the production system.</li>
</ul>

<h2 id="configuration-management-examples">Configuration management examples</h2>

<p>This section shows examples of managing the configuration so you can see how changes are made to <code class="language-plaintext highlighter-rouge">config.php</code> and <code class="language-plaintext highlighter-rouge">env.php</code>.</p>

<h3 id="change-the-default-locale">Change the default locale</h3>

<p>This section shows the change made to <code class="language-plaintext highlighter-rouge">config.php</code> when you change the default weight unit using the Magento Admin (<strong>Stores</strong> &gt; Settings &gt; <strong>Configuration</strong> &gt; General &gt; <strong>General</strong> &gt; <strong>Locale Options</strong>).</p>

<p>After you make the change in the Admin, run <code class="language-plaintext highlighter-rouge">bin/magento app:config:dump</code> to write the value to <code class="language-plaintext highlighter-rouge">config.php</code>. The value is written to the <code class="language-plaintext highlighter-rouge">general</code> array under <code class="language-plaintext highlighter-rouge">locale</code> as the following snippet from <code class="language-plaintext highlighter-rouge">config.php</code> shows:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="s1">'general'</span> <span class="o">=&gt;</span>
    <span class="k">array</span> <span class="p">(</span>
        <span class="s1">'locale'</span> <span class="o">=&gt;</span>
        <span class="k">array</span> <span class="p">(</span>
            <span class="s1">'code'</span> <span class="o">=&gt;</span> <span class="s1">'en_US'</span><span class="p">,</span>
            <span class="s1">'timezone'</span> <span class="o">=&gt;</span> <span class="s1">'America/Chicago'</span><span class="p">,</span>
            <span class="s1">'weight_unit'</span> <span class="o">=&gt;</span> <span class="s1">'kgs'</span>
        <span class="p">)</span>
    <span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="change-several-configuration-settings">Change several configuration settings</h3>

<p>This section discusses making the following configuration changes:</p>

<ul>
  <li>Adding a website, store, and store view (<strong>Stores</strong> &gt; Settings &gt;  <strong>All Stores</strong>)</li>
  <li>Changing the default email domain (<strong>Stores</strong> &gt; Settings &gt; <strong>Configuration</strong> &gt; Customers &gt; <strong>Customer Configuration</strong>)</li>
  <li>Setting the PayPal API Username and API password (<strong>Stores</strong> &gt; Settings &gt; <strong>Configuration</strong> &gt; Sales &gt; <strong>Payment Methods</strong> &gt; <strong>PayPal</strong> &gt; <strong>Required PayPal Settings</strong>)</li>
</ul>

<p>After you make the change in the Admin, run <code class="language-plaintext highlighter-rouge">bin/magento app:config:dump</code> on your development system. This time, not all of your changes are written to <code class="language-plaintext highlighter-rouge">config.php</code>; in fact, only the website, store, and store view are written to that file as the following snippets show.</p>

<h4 id="configphp">config.php</h4>

<p><code class="language-plaintext highlighter-rouge">config.php</code> contains:</p>

<ul>
  <li>Changes to the website, store, and store view.</li>
  <li>Non-system-specific Elasticsearch settings</li>
  <li>Non-sensitive PayPal settings</li>
  <li>Comments that inform you of sensitive settings that were omitted from <code class="language-plaintext highlighter-rouge">config.php</code></li>
</ul>

<div class="collapsible">
    <b class="collapsible-title">Show config.php snippets: </b>
    <div class="collapsible-content"><p><code class="language-plaintext highlighter-rouge">websites</code> array:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>      <span class="s1">'new'</span> <span class="o">=&gt;</span>
      <span class="k">array</span> <span class="p">(</span>
        <span class="s1">'website_id'</span> <span class="o">=&gt;</span> <span class="s1">'2'</span><span class="p">,</span>
        <span class="s1">'code'</span> <span class="o">=&gt;</span> <span class="s1">'new'</span><span class="p">,</span>
        <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'New website'</span><span class="p">,</span>
        <span class="s1">'sort_order'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
        <span class="s1">'default_group_id'</span> <span class="o">=&gt;</span> <span class="s1">'2'</span><span class="p">,</span>
        <span class="s1">'is_default'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
      <span class="p">),</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">groups</code> array:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>      <span class="mi">2</span> <span class="o">=&gt;</span>
      <span class="k">array</span> <span class="p">(</span>
        <span class="s1">'group_id'</span> <span class="o">=&gt;</span> <span class="s1">'2'</span><span class="p">,</span>
        <span class="s1">'website_id'</span> <span class="o">=&gt;</span> <span class="s1">'2'</span><span class="p">,</span>
        <span class="s1">'code'</span> <span class="o">=&gt;</span> <span class="s1">'newstore'</span><span class="p">,</span>
        <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'New store'</span><span class="p">,</span>
        <span class="s1">'root_category_id'</span> <span class="o">=&gt;</span> <span class="s1">'2'</span><span class="p">,</span>
        <span class="s1">'default_store_id'</span> <span class="o">=&gt;</span> <span class="s1">'2'</span><span class="p">,</span>
      <span class="p">),</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">stores</code> array:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>     <span class="s1">'newview'</span> <span class="o">=&gt;</span>
      <span class="k">array</span> <span class="p">(</span>
        <span class="s1">'store_id'</span> <span class="o">=&gt;</span> <span class="s1">'2'</span><span class="p">,</span>
        <span class="s1">'code'</span> <span class="o">=&gt;</span> <span class="s1">'newview'</span><span class="p">,</span>
        <span class="s1">'website_id'</span> <span class="o">=&gt;</span> <span class="s1">'2'</span><span class="p">,</span>
        <span class="s1">'group_id'</span> <span class="o">=&gt;</span> <span class="s1">'2'</span><span class="p">,</span>
        <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'New store view'</span><span class="p">,</span>
        <span class="s1">'sort_order'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
        <span class="s1">'is_active'</span> <span class="o">=&gt;</span> <span class="s1">'1'</span><span class="p">,</span>
      <span class="p">),</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">payment</code> array:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre>      <span class="s1">'payment'</span> <span class="o">=&gt;</span>
      <span class="k">array</span> <span class="p">(</span>
        <span class="s1">'paypal_express'</span> <span class="o">=&gt;</span>
        <span class="k">array</span> <span class="p">(</span>
          <span class="s1">'active'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
          <span class="s1">'in_context'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
          <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'PayPal Express Checkout'</span><span class="p">,</span>
          <span class="s1">'sort_order'</span> <span class="o">=&gt;</span> <span class="kc">NULL</span><span class="p">,</span>
          <span class="s1">'payment_action'</span> <span class="o">=&gt;</span> <span class="s1">'Authorization'</span><span class="p">,</span>
          <span class="s1">'visible_on_product'</span> <span class="o">=&gt;</span> <span class="s1">'1'</span><span class="p">,</span>
          <span class="s1">'visible_on_cart'</span> <span class="o">=&gt;</span> <span class="s1">'1'</span><span class="p">,</span>
          <span class="s1">'allowspecific'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
          <span class="s1">'verify_peer'</span> <span class="o">=&gt;</span> <span class="s1">'1'</span><span class="p">,</span>
          <span class="s1">'line_items_enabled'</span> <span class="o">=&gt;</span> <span class="s1">'1'</span><span class="p">,</span>
          <span class="s1">'transfer_shipping_options'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
          <span class="s1">'solution_type'</span> <span class="o">=&gt;</span> <span class="s1">'Mark'</span><span class="p">,</span>
          <span class="s1">'require_billing_address'</span> <span class="o">=&gt;</span> <span class="s1">'0'</span><span class="p">,</span>
          <span class="s1">'allow_ba_signup'</span> <span class="o">=&gt;</span> <span class="s1">'never'</span><span class="p">,</span>
          <span class="s1">'skip_order_review_step'</span> <span class="o">=&gt;</span> <span class="s1">'1'</span><span class="p">,</span>
        <span class="p">),</span>
</pre></td></tr></tbody></table></code></pre></div></div>
</div>
  </div>

<p><strong>env.php:</strong></p>

<p>The default email domain system-specific configuration setting is written to <code class="language-plaintext highlighter-rouge">app/etc/env.php</code>.</p>

<p>The PayPal settings are written to neither file because the <code class="language-plaintext highlighter-rouge">magento app:config:dump</code> command does not write sensitive settings. You must set the PayPal settings on the production system using the following commands:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>   bin/magento config:sensitive:set paypal/wpp/api_username &lt;username&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>   bin/magento config:sensitive:set paypal/wpp/api_password &lt;password&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="config-deploy-prereq">Prerequisite for your development, build, and production systems</h2>

<p>File permissions and ownership must be consistent across development, build, and production systems. To make this work, you must either:</p>

<ul>
  <li>
    <p>All of the following:</p>

    <ul>
      <li>Set up the same <a href="https://glossary.magento.com/magento-file-system-owner">Magento file system owner</a> username on all systems</li>
      <li>Make sure the web server runs as the same user on all systems</li>
      <li>Make sure the Magento file system owner is in the web server group on all systems</li>
    </ul>
  </li>
  <li>
    <p>Change Magento file system permissions and ownership on each system as necessary using the following guidelines:</p>

    <ul>
      <li>Development and build: <a href="/devdocs-archive/2.2/guides/v2.2/install-gde/prereq/file-system-perms.html#perms-private">Set pre-installation ownership and permissions (two users)</a></li>
      <li>Production: <a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/prod_file-sys-perms.html">Magento ownership and permissions in development and production</a></li>
    </ul>

    <p class="bs-callout-info">If you choose this approach, you must set file system permissions and ownership every time you pull code from your build system (if the Magento file system owner or web server user are different on your build system).</p>
  </li>
</ul>

<p class="ref-header">Related topics</p>

<ul>
  <li>For a complete list of system-specific and sensitive settings and corresponding configuration paths, see <a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/config-reference-sens.html">Sensitive and system-specific configuration paths reference</a>.</li>
  <li><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/config-reference-configphp.html">config.php reference</a> for detailed information about the shared configuration file</li>
  <li><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/prod/config-reference-envphp.html">env.php reference</a> for detailed information about the system-specific configuration file</li>
</ul>

<p class="ref-header">Next steps</p>

<ul>
  <li><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/pipeline/development-system.html">Set up your development systems</a></li>
  <li><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/pipeline/build-system.html">Set up your build system</a></li>
  <li><a href="/devdocs-archive/2.2/guides/v2.2/config-guide/deployment/pipeline/production-system.html">Set up your production system</a></li>
  <li></li>
</ul>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  
  <div class="page-updated">
    <img src="/devdocs-archive/2.2/i/icons/time.svg" alt="Updated" />
    <time id="last-modified-at" itemprop="dateModified" datetime="2019-12-03">
      Dec 3rd, 2019
    </time>
  </div>
  

  

  

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links" role="menu">

  <li class="" role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md">Become a Contributor</a></li>

  <li class="" role="menuitem"><a href="https://glossary.magento.com/">Glossary</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/privacy/">Privacy Policy</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/">Terms of Service</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/licensing/">License/Trademark FAQ</a></li>

  <li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/bk-release-notes.html">Release Notes</a></li>

  <li class="" role="menuitem"><a href="/devdocs-archive/2.2/guides/v2.2/release-notes/packages-open-source.html">Third-Party Licenses</a></li>

</ul>

    </div>

		<div class="copyright-date">&copy; 2023 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/devdocs-archive/2.2/assets/js/app.min.js?ver=7"></script>





<script type="text/javascript" src="/devdocs-archive/2.2/common/js/last-modified-at.js"></script>
<script type="text/javascript" src="/devdocs-archive/2.2/common/js/glossary-link-enhancer.js"></script>


</body>
</html>

