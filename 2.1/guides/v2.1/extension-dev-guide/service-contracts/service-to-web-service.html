<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Configure services as web APIs | Archived Magento 2.1 Developer Documentation</title>
	<meta name="description" content="Archived Magento 2.1.18 Developer Documentation.">

	<link rel="stylesheet" href="/devdocs/2.1/assets/css/app.css" />
	<link rel="stylesheet" href="/devdocs/2.1/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/devdocs/2.1/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />



	<script>
  var baseUrl = "/devdocs/2.1";
  var algolia = {
    id : "",
    index:  "",
    key:  "",
    facetFilters: [["guide_version: 2.1", "versionless: true"]]
  };
</script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
  </div>

  <div class="nav-container">

    <a class="logo" href="/devdocs/2.1/">
      <img src="/devdocs/2.1/assets/i/m-logo.svg" alt=""><img src="/devdocs/2.1/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      


<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" disabled>
		Magento 2.1
	</button>
</div>


      <!-- Main Navigation --><ul class="nav-main" role="menubar"><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Cloud</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Cloud basics</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/bk-cloud.html">Cloud Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/architecture/cloud-architecture.html">Cloud Architecture</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/project/project-upgrade-parent.html">Upgrades and Patches</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/release-notes/cloud-tools.html">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Cloud development</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/setup/first-time-setup.html">Local development</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/docker/docker-config.html">Launch Docker</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/docker/docker-quick-reference.html">Docker quick reference</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/env/environments.html">Configure Environments</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/bk-install-guide.html">Installation Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/extensions/">Magento Extensions Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/config-guide/bk-config-guide.html">Configuration Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/migration/bk-migration-guide.html">Migration Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/release-notes/bk-release-notes.html">Release Information</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/reference/cli/magento.html">Command-line Tools Reference</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Backend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/architecture/bk-architecture.html">Architecture</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/mrg/intro.html">Module Reference Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/coding-standards/bk-coding-standards.html">Coding Standards</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/contributor-guide/contributing.html">Contributor Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Frontend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">API</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/rest/bk-rest.html">REST API Reference</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/soap/bk-soap.html">SOAP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/marketplace/eqp/api.html">Marketplace EQP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/mbi/docs/getting-started.html">Business Intelligence Import API</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/test/testing.html">Magento Testing Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/mtf/mtf_introduction.html">Functional Testing</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/test/integration/integration_test_execution.html">Integration Testing</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/test/js/jasmine.html">JavaScript Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/test/unit/unit_test_execution.html">PHP Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/howdoi/checkout/checkout_overview.html">Checkout</a></li><li class="" role="menuitem"><a href="http://omsdocs.magento.com/en/">Order Management</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/payments-integrations/bk-payments-integrations.html">Payment Integrations</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/staging.html">Staging</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/rest/tutorials/index.html">Rest Tutorials</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/howdoi/customize_product.html">Customize Product Creation Form</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/howdoi/checkout/checkout_overview.html">Customize Checkout</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/community/resources/support.html">Magento Support</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/videos/">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="search-btn">
      <button class="search-trigger search-icon" aria-label="Search"></button>
    </div>

    <form class="quick-search" action="/devdocs/2.1/guides/v2.1/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <button class="quick-search-close" aria-label="Close Search">&times;</button>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		
    <div class="message-banner">
       <a href="http://devdocs.magento.com/guides/v2.1/release-notes/ReleaseNotes2.1.18CE.html" target="_blank">Magento 2.1.18</a> is the final 2.1.x release. After June 2019, Magento 2.1.x will no longer receive security patches, quality fixes, or documentation updates.</br>To maintain your site's performance, security, and PCI compliance, upgrade to the latest version of Magento.</a>
    </div>









		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">PHP Developer Guide</h4>
		<div class="collapsible-navigation">
		    <ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">Introduction</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/intro/developers_roadmap.html">Developer roadmap</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/intro/intro-composer.html">Introduction to Composer</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/intro/intro-composer-gloss.html">Glossary of common terms</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/prepare/prepare.html">Prepare (development quick start)</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/prepare/dev-modtypes.html">Component types</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/prepare/prepare_file-str.html">About component file structure</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/prepare/dev-summary.html">Roadmap for developing and packaging components</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/prepare/lifecycle.html">Extension lifecycle</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/build/build.html">Build</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/build/di-xml-file.html">The di.xml file</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/build/optimal-dev-environment.html">Optimal development environment</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/build/composer-integration.html">The composer.json file</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/build/required-configuration-files.html">Define your configuration files</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/build/module-file-structure.html">Create your component file structure</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/build/component-registration.html">Register your component</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/build/XSD-XML-validation.html">URN schema validation</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/build/create_component.html">Name your component</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/build/module-load-order.html">Component load order</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/build/enable-module.html">Enable or disable your component</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/package/package.html">Package</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/package/package_module.html">Package a component</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/package/package_mktpl.html">Upload your component to the Magento Marketplace</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/validate/validate.html">Validate</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/validate/test-module.html">Test your component</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/cache/partial-caching.html">Partial caching</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/cache/partial-caching/database-caching.html">Create custom cache engines</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/cache/partial-caching/create-cache-type.html">Create a cache type</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/cache/page-caching.html">Full page caching</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/cache/page-caching/public-content.html">Public content</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/cache/page-caching/private-content.html">Private content</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/cli-cmds/cli-add.html">Add CLI commands</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/cli-cmds/cli-naming-guidelines.html">Command naming guidelines</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/cli-cmds/cli-howto.html">How to add CLI commands</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/staging.html">Staging (Magento Commerce only)</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/module-development.html">Component development</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/service-contracts/service-contracts.html">Service contracts</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/api-concepts.html">Public interfaces &amp; APIs</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/service-contracts/design-patterns.html">Service contract design patterns</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/depend-inj.html">Dependency injection</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/object-manager.html">ObjectManager</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/events-and-observers.html">Events and observers</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/factories.html">Factories</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/proxies.html">Proxies</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/code-generation.html">Code generation</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/attributes.html">EAV and extension attributes</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/plugins.html">Plugins (Interceptors)</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/routing.html">Routing</a></li><li class="" role="menuitem"><span>Indexing</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/indexing.html">Indexing overview</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/indexing-custom.html">Adding a custom indexer</a></li></ul></li><li class="" role="menuitem"><span>Message Queues</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/message-queues/message-queues.html">Message queues overview</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/message-queues/config-mq.html">Configure message Queues</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/message-queues/queue-migration.html">Migrate message queue configuration</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/extension_attributes/adding-attributes.html">Adding extension attributes to entity</a></li><li class="active" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/service-contracts/service-to-web-service.html">Configure services as web APIs</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/howdoi/php/php_clear-dirs.html">Clear directories during development</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/adapters.html">Adapters</a></li></ul></li><li class="" role="menuitem"><span>Framework</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/framework/array-manager.html">Array Manager</a></li></ul></li><li class="" role="menuitem"><span>Security</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/security/non-secure-functions.html">Non-secure functions</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/versioning/">Versioning</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/versioning/check-version.html">Check the Magento version</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/versioning/dependencies.html">Module version dependencies</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/versioning/codebase-changes.html">Codebase changes</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

	

	<h1 class="page-heading">Configure services as web APIs</h1>
</section>

			<p>You can configure a Magento or third-party service as a web <a href="https://glossary.magento.com/api">API</a>.</p>

<p>To <a href="#configure-webapi">configure a web API</a>, you define <a href="https://glossary.magento.com/xml">XML</a> elements and attributes in the <code class="highlighter-rouge">webapi.xml</code> XML configuration file for the <a href="https://glossary.magento.com/module">module</a> for the service. The <code class="highlighter-rouge">webapi.xml</code> file for your module specifies an XML schema file for validation. By default, this file is <code class="highlighter-rouge">app/code/&lt;VENDOR&gt;/Webapi/etc/webapi.xsd</code>.</p>

<p>Your module can use the default <code class="highlighter-rouge">webapi.xsd</code> file or you can create a customized XML schema file for validation.</p>

<p>Users can make REST or SOAP calls to access the <a href="https://glossary.magento.com/web-api">web API</a>.</p>

<p>To configure a web API, read these topics:</p>

<ul>
  <li>
    <p><a href="#configure-webapi">Configure a web API</a></p>
  </li>
  <li>
    <p><a href="#configuration-options">webapi.xml configuration options</a></p>
  </li>
  <li>
    <p><a href="#sample-webapi">Sample webapi.xml file</a></p>
  </li>
  <li>
    <p><a href="#validate-webapi">webapi.xsd XML schema file</a></p>
  </li>
  <li>
    <p><a href="#forced-parameters">Forcing Request Parameters</a></p>
  </li>
</ul>

<h2 id="configure-webapi">Configure a web API</h2>

<p>To configure a web API for a service, you define XML elements and attributes in the
   <code class="highlighter-rouge">app/code/Magento/&amp;lt;MODULE&amp;gt;/etc/webapi.xml</code> file, where <code class="highlighter-rouge">&amp;lt;MODULE&amp;gt;</code> is the module name.
   For example, the web API for the Customer service is defined in the <code class="highlighter-rouge">app/code/Magento/Customer/etc/webapi.xml</code> configuration file.</p>

<h2 id="service-interface-requirements">Service Interface Requirements</h2>

<p>After a service class is configured using the <code class="highlighter-rouge">webapi.xml</code> file, Magento dynamically makes the service method available using the web API. Because this is automatically generated, it is important that the service class be formatted a very specific way.</p>

<p>This makes sense when you consider that while a service class possibly expects objects of a specific class type (such a save method) and possibly returns a result that is a class or array of classes, neither SOAP nor REST are guaranteed to have that class defined on the client end or even to have a concept similar to a <a href="https://glossary.magento.com/php">PHP</a> class. Because of this, Magento uses reflection to automatically create these classes and sets data that you have submitted in JSON or HTTP array syntax onto an instance of the expected PHP class when calling the service method.</p>

<p>Conversely, if an object is returned from one of these methods, Magento automatically converts that PHP object into a JSON or SOAP object before sending it over the web API.</p>

<p>To do this conversion, the Magento application must know information about both the parameters the service method is expecting and the return type of the result the service method delivers. PHP 5.x does not allow for type-hinting for scalar parameters or for return types so in order to convert the array or JSON object to or from the appropriate class type, PHP relies on the PHP doc block. Specifically, the lines containing <code class="highlighter-rouge">@param</code> and <code class="highlighter-rouge">@return</code> must follow certain rules for Magento to be able to correctly convert between types.</p>

<p>For SOAP and REST to work correctly, the following rules must be followed by the service interface’s doc block:</p>

<ul>
  <li>All methods exposed by the web API must follow these rules</li>
  <li>All methods on objects expected as parameters or returned must follow these rules</li>
  <li>
    <p>Parameters must be defined in the doc block as</p>

    <ul>
      <li>@param type $paramName</li>
    </ul>
  </li>
  <li>
    <p>Return type must be defined in the doc block as</p>

    <ul>
      <li>@return type</li>
    </ul>
  </li>
  <li>Valid scalar types include: <code class="highlighter-rouge">mixed</code> (or <code class="highlighter-rouge">anyType</code>), <code class="highlighter-rouge">bool</code> (or <code class="highlighter-rouge">boolean</code>), <code class="highlighter-rouge">str</code> (or <code class="highlighter-rouge">string</code>), <code class="highlighter-rouge">integer</code> (or <code class="highlighter-rouge">int</code>), <code class="highlighter-rouge">float</code>, and <code class="highlighter-rouge">double</code>.</li>
  <li>Valid object types include a fully qualified class name or a fully qualified interface name.</li>
  <li>Any parameters or return values of type array can be denoted by following any of the previous types by an empty set of square brackets <code class="highlighter-rouge">[]</code></li>
</ul>

<p>Following are some examples of various types and what they would look like in the doc block:</p>

<ul>
  <li>
    <p>A parameter $types which can be an array of strings:</p>

    <ul>
      <li>@param string[] $types</li>
    </ul>
  </li>
  <li>
    <p>A parameter $id which can be an integer:</p>

    <ul>
      <li>@param int $id</li>
    </ul>
  </li>
  <li>
    <p>A parameter $customer which is an object of class <code class="highlighter-rouge">\Magento\Customer\Api\Data\CustomerInterface</code>:</p>

    <ul>
      <li>
        <p>@param \Magento\Customer\Api\Data\CustomerInterface $customer</p>

        <p>Note that even if the class <code class="highlighter-rouge">\Magento\Customer\Api\Data\CustomerInterface</code> is in the same namespace (or a sub-namespace) of the current class or a use statement has exists at the top of the class, the fully qualified namespace must be used or the web API throws an exception.</p>
      </li>
    </ul>
  </li>
  <li>
    <p>A return which is an array of objects of type <code class="highlighter-rouge">\Magento\Customer\Api\Data\CustomerInterface</code>:</p>

    <ul>
      <li>@return \Magento\Customer\Api\Data\CustomerInterface[]</li>
    </ul>
  </li>
</ul>

<p class="bs-callout bs-callout-info">If a service method argument is called <code class="highlighter-rouge">item</code>, there will be a problem during SOAP processing. All item nodes are removed during SOAP request processing. This is done to unwrap array items that are wrapped by the SOAP server into an <code class="highlighter-rouge">item</code> element.</p>

<h2 id="configuration-options">webapi.xml configuration options</h2>

<p>To define web API components, set these attributes on these XML elements in the
   <code class="highlighter-rouge">webapi.xml</code> configuration file, as follows:</p>

<table style="width:100%">
   <tr bgcolor="lightgray">
      <th>XML element</th>
      <th>Description</th>
      <th>Attributes</th>
   </tr>
   <tr>
      <td>
         <p>`&lt;routes&gt;`</p>
      </td>
      <td>
         <p>Required. Root element that defines the namespace and location of the XML schema file.</p>
      </td>
      <td>
         <ul>
            <li>
               <p>`xmlns:xsi`. Required. Defines the namespace for the XML schema instance.</p>
            </li>
            <li>
               <p>`xsi:noNamespaceSchemaLocation`. Required. Defines the path and file name of the XML schema file to use to validate the web API.</p>
            </li>
         </ul>
      </td>
   </tr>
   <tr>
      <td>
         <p>`&lt;route&gt;`</p>
      </td>
      <td>
         <p>Required. Child element of `&lt;routes&gt;`. Defines the HTTP route for the web API method.</p>
      </td>
      <td>
         <ul>
            <li>
               <p>`method`. Required. String. HTTP method. Valid values are GET, POST, PUT, and DELETE.</p>
            </li>
            <li>
               <p>`url`. Required. String.
                  Magento resource. Optionally, one or more template parameters.
               </p>
            </li>
            <li>
               <p>`secure`. Optional. Boolean. Indicates that the route is accessible over only HTTPS. Any attempts to access this route over non-secure causes an exception.</p>
            </li>
         </ul>
      </td>
   </tr>
   <tr>
      <td>
         <p>`&lt;service&gt;`</p>
      </td>
      <td>
         <p>Required. Child element of `&lt;route&gt;`. Defines the implemented interface and the web API method name.</p>
      </td>
      <td>
         <ul>
            <li>
               <p>`class`. Required. String. Location and name of implemented interface.</p>
            </li>
            <li>
               <p>`method`. Required. String. Web API method name.</p>
            </li>
         </ul>
      </td>
   </tr>
   <tr>
      <td>
         <p>`&lt;resources&gt;`</p>
      </td>
      <td>
         <p>Required. Child element of `&lt;route&gt;`. Container for one or more resource definitions.</p>
      </td>
      <td>
         <p>None.</p>
      </td>
   </tr>
   <tr>
      <td>
         <p>`&lt;resource&gt;`</p>
      </td>
      <td>
         <p>Required. Child element of `&lt;resources&gt;`. Defines a resource to which the caller must have access.</p>
      </td>
      <td>
         <ul>
            <li>
               <p>`ref`.
                  Required. Referenced resource. Valid values are `self`, `anonymous`, or a Magento resource, such as `Magento_Customer::group`.
               </p>
               <p><strong>Note</strong>:The Magento web API framework enables guest users to access resources that are configured with `anonymous` permission.</p>
                  <p>Any user that the framework cannot authenticate through existing <a href="/devdocs/2.1/guides/v2.1/get-started/authentication/gs-authentication.html">authentication
                     mechanisms</a> is considered a guest user.</p>

            </li>
         </ul>
      </td>
   </tr>
   <tr>
      <td>
         <p>`&lt;data&gt;`</p>
      </td>
      <td>
         <p>Optional. Child element of `&lt;route&gt;`. Container for one or more parameter definitions.</p>
      </td>
      <td>
         <p>None.</p>
      </td>
   </tr>
   <tr>
      <td>
         <p>`&lt;parameter&gt;`</p>
      </td>
      <td>
         <p>Required if `&lt;data&gt;` is specified. Child element of `&lt;data&gt;`. Defines a parameter.</p>
      </td>
      <td>
         <ul>
            <li>
               <p>`name`. String. Parameter name.</p>
            </li>
            <li>
               <p>`force`. Boolean. <a href="#forced-parameters">Forcing Request Parameters</a></p>
            </li>
         </ul>
      </td>
   </tr>
</table>

<h2 id="sample-webapi">Sample webapi.xml file</h2>

<p>This excerpt is from the <code class="highlighter-rouge">webapi.xml</code> file that defines the Customer service web API:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td class="rouge-code"><pre><span class="cp">&lt;?xml version="1.0"?&gt;</span>
    <span class="nt">&lt;routes</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"urn:magento:module:Magento_Webapi:etc/webapi.xsd"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- Customer Group Service--&gt;</span>
    <span class="nt">&lt;route</span> <span class="na">url=</span><span class="s">"/V1/customerGroups/:id"</span> <span class="na">method=</span><span class="s">"GET"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">class=</span><span class="s">"Magento\Customer\Api\GroupRepositoryInterface"</span> <span class="na">method=</span><span class="s">"getById"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;resources&gt;</span>
            <span class="nt">&lt;resource</span> <span class="na">ref=</span><span class="s">"Magento_Customer::group"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/resources&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
...
    <span class="nt">&lt;route</span> <span class="na">url=</span><span class="s">"/V1/customers/me/billingAddress"</span> <span class="na">method=</span><span class="s">"GET"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">class=</span><span class="s">"Magento\Customer\Api\AccountManagementInterface"</span> <span class="na">method=</span><span class="s">"getDefaultBillingAddress"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;resources&gt;</span>
            <span class="nt">&lt;resource</span> <span class="na">ref=</span><span class="s">"self"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/resources&gt;</span>
        <span class="nt">&lt;data&gt;</span>
            <span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">"customerId"</span> <span class="na">force=</span><span class="s">"true"</span><span class="nt">&gt;</span>%customer_id%<span class="nt">&lt;/parameter&gt;</span>
        <span class="nt">&lt;/data&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>In this <code class="highlighter-rouge">webapi.xml</code> example:</p>
<table style="width:100%">
   <tr bgcolor="lightgray">
      <th>Line</th>
      <th>Defines</th>
   </tr>
   <tr>
      <td>
         <p>3</p>
      </td>
      <td>
         <p>The XML schema file that is used to validate the XML.</p>
         <p>The XML schema file is `xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Webapi:etc/webapi.xsd`.</p>
      </td>
   </tr>
   <tr>
      <td>
         <p>5</p>
      </td>
      <td>
         <p>The HTTP method and web resource through which to access the route.</p>
         <p>The HTTP method is GET.</p>
         <p>The resource is `/V1/customerGroups/:id`. Users must substitute a customer ID for the `id` template parameter.</p>
      </td>
   </tr>
   <tr>
      <td>
         <p>6</p>
      </td>
      <td>
         <p>The interface that the route implements and the name of the web API method.</p>
         <p>The route implements the `Magento\Customer\Api\GroupRepositoryInterface` interface.</p>
         <p>The web API method name is `getById`.</p>
      </td>
   </tr>
   <tr>
      <td>
         <p>8</p>
      </td>
      <td>
         <p>The resource to which the caller must have access.</p>
         <p>The caller must have access to `Magento_Customer::group` resource.</p>
      </td>
   </tr>
   <tr>
      <td>
         <p>18</p>
      </td>
      <td>
         <p>A required parameter.</p>
         <p>The `id` parameter is required on GET calls to `/V1/customers/me/billingAddress`.</p>
      </td>
   </tr>
</table>

<h2 id="validate-webapi">webapi.xsd XML schema file</h2>

<p>The <code class="highlighter-rouge">webapi.xml</code> file for your module must specify an XML schema file for validation. Your <code class="highlighter-rouge">webapi.xml</code> file can specify the default or a customized XML schema file.
The default <code class="highlighter-rouge">webapi.xsd</code> XML schema file can be found in the <code class="highlighter-rouge">app/code/Magento/Webapi/etc</code> directory.</p>

<p>The following table defines the <code class="highlighter-rouge">service</code> node attributes:</p>

<table>
  <thead>
    <tr>
      <th>Attribute name</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">class</code></td>
      <td>Yes</td>
      <td>The interface responsible for handling the API request.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">method</code></td>
      <td>Yes</td>
      <td>The interface’s method which handles the execution of the web API.</td>
    </tr>
  </tbody>
</table>

<h2 id="forced-parameters">Forcing Request Parameters</h2>

<p>Parameters in the <code class="highlighter-rouge">webapi.xml</code> can be forced. This ensures that on specific routes, a specific value is always used. For instance, in the example “/V1/customers/me/billingAddress” route above, the <code class="highlighter-rouge">customerId</code> parameter is forced to match the ID of the currently logged in user.
Additional parameter overrides can be registered via <code class="highlighter-rouge">di.xml</code> by adding new items to the
<code class="highlighter-rouge">paramOverriders</code> argument for <code class="highlighter-rouge">\Magento\Webapi\Controller\Rest\ParamsOverrider</code>. Parameter
overriders must implement <code class="highlighter-rouge">\Magento\Framework\Webapi\Rest\Request\ParamOverriderInterface</code>. An
example excerpt from <code class="highlighter-rouge">di.xml</code></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;type</span> <span class="na">name=</span><span class="s">"Magento\Webapi\Controller\Rest\ParamsOverrider"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;arguments&gt;</span>
        <span class="nt">&lt;argument</span> <span class="na">name=</span><span class="s">"paramOverriders"</span> <span class="na">xsi:type=</span><span class="s">"array"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"%my_value%"</span> <span class="na">xsi:type=</span><span class="s">"object"</span><span class="nt">&gt;</span>VENDOR\MODULE\Controller\Rest\ParamOverriderMyValue<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;/argument&gt;</span>
    <span class="nt">&lt;/arguments&gt;</span>
<span class="nt">&lt;/type&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The above example create a new parameter override available for use in <code class="highlighter-rouge">webapi.xml</code>. The value passed for
   <code class="highlighter-rouge">%my_value%</code> will be the return value of
   <code class="highlighter-rouge">\VENDOR\MODULE\Controller\Rest\ParamOverriderMyValue::getOverriddenValue</code>. Example:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;route</span> <span class="na">url=</span><span class="s">"/V1/example/me/service"</span> <span class="na">method=</span><span class="s">"GET"</span><span class="nt">&gt;</span>
    ...
    <span class="nt">&lt;data&gt;</span>
        <span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">"myValue"</span> <span class="na">force=</span><span class="s">"true"</span><span class="nt">&gt;</span>%my_value%<span class="nt">&lt;/parameter&gt;</span>
    <span class="nt">&lt;/data&gt;</span>
    ...
<span class="nt">&lt;/route&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  
  <div class="page-updated">
    <img src="/devdocs/2.1/i/icons/time.svg" alt="Updated" />
    <time id="last-modified-at" itemprop="dateModified" datetime="2019-05-31">
      May 31st, 2019
    </time>
  </div>
  

  
    <div class="page-contributor">
      <a href="http://www.classyllama.com/" target="_blank">
        Thanks to Classy Llama for contributing this topic
      </a>
    </div>
  


  

    

    

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links" role="menu">

  <li class="" role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md">Become a Contributor</a></li>

  <li class="" role="menuitem"><a href="https://glossary.magento.com/">Glossary</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/privacy/">Privacy Policy</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/">Terms of Service</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/licensing/">License/Trademark FAQ</a></li>

  <li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/release-notes/bk-release-notes.html">Release Notes</a></li>

  <li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/release-notes/packages-open-source.html">Third-Party Licenses</a></li>

</ul>

    </div>

		<div class="copyright-date">&copy; 2023 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/devdocs/2.1/assets/js/app.min.js"></script>





<script type="text/javascript" src="/devdocs/2.1/common/js/last-modified-at.js"></script>
<script type="text/javascript" src="/devdocs/2.1/common/js/glossary-link-enhancer.js"></script>


</body>
</html>

