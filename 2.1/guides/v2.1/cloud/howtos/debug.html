<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Configure Xdebug | Archived Magento 2.1 Developer Documentation</title>
	<meta name="description" content="Archived Magento 2.1.18 Developer Documentation.">

	<link rel="stylesheet" href="/devdocs-archive/2.1/assets/css/app.css" />
	<link rel="stylesheet" href="/devdocs-archive/2.1/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/devdocs-archive/2.1/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />



	<script>
  var baseUrl = "/devdocs-archive/2.1";
  var algolia = {
    id : "",
    index:  "",
    key:  "",
    facetFilters: [["guide_version: 2.1", "versionless: true"]]
  };
</script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
  </div>

  <div class="nav-container">

    <a class="logo" href="/devdocs-archive/2.1/">
      <img src="/devdocs-archive/2.1/assets/i/m-logo.svg" alt=""><img src="/devdocs-archive/2.1/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      


<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" disabled>
		Magento 2.1
	</button>
</div>


      <!-- Main Navigation --><ul class="nav-main" role="menubar"><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Cloud</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Cloud basics</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/bk-cloud.html">Cloud Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/architecture/cloud-architecture.html">Cloud Architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-upgrade-parent.html">Upgrades and Patches</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/release-notes/cloud-tools.html">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Cloud development</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/setup/first-time-setup.html">Local development</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/docker/docker-config.html">Launch Docker</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/docker/docker-quick-reference.html">Docker quick reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/environments.html">Configure Environments</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/install-gde/bk-install-guide.html">Installation Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/extensions/">Magento Extensions Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/config-guide/bk-config-guide.html">Configuration Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/migration/bk-migration-guide.html">Migration Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/release-notes/bk-release-notes.html">Release Information</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/reference/cli/magento.html">Command-line Tools Reference</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Backend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/architecture/bk-architecture.html">Architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/mrg/intro.html">Module Reference Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/coding-standards/bk-coding-standards.html">Coding Standards</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/contributor-guide/contributing.html">Contributor Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Frontend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">API</div>
              <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/rest/bk-rest.html">REST API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/soap/bk-soap.html">SOAP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/marketplace/eqp/api.html">Marketplace EQP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/mbi/docs/getting-started.html">Business Intelligence Import API</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/test/testing.html">Magento Testing Guide</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/mtf/mtf_introduction.html">Functional Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/test/integration/integration_test_execution.html">Integration Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/test/js/jasmine.html">JavaScript Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/test/unit/unit_test_execution.html">PHP Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/howdoi/checkout/checkout_overview.html">Checkout</a></li><li class="" role="menuitem"><a href="http://omsdocs.magento.com/en/">Order Management</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/payments-integrations/bk-payments-integrations.html">Payment Integrations</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/extension-dev-guide/staging.html">Staging</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/rest/tutorials/index.html">Rest Tutorials</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/howdoi/customize_product.html">Customize Product Creation Form</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/howdoi/checkout/checkout_overview.html">Customize Checkout</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/community/resources/support.html">Magento Support</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/videos/">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="search-btn">
      <button class="search-trigger search-icon" aria-label="Search"></button>
    </div>

    <form class="quick-search" action="/devdocs-archive/2.1/guides/v2.1/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <button class="quick-search-close" aria-label="Close Search">&times;</button>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		
    <div class="message-banner">
       <a href="http://devdocs.magento.com/guides/v2.1/release-notes/ReleaseNotes2.1.18CE.html" target="_blank">Magento 2.1.18</a> is the final 2.1.x release. After June 2019, Magento 2.1.x will no longer receive security patches, quality fixes, or documentation updates.</br>To maintain your site's performance, security, and PCI compliance, upgrade to the latest version of Magento.</a>
    </div>









		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Magento Commerce Cloud</h4>
		<div class="collapsible-navigation">
		    <ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/bk-cloud.html">Overview</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/onboarding/onboarding-tasks.html">Onboarding tasks</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/architecture/cloud-architecture.html">Architecture</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/basic-information/starter-architecture.html">Starter architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/basic-information/starter-develop-deploy-workflow.html">Starter develop and deploy workflow</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/architecture/pro-architecture.html">Pro architecture</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/architecture/pro-develop-deploy-workflow.html">Pro develop and deploy workflow</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/architecture/pro-architecture-legacy.html">Pro architecture (legacy)</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/pro-env-management.html">Add Staging and Production to Pro projects UI</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/requirements/cloud-requirements.html">Technologies and requirements</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/reference/cloud-composer.html">Composer</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/reference/cli-ref-topic.html">Magento Cloud CLI</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/reference/ece-tools-reference.html">ece-tools package</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/reference/git-integration.html">Git</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/environments-ssh.html">SSH and sFTP</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/new-relic.html">New Relic</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-integrate-blackfire.html">Blackfire.io</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/sendgrid.html">SendGrid</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/setup/first-time-setup.html">Local development setup</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/before/before-workspace.html">Prepare for manual setup</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/before/before-workspace-magento-prereqs.html">Install Magento prerequisites</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/before/before-workspace-ssh.html">Enable SSH keys</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/before/before-workspace-file-sys-owner.html">Set up the Magento file system owner</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/before/before-setup-env-2_clone.html">Clone and branch the project</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/before/before-setup-env-install.html">Install Magento</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/setup/first-time-deploy.html">First time deployment</a></li></ul></li><li class="active" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/howtos/debug.html">Optional - Configure Xdebug</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/howtos/sample-data.html">Optional - Install sample data</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/docker/docker-development.html">Docker development</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/docker/docker-config.html">Launch Docker</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/docker/docker-development-debug.html">Configure Xdebug for Docker</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/docker/docker-database.html">Connect to the database</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/docker/docker-development-testing.html">Functional testing in Docker</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/docker/docker-quick-reference.html">Docker quick reference</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/integrations/cloud-integrations.html">Integrations</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/integrations/bitbucket-integration.html">Bitbucket integration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/integrations/github-integration.html">GitHub integration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/integrations/health-notifications.html">Health notifications</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/setup/first-time-setup-import-first-steps.html">Import existing code into a project</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/setup/first-time-setup-import-prepare.html">Prepare your existing Magento Commerce system</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/setup/first-time-setup-import-import.html">Import Magento Commerce code</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/configure/configuration-overview.html">Configure your store</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/configure/configure-best-practices.html">Best practices for store configuration</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/live/paypal-onboarding.html">Set up PayPal</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/configure/setup-cron-jobs.html">Set up cron jobs</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-multi-sites.html">Set up multiple Cloud websites or stores</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/howtos/install-components.html">Install, manage, and upgrade modules</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/howtos/custom-theme.html">Install a theme</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/cdn/cloud-fastly.html">Configure Fastly services</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/cdn/configure-fastly.html">Set up Fastly</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/cdn/cloud-fastly-custom-response.html">Customize error pages</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/cdn/fastly-waf-service.html">Managed Cloud WAF</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/cdn/fastly-image-optimization.html">Image Optimization</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/cdn/cloud-vcl-custom-snippets.html">Custom VCL snippets</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/cdn/fastly-vcl-wordpress.html">Set up redirects to WordPress</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/cdn/fastly-vcl-badreferer.html">Block referral spam</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/cdn/fastly-vcl-whitelist.html">Secure access to the Magento Admin UI</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/cdn/fastly-vcl-blacklist.html">Custom blacklist VCL</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/cdn/trouble-fastly.html">Fastly troubleshooting</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/environments.html">Configure environments</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-conf-files_magento-app.html">Application</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/magento-env-yaml.html">Build and deploy</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/setup-notifications.html">Set up notifications</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/log-handlers.html">Logging handlers</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/variables-intro.html">Environment variables</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/environment-vars_magento.html">ADMIN variables</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/variables-global.html">Global variables</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/variables-build.html">Build variables</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/variables-cloud.html">Cloud variables</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/variables-deploy.html">Deploy variables</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/variables-post-deploy.html">Post-deploy variables</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/working-with-variables.html">Working with variables</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-conf-files_routes.html">Routes</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-routes-more-cache.html">Caching</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-routes-more-redir.html">Redirects</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-routes-more-ssi.html">Server side includes</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-conf-files_services.html">Services</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-conf-files_services-mysql.html">Set up MySQL service</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-conf-files_services-redis.html">Set up Redis service</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-conf-files_services-elastic.html">Set up Elasticsearch service</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-conf-files_services-rabbit.html">Set up RabbitMQ service</a></li></ul></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/live/sens-data-over.html">Configuration management for store settings</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/live/sens-data-initial.html">Example of managing system-specific settings</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/projects.html">Manage your project</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-webint-basic.html">Configure your project</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-start.html">Project structure</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/user-admin.html">Create and manage users</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-webint-branch.html">Manage branches with the Interface</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/environments-start.html">Manage branches with the CLI</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-webint-snap.html">Snapshots and backup management</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/deploy/optimize-cloud-deployment.html">Optimize deployment</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/deploy/cloud-deployment-process.html">Cloud deployment process</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/deploy/reduce-downtime.html">Zero downtime deployment</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/deploy/static-content-deployment.html">Static content deployment</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/deploy/smart-wizards.html">Smart wizards</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/live/stage-prod-live.html">Deploy your store</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/reference/discover-deploy.html">Deployment process</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/deploy/continuous-deployment.html">Continuous deployment</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/live/live-prot.html">Protective block</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/live/live-sanity-check.html">Build and deploy on local</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/live/stage-prod-migrate-prereq.html">Prepare to deploy to Staging and Production</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/live/stage-prod-migrate.html">Deploy code and migrate static files and data</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/live/stage-prod-test.html">Test deployment</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/live/live.html">Go live and launch</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/live/go-live-checklist.html">Go live checklist</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/live/launch-steps.html">Launch steps</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/trouble.html">Troubleshooting</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/troubleshoot-deployment.html">Troubleshoot deployment</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/environments-logs.html">View logs for troubleshooting</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/trouble_ce-creds.html">Incorrect credentials</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/trouble_proj-startover.html">Resolve issues with a new project</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/trouble_comp-deploy-fail.html">Component deployment failure</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/redis-troubleshooting.html">Redis troubleshooting</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/reset-cron-jobs.html">Reset cron jobs</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/trouble-crypt-key-variable.html">Resolve issues with encryption key</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/trouble-error-html-minification.html">Resolve issues with HTML minification</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/trouble-google-analytics-deploy.html">Resolve issues with Google Analytics during deployment</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/restore-configuration-files.html">Restore configuration files</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/site-availability.html">Site availability</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/robots-sitemap.html">Add site map and search engine robots</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/theme-troubleshooting.html">Theme troubleshooting</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/message-queues.html">Message queues</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-upgrade-parent.html">Upgrades and patches</a><ul><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/release-notes/cloud-tools.html">Release notes for ece-tools</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/ece-tools-upgrade-project.html">Upgrade to use ece-tools</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/ece-tools-update.html">Update ece-tools version</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-patch.html">Apply custom patches</a></li><li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-upgrade.html">Upgrade Magento version</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

	

	<h1 class="page-heading">Configure Xdebug</h1>
</section>

			<p>We recommend using Xdebug for your PHP debugging. The following sections detail how to configure Xdebug and PhpStorm to work locally with settings in your environments. You can use any IDE of your choice. See the vendor documentation for those applications for further configuration information.</p>

<p>To set up Xdebug, you need to <a href="#configure">configure</a> a file in your Git repo, configure your IDE PhpStorm, and set up port forwarding. You will configure settings in the <code class="highlighter-rouge">magento.app.yaml</code> file. After editing, you can push the Git changes across all Starter environments and Pro Integration environments to enable Xdebug. To push these settings to Pro plan Staging and Production environments, you must enter a ticket.</p>

<p>Once configured, you can debug <a href="#debugcli">CLI commands</a>, <a href="#webrequests">web requests</a>, <a href="#code">code</a>. Remember, all Magento Commerce Cloud environments are read-only. You will need to pull code to your local development environment to perform debugging. For Pro plan Staging and Production, we include <a href="#pro-debug">additional instructions</a> for Xdebug on those environments.</p>

<h2 id="usexdebug">Requirements</h2>

<p>To run and use Xdebug, you will need the environment’s SSH URL. You can locate the information through the <a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/projects.html">Project Web Interface</a> or your spreadsheet.</p>

<h2 id="configure">Configure Xdebug</h2>

<p>To configure Xdebug, you need to do the following:</p>

<ul>
  <li><a href="#branch">Work in a branch</a> to push file updates</li>
  <li><a href="#enable">Enable Xdebug for environments</a></li>
  <li>Configure your IDE, like <a href="#phpstorm">PhpStorm</a></li>
  <li><a href="#port">Set up port forwarding</a></li>
</ul>

<p>For configuring on Pro plan Staging and Production, you need to enter a <a href="#pro">ticket for Staging and Production</a>.</p>

<h3 id="branch">Get started with a branch</h3>

<p>To add Xdebug, we recommend creating a branch to work in and add the files.</p>

<ol>
  <li>Log in to your local development system, or switch to, the <a href="/devdocs-archive/2.1/guides/v2.1/cloud/before/before-workspace-file-sys-owner.html">Magento file system owner</a>.</li>
  <li>Change to a directory to which the Magento file system owner has write access.</li>
  <li>
    <p>Enter the following command in a terminal to log in to your project:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>magento-cloud login
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>List your projects. With the project ID, you can complete additional commands.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>magento-cloud project:list
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>If necessary, clone the project to your local. You should have cloned when setting up your local development workspace.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>magento-cloud project:get &lt;project ID&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>Change to a project directory. For example, <code class="highlighter-rouge">cd /var/www/html/magento2</code></li>
  <li>
    <p>List environments in the project. Every environment includes an active Git branch of your code, database, environment variables, configurations, and services.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>magento-cloud environment:list
</pre></td></tr></tbody></table></code></pre></div>    </div>

  	<code class="highlighter-rouge">magento-cloud environment:list</code>—displays environment hierarchies whereas the <code class="highlighter-rouge">git branch</code> command does not.
  </li>
  <li>
    <p>Fetch origin branches to get the latest code:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>git fetch origin
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Check out, or switch to, a specific branch and environment. Git commands only checkout the Git branch. The Magento Cloud command also switches to the active environment.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>magento-cloud environment:checkout &lt;environment ID&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>To create a new environment, use <code class="highlighter-rouge">magento-cloud environment:branch &lt;environment name&gt; &lt;parent environment ID&gt;</code></p>
  </li>
  <li>
    <p>Pull any updated code to your local for the environment ID (which is the Git branch):</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>git pull origin &lt;environment ID&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Create a <a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/project-webint-snap.html">snapshot</a> of the environment as a backup:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>magento-cloud snapshot:create -e &lt;environment ID&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<h3 id="enable">Enable Xdebug in your environment</h3>

<p>Enable Xdebug by adding it to the extensions section of magento.app.yaml. When you push this update to Git and deploy to environments, the debugger is available.</p>

<p>You can enable Xdebug directly to all Starter environments and Pro Integration environments. For Pro Staging and Production, you need to update this file and enter a <a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/trouble.html">Support ticket</a> to have it enabled. We will get Xdebug enabled onto those environments for you.</p>

<!-- You may need to run PHP with a separate config file to enable xdebug on the CLI, such as "php -c /etc/platform/<project_id>/php.ini ... " -->

<ol>
  <li>In your local terminal, open <code class="highlighter-rouge">.magento.app.yaml</code> in a text editor.</li>
  <li>
    <p>In the <code class="highlighter-rouge">runtime</code> section, under <code class="highlighter-rouge">extensions</code>, add <code class="highlighter-rouge">xdebug</code>. For example:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre> runtime:
    extensions:
   - mcrypt
   - redis
   - xsl
   - json
   - xdebug
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Optionally, modify the timeout. A default timeout of 300 seconds (5 minutes) is set in <code class="highlighter-rouge">php-fpm</code> and will end your session. To avoid the timeout, add the following lines to the <code class="highlighter-rouge">web:</code> section of <code class="highlighter-rouge">.magento.app.yaml</code>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre> web:
     commands:
         start: |
             cat /etc/php/7.0/fpm/php-fpm.conf | sed -e 's/request_terminate_timeout.*//g' &gt; /tmp/php-fpm.conf
             /usr/sbin/php-fpm7.0 -y /tmp/php-fpm.conf
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>Save your changes to <code class="highlighter-rouge">.magento.app.yaml</code> and exit the text editor.</li>
  <li>
    <p>Add, commit, and push the changes to redeploy the environment:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre> git add -A
 git commit -m "Add xdebug"
 git push origin &lt;environment ID&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<p>When deployed to Starter environments and Pro Integration environments, Xdebug is now available. You should continue configuring your IDE. For PhpStorm, see <a href="#phpstorm">Configure PhpStorm</a>.</p>

<h3 id="phpstorm">Configure PhpStorm</h3>

<p>You need to configure <a href="https://www.jetbrains.com/phpstorm/">PhpStorm</a> to properly work with Xdebug.</p>

<ol>
  <li>Open your PhpStorm project.</li>
  <li>
    <p>Open the settings for PhpStorm.</p>

    <ul>
      <li>On Mac, select <strong>File</strong> &gt; <strong>Preferences</strong>.</li>
      <li>On Windows/Linux, select <strong>File</strong> &gt; <strong>Settings</strong>.</li>
    </ul>
  </li>
  <li>Expand and locate <strong>Languages &amp; Frameworks</strong> &gt; <strong>PHP</strong> &gt; <strong>Servers</strong> section in settings.</li>
  <li>Add a server configuration. Click the + to add a server. Notice at the top, it will show the project name in grey, just for reference. This will create a “server” configuration. This will be used to listen to port 9000 locally, which will be <a href="#port">forwarded</a>.</li>
  <li>
    <p>Configure settings for the new server:</p>

    <ul>
      <li><strong>Name</strong>: enter the same as the hostname. This value is used in and must match the value for <code class="highlighter-rouge">PHP_IDE_CONFIG</code> variable in <a href="#debugcli">Debug CLI commands</a>.</li>
      <li><strong>Host</strong>: enter <code class="highlighter-rouge">localhost</code></li>
      <li><strong>Port</strong>: enter 80</li>
      <li><strong>Debugger</strong>: set to Xdebug in the drop-down</li>
    </ul>
  </li>
  <li>Select the <strong>Use path mappings</strong> option. In the files/directories, the root of the project displays that you opened for the added server.</li>
  <li>
    <p>In the <strong>Absolute path on the server</strong> column, click <img src="/devdocs-archive/2.1/common/images/install_docker_php-storm-edit.png" alt="Edit" width="15px" /> (<strong>Edit</strong>) and add a setting based on the environment:</p>

    <ul>
      <li>For all Starter environments and Pro Integration environments, the remote path is <code class="highlighter-rouge">/app</code>.</li>
      <li>
        <p>For Pro Staging and Production environments:</p>

        <ul>
          <li>Production: <code class="highlighter-rouge">/app/&lt;project_code&gt;/</code></li>
          <li>Staging:  <code class="highlighter-rouge">/app/&lt;project_code&gt;_stg/</code></li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<h3 id="port">Set up port forwarding</h3>

<p>You need to set up port forwarding. This is necessary to map the XDEBUG connection from the server to your local system to PHPSTORM and xdebug locally can track along with it</p>

<p>To do any type of debugging, you must forward port 9000 from your Magento Commerce Cloud server to your local machine. See one of the following sections:</p>

<ul>
  <li><a href="#portmac">Port forwarding on Mac or UNIX</a></li>
  <li><a href="#portwindows">Port forwarding on Windows</a></li>
</ul>

<h4 id="portmac">Port forwarding on Mac or UNIX</h4>

<p>To set up port forwarding on a Mac or in a Unix environment, you will enter a command in a terminal.</p>

<ol>
  <li>Open a terminal.</li>
  <li>
    <p>Enter the following command:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> ssh -R 9000:localhost:9000 &lt;ssh url&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>Add the <code class="highlighter-rouge">-v</code> option to the SSH command to show in the terminal whenever a socket is connected to the port that is being forwarded.</p>
  </li>
</ol>

<p>If an “unable to connect” or “could not listen to port on remote” error is displayed, there could be another active SSH session persisting on the server that is occupying port 9000. If that connection isn’t being used, you can terminate it.</p>

<p>To troubleshoot the connection:</p>

<ol>
  <li><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/environments-ssh.html">SSH</a> to the integration, staging, or production server.</li>
  <li>Enter <code class="highlighter-rouge">who</code> to view a list of SSH sessions.</li>
  <li>
    <p>View existing SSH sessions by user. Be careful to not affect a user other than yourself!</p>

    <ul>
      <li>Integration: usernames are similar to <code class="highlighter-rouge">dd2q5ct7mhgus</code></li>
      <li>Staging: usernames are similar to <code class="highlighter-rouge">dd2q5ct7mhgus_stg</code></li>
      <li>Production: usernames are similar to <code class="highlighter-rouge">dd2q5ct7mhgus</code></li>
    </ul>
  </li>
  <li>For a user session that is older than yours, find the pseudo-terminal (PTS) value. For example, <code class="highlighter-rouge">pts/0</code>.</li>
  <li>
    <p>Kill the process ID (PID) corresponding to the PTS value using the following commands:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>ps aux | grep ssh
kill &lt;PID&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>For example, suppose <code class="highlighter-rouge">ps aux | grep ssh</code> returned the following:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>dd2q5ct7mhgus        5504  0.0  0.0  82612  3664 ?      S    18:45   0:00 sshd: dd2q5ct7mhgus@pts/0
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>To terminate the connection, you enter a kill command with the process ID (PID). For example:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>kill 3664
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<h4 id="portwindows">Port forwarding on Windows</h4>

<p>To set up port forwarding (SSH tunneling) on Windows, you must configure your Windows terminal application. For this example, we walk through creating an SSH tunnel using <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">Putty</a>. You can use other applications such as Cygwin. For more information on other applications, see the vendor documentation provided with those applications.</p>

<p>To set up an SSH tunnel on Windows using Putty:</p>

<ol>
  <li>If you have not already done so, download <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">Putty</a>.</li>
  <li>Start Putty.</li>
  <li>In the Category pane, click <strong>Session</strong>.</li>
  <li>
    <p>Enter the following information:</p>

    <ul>
      <li><strong>Hostname (or IP address)</strong> field: Enter your Cloud server’s <a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/environments-ssh.html">SSH URL</a></li>
      <li><strong>Port</strong> field: Enter <code class="highlighter-rouge">22</code></li>
    </ul>

    <p><img src="/devdocs-archive/2.1/common/images/cloud-xdebug_putty-session.png" alt="Set up Putty" width="350px" /></p>
  </li>
  <li>In the Category pane, click <strong>Connection</strong> &gt; <strong>SSH</strong> &gt; <strong>Tunnels</strong>.</li>
  <li>
    <p>Enter the following information:</p>

    <ul>
      <li><strong>Source port</strong> field: Enter <code class="highlighter-rouge">9000</code></li>
      <li><strong>Destination</strong> field: Enter <code class="highlighter-rouge">127.0.0.1:9000</code></li>
      <li>Click <strong>Remote</strong></li>
    </ul>
  </li>
  <li>
    <p>Click <strong>Add</strong>.</p>

    <p><img src="/devdocs-archive/2.1/common/images/cloud-xdebug_putty-tunnels.png" alt="Create an SSH tunnel in Putty" width="350px" /></p>
  </li>
  <li>In the Category pane, click <strong>Session</strong>.</li>
  <li>In the <strong>Saved Sessions</strong> field, enter a name for this SSH tunnel.</li>
  <li>
    <p>Click <strong>Save</strong>.</p>

    <p><img src="/devdocs-archive/2.1/common/images/cloud-xdebug_putty-session-save.png" alt="Save your SSH tunnel" width="350px" /></p>
  </li>
  <li>To test the SSH tunnel, click <strong>Load</strong>, then click <strong>Open</strong>.</li>
</ol>

<p>If an “unable to connect” error displays, verify all of the following:</p>

<ul>
  <li>All Putty settings are correct</li>
  <li>You are running Putty on the machine on which your private Magento Commerce Cloud SSH keys are located</li>
</ul>

<h3 id="pro">Configure Pro Staging and Production</h3>

<p>To complete configuration for Pro plan Staging and Production environments, you must enter a <a href="/devdocs-archive/2.1/guides/v2.1/cloud/trouble/trouble.html">Support ticket</a> to have Xdebug enabled and configured in Staging and Production environments.</p>

<p>We will enable Xdebug in the environment. Be aware, this will require a redeployment of Staging and Production.</p>

<h2 id="ssh">SSH access to Xdebug environments</h2>

<p>For initiating debugging, performing setup, and more, you need the SSH commands for accessing the environments. You can get this information, through the <a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/projects.html">Project Web Interface</a> and your project spreadsheet.</p>

<p>For Starter environments and Pro Integration environments, you can use the following Magento Cloud CLI command to SSH into those environments:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>magento-cloud environment:ssh --pipe -e &lt;environment ID&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<p>To use Xdebug, SSH to the environment as follows:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>ssh -R &lt;xdebug listen port&gt;:&lt;host&gt;:&lt;xdebug listen port&gt; &lt;SSH URL&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<p>For example,</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>ssh -R 9000:localhost:9000 pwga8A0bhuk7o-mybranch@ssh.us.magentosite.cloud
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="pro-debug">Debug for Pro Staging and Production</h2>

<p>To use Xdebug specifically on Pro plan Staging and Production environment, you create a separate SSH tunnel and web session only you have access to. This usage differs from typical access, only providing access to you and not to all users.</p>

<p>You need the following:</p>

<ul>
  <li>SSH commands for accessing the environments. You can get this information, through the <a href="/devdocs-archive/2.1/guides/v2.1/cloud/project/projects.html">Project Web Interface</a> and your project spreadsheet.</li>
  <li>The <code class="highlighter-rouge">xdebug_key</code> value we set when configuring the Staging and Pro environments</li>
</ul>

<p>Set up an SSH tunnel to Staging or Production environment:</p>

<ol>
  <li>Open a terminal.</li>
  <li>
    <p>Enter the following command to clean up all SSH sessions.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> ssh USERNAME@CLUSTER.ent.magento.cloud 'rm /run/platform/USERNAME/xdebug.sock'
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Enter the following command to set up the SSH tunnel for Xdebug:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> ssh -R /run/platform/USERNAME/xdebug.sock:localhost:9000 -N USERNAME@CLUSTER.ent.magento.cloud
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<p>To start debugging, use the following commands with the environment URL:</p>

<ol>
  <li>
    <p>To enable remote debugging, visit the site in the browser with the following added to the URL where <code class="highlighter-rouge">KEY</code> is value for <code class="highlighter-rouge">xdebug_key</code>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> ?XDEBUG_SESSION_START=KEY
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>This sets the cookie that sends browser requests to trigger Xdebug.</p>
  </li>
  <li>Complete your debugging with Xdebug.</li>
  <li>
    <p>When you are ready to end the session, you can use the following command to remove the cookie and end debugging through the browser where <code class="highlighter-rouge">KEY</code> is value for <code class="highlighter-rouge">xdebug_key</code>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> ?XDEBUG_SESSION_STOP=KEY
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<p class="bs-callout bs-callout-info">The <code class="highlighter-rouge">XDEBUG_SESSION_START</code> passed by <code class="highlighter-rouge">POST</code> requests are not supported at this time.</p>

<h2 id="debugcli">Debug CLI commands</h2>

<p>This section walks through debugging CLI commands. To debug, you will need the SSH commands for your environments.</p>

<ol>
  <li>SSH into the server you want to debug using CLI commands.</li>
  <li>
    <p>Create the following environment variables:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre> export XDEBUG_CONFIG='PHPSTORM'
 export PHP_IDE_CONFIG="serverName=&lt;name of the server that is configured in PHPSTORM&gt;"
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<p>These variables will be removed when SSH session is over. When adding the variables, you can add runtime options:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>php -d xdebug.profiler_enable=On -d xdebug.max_nesting_level=9999 ...
</pre></td></tr></tbody></table></code></pre></div></div>

<p>If you expect to SSH and debug multiple times, you can put the export commands into a bash script in the <code class="highlighter-rouge">/tmp</code> directory to run them each time.</p>

<h2 id="webrequests">For debugging web requests</h2>

<p>The following steps help you debug web requests.</p>

<ol>
  <li>On the Extension menu, click <strong>Debug</strong> to enable.</li>
  <li>Right click and on the options menu set the IDE key to <strong>PHPSTORM</strong>.</li>
  <li>Install the Xdebug client on the browser. Configure and enable it.</li>
</ol>

<h3 id="chrome">Example set up on Chrome</h3>

<p>This section discusses how to use Xdebug in Chrome using the Xdebug Helper extension. For information about Xdebug tools for other browsers, consult the browser documentation.</p>

<p>To use Xdebug Helper with Chrome:</p>

<ol>
  <li>Create an <a href="#ssh">SSH tunnel</a> to the Cloud server.</li>
  <li>Install the <a href="https://chrome.google.com/webstore/detail/xdebug-helper/eadndfjplgieldjbigjakmdgkmoaaaoc?hl=en">Xdebug Helper extension</a> from the Chrome store.</li>
  <li>
    <p>Enable the extension in Chrome as shown in the following figure.</p>

    <p><img src="/devdocs-archive/2.1/common/images/install_docker_php-storm_xdebug-chrome.png" alt="Enable the Xdebug extension in Chrome" /></p>
  </li>
  <li>In Chrome, right-click <img src="/devdocs-archive/2.1/common/images/cloud-xdebug_helper-icon.png" alt="Xdebug helper icon" width="25px" /> in the Chrome toolbar.</li>
  <li>From the pop-up menu, click <strong>Options</strong>.</li>
  <li>From the <strong>IDE Key</strong> list, click <strong>PhpStorm</strong>.</li>
  <li>
    <p>Click <strong>Save</strong>.</p>

    <p><img src="/devdocs-archive/2.1/common/images/cloud-xdebug_helper-options.png" alt="Xdebug Helper options" width="400px" /></p>
  </li>
  <li>Open your PhpStorm project.</li>
  <li>
    <p>In the top navigation bar, click <img src="/devdocs-archive/2.1/common/images/install_docker_php-storm_xdebug-start-listening.png" alt="Start listening for connections" width="25px" />  (<strong>Start listening</strong>).</p>

    <p>If the navigation bar isn’t displayed, click <strong>View</strong> &gt; <strong>Navigation Bar</strong>.</p>
  </li>
  <li>In the PhpStorm navigation pane, double-click the PHP file to test.</li>
</ol>

<h2 id="code">Debug code locally</h2>

<p>Due to your environments being read-only, you need to pull code locally from an environment or specific Git branch/repository to perform debugging.</p>

<p>The method you choose is up to you. You have the following options:</p>

<ul>
  <li>
    <p>Check out code from Git and run <code class="highlighter-rouge">composer install</code></p>

    <p>This method works unless <code class="highlighter-rouge">composer.json</code> references packages in private repositories to which you do not have access. This method results in getting the entire Magento codebase.</p>
  </li>
  <li>
    <p>Copy the <code class="highlighter-rouge">vendor</code>, <code class="highlighter-rouge">app</code>, <code class="highlighter-rouge">pub</code>, <code class="highlighter-rouge">lib</code>, and <code class="highlighter-rouge">setup</code> directories</p>

    <p>This method results in your having all code you can possibly test. Depending on how many static assets you have, it could result in a long transfer with a large volume of files.</p>
  </li>
  <li>
    <p>Copy the <code class="highlighter-rouge">vendor</code> directory only</p>

    <p>Because most Magento and third-party code is in the <code class="highlighter-rouge">vendor</code> directory, this method is likely to result in good testing although you won’t be testing the entire codebase.</p>
  </li>
</ul>

<p>To compress files and copy them to your local machine:</p>

<ol>
  <li>SSH to the environment.</li>
  <li>
    <p>Enter the following command:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>tar -czf /tmp/&lt;file name&gt;.tgz &lt;directory list&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>For example, to compress the <code class="highlighter-rouge">vendor</code> directory only, enter</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>tar -czf /tmp/vendor.tgz vendor
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>On your local environment with PhpStorm, enter the following commands:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>cd &lt;phpstorm project root dir&gt;
rsync &lt;SSH URL&gt;:/tmp/&lt;file name&gt;.tgz .
tar xzf &lt;file name&gt;.tgz
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<h2 id="trouble">Troubleshooting Xdebug</h2>

<p>If you you suspend your laptop (like closing your lid on a Mac), then your SSH session may no longer work when your computer resumes. But the TCP session for the SSH connection on the server might not timeout on the server, leaving any open debug sessions active and preventing you from using the nginx server.</p>

<p>Due to not having access to manually restart the nginx server, you need to locate and terminate SSH processes that haven’t timed out yet.</p>

<ol>
  <li><a href="/devdocs-archive/2.1/guides/v2.1/cloud/env/environments-ssh.html">SSH</a> to the integration, staging, or production server.</li>
  <li>Enter <code class="highlighter-rouge">who</code> to view a list of SSH sessions.</li>
  <li>
    <p>View existing SSH sessions by user. Be careful to not affect a user other than yourself!</p>

    <ul>
      <li>Integration: usernames are similar to <code class="highlighter-rouge">dd2q5ct7mhgus</code></li>
      <li>Staging: usernames are similar to <code class="highlighter-rouge">dd2q5ct7mhgus_stg</code></li>
      <li>Production: usernames are similar to <code class="highlighter-rouge">dd2q5ct7mhgus</code></li>
    </ul>
  </li>
  <li>For a user session that is older than yours, find the pseudo-terminal (PTS) value. For example, <code class="highlighter-rouge">pts/0</code>.</li>
  <li>
    <p>Kill the process ID (PID) corresponding to the PTS value using the following commands:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>ps aux | grep ssh
kill &lt;PID&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>For example, suppose <code class="highlighter-rouge">ps aux | grep ssh</code> returned the following:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>dd2q5ct7mhgus        5504  0.0  0.0  82612  3664 ?      S    18:45   0:00 sshd: dd2q5ct7mhgus@pts/0
</pre></td></tr></tbody></table></code></pre></div>    </div>

    <p>To terminate the connection, you enter a kill command with the process ID (PID). For example:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>kill 3664
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  
  <div class="page-updated">
    <img src="/devdocs-archive/2.1/i/icons/time.svg" alt="Updated" />
    <time id="last-modified-at" itemprop="dateModified" datetime="2019-01-14">
      Jan 14th, 2019
    </time>
  </div>
  

  


  

    

    

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links" role="menu">

  <li class="" role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md">Become a Contributor</a></li>

  <li class="" role="menuitem"><a href="https://glossary.magento.com/">Glossary</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/privacy/">Privacy Policy</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/">Terms of Service</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/licensing/">License/Trademark FAQ</a></li>

  <li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/release-notes/bk-release-notes.html">Release Notes</a></li>

  <li class="" role="menuitem"><a href="/devdocs-archive/2.1/guides/v2.1/release-notes/packages-open-source.html">Third-Party Licenses</a></li>

</ul>

    </div>

		<div class="copyright-date">&copy; 2023 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/devdocs-archive/2.1/assets/js/app.min.js"></script>





<script type="text/javascript" src="/devdocs-archive/2.1/common/js/last-modified-at.js"></script>
<script type="text/javascript" src="/devdocs-archive/2.1/common/js/glossary-link-enhancer.js"></script>


</body>
</html>

