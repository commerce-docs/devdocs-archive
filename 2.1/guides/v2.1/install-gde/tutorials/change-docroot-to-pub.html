<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Modify docroot to improve security | Archived Magento 2.1 Developer Documentation</title>
	<meta name="description" content="Archived Magento 2.1.18 Developer Documentation.">

	<link rel="stylesheet" href="/devdocs/2.1/assets/css/app.css" />
	<link rel="stylesheet" href="/devdocs/2.1/assets/css/print.css" media="print"/>

	<link rel="stylesheet" href="/devdocs/2.1/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />



	<script>
  var baseUrl = "/devdocs/2.1";
  var algolia = {
    id : "",
    index:  "",
    key:  "",
    facetFilters: [["guide_version: 2.1", "versionless: true"]]
  };
</script>




	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://magento.com/favicon.ico">
	<link rel="apple-touch-icon" type="image/png" href="https://magento.com/apple-touch-icon.png">
	<link rel="apple-touch-icon" type="image/png" sizes="57x57" href="https://magento.com/apple-touch-icon-57x57.png">
	<link rel="apple-touch-icon" type="image/png" sizes="72x72" href="https://magento.com/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://magento.com/apple-touch-icon-76x76.png">
	<link rel="apple-touch-icon" type="image/png" sizes="114x114" href="https://magento.com/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://magento.com/apple-touch-icon-120x120.png">
	<link rel="apple-touch-icon" type="image/png" sizes="144x144" href="https://magento.com/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://magento.com/apple-touch-icon-152x152.png">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://magento.com/apple-touch-icon-180x180.png">

</head>
<body class="layout-default">

	<header class="site-header">

		<nav class="site-nav">

  <div class="menu-btn">
    <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
  </div>

  <div class="nav-container">

    <a class="logo" href="/devdocs/2.1/">
      <img src="/devdocs/2.1/assets/i/m-logo.svg" alt=""><img src="/devdocs/2.1/assets/i/magento-logo.svg" alt="Magento" class="magento-logo" />
      <span class="site-logo">DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      


<div class="version-switcher dropdown">
	<button class="btn dropdown-toggle" disabled>
		Magento 2.1
	</button>
</div>


      <!-- Main Navigation --><ul class="nav-main" role="menubar"><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Cloud</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Cloud basics</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/bk-cloud.html">Cloud Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/architecture/cloud-architecture.html">Cloud Architecture</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/project/project-upgrade-parent.html">Upgrades and Patches</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/release-notes/cloud-tools.html">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Cloud development</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/setup/first-time-setup.html">Local development</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/docker/docker-config.html">Launch Docker</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/docker/docker-quick-reference.html">Docker quick reference</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/cloud/env/environments.html">Configure Environments</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Setup</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/bk-install-guide.html">Installation Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/extensions/">Magento Extensions Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/comp-mgr/bk-compman-upgrade-guide.html">Component Manager and System Upgrade Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/config-guide/bk-config-guide.html">Configuration Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/migration/bk-migration-guide.html">Migration Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/release-notes/bk-release-notes.html">Release Information</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/reference/cli/magento.html">Command-line Tools Reference</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Development</span><div class="nav-popup"><div class="nav-section">
              <div class="nav-section-title">Backend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/architecture/bk-architecture.html">Architecture</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/bk-extension-dev-guide.html">PHP Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/ext-best-practices/bk-ext-best-practices.html">Extension Developer Best Practices</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/mrg/intro.html">Module Reference Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/coding-standards/bk-coding-standards.html">Coding Standards</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/contributor-guide/contributing.html">Contributor Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">Frontend</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/frontend-dev-guide/bk-frontend-dev-guide.html">Frontend Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/ui_comp_guide/bk-ui_comps.html">UI Components Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/javascript-dev-guide/bk-javascript-dev-guide.html">JavaScript Developer Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/pattern-library/bk-pattern.html">Admin Design Pattern Library</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/design-styleguide/bk-styleguide.html">Admin Style Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="nav-section-title">API</div>
              <ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/get-started/bk-get-started-api.html">Get Started with Magento Web APIs</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/rest/bk-rest.html">REST API Reference</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/soap/bk-soap.html">SOAP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/marketplace/eqp/api.html">Marketplace EQP API Reference</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/mbi/docs/getting-started.html">Business Intelligence Import API</a></li></ul>
            </div></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Testing</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/test/testing.html">Magento Testing Guide</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/mtf/mtf_introduction.html">Functional Testing</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/test/integration/integration_test_execution.html">Integration Testing</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/test/js/jasmine.html">JavaScript Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/test/unit/unit_test_execution.html">PHP Unit Testing</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/get-started/web-api-functional-testing.html">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Functional Areas</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/howdoi/checkout/checkout_overview.html">Checkout</a></li><li class="" role="menuitem"><a href="http://omsdocs.magento.com/en/">Order Management</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/payments-integrations/bk-payments-integrations.html">Payment Integrations</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/extension-dev-guide/staging.html">Staging</a></li></ul></div></li><li class="nav-main-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span tabindex="-1">Tutorials</span><div class="nav-popup"><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/rest/tutorials/index.html">Rest Tutorials</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/howdoi/customize_product.html">Customize Product Creation Form</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/howdoi/checkout/checkout_overview.html">Customize Checkout</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/community/resources/support.html">Magento Support</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/videos/">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="search-btn">
      <button class="search-trigger search-icon" aria-label="Search"></button>
    </div>

    <form class="quick-search" action="/devdocs/2.1/guides/v2.1/search.html" method="get" novalidate="novalidate">
      <input type="search" name="q" placeholder="Search" />
      <button class="quick-search-close" aria-label="Close Search">&times;</button>
    </form>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		
    <div class="message-banner">
       <a href="http://devdocs.magento.com/guides/v2.1/release-notes/ReleaseNotes2.1.18CE.html" target="_blank">Magento 2.1.18</a> is the final 2.1.x release. After June 2019, Magento 2.1.x will no longer receive security patches, quality fixes, or documentation updates.</br>To maintain your site's performance, security, and PCI compliance, upgrade to the latest version of Magento.</a>
    </div>









		<div class="main-container">
			<a id="main-content"></a>


<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Installation Guide</h4>
		<div class="collapsible-navigation">
		    <ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/bk-install-guide.html">How to get the Magento software</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install-flow-diagram.html">Installation flow diagram</a></li><li class="" role="menuitem"><span>Just the basics</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/basics/basics_magento-installed.html">Is the Magento software installed already?</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/basics/basics_os-version.html">What operating system is my server running?</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/basics/basics_login.html">How do I log in to my Magento server using a terminal, command prompt, or SSH?</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/basics/basics_module.html">What's the difference between a module and a component?</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/basics/basics_software.html">What is the software that the Magento server needs to run?</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/basics/basics_docroot.html">What is a docroot?</a></li></ul></li><li class="" role="menuitem"><span>Getting Started</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install-resources-parent.html">Helpful resources</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install-quick-ref.html">Installation quick reference (tutorial)</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install-resource-diagram.html">Installation flow diagram</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install-roadmap_part1.html">Installation roadmap (reference)</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/system-requirements.html">Magento system requirements</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/system-requirements-tech.html">Magento technology stack requirements</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/system-requirements_browsers.html">Supported browsers</a></li><li class="" role="menuitem"><span>Transport Layer Security (TLS) requirements</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/system-requirements_tls1-2.html">TLS 1.2 requirement for PayPal</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/system-requirements_repo-tls1-2.html">TLS requirement for repo.magento.com</a></li></ul></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/prereq-overview.html">Prerequisites</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/apache.html">Apache</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/nginx.html">nginx</a></li><li class="" role="menuitem"><span>PHP</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/php-centos.html">PHP for Centos</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/php-ubuntu.html">PHP for Ubuntu</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/php-settings.html">Required PHP settings</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/mysql.html">MySQL</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/connect-auth.html">Get your authentication keys</a></li><li class="" role="menuitem"><span>Magento file system ownership and permissions</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/file-sys-perms-over.html">Overview of ownership and permissions</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/file-system-perms.html">Set pre-installation ownership and permissions</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/install-rabbitmq.html">RabbitMQ (Magento Commerce only)</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/mysql_remote.html">Set up a remote MySQL database connection</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/security.html">SELinux and iptables</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/optional.html">Optional software</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/prereq_updater.html">Set up the updater</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/get-software.html">Get the Magento software</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/composer.html">Install Magento using Composer</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/zip_install.html">(Easy) Install the Magento archive on your server</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/dev_install.html">(Contributor) Clone the Magento repository</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/prepare-install.html">Update installation dependencies</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/get-help.html">Get help with your installation</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/continue-to-install.html">Install options</a></li></ul></li><li class="" role="menuitem"><span>Setup Wizard Install</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install-roadmap_web.html">Installation roadmap (reference)</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/web/install-web-sample-data.html">Install optional sample data modules</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/web/install-web-sample-data-composer.html">Install using Composer</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/web/install-web-sample-data-clone.html">Install by cloning repositories</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/web/install-web.html">Setup Wizard installation</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/web/install-web_1-readiness.html">Step 1. Readiness check</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/web/install-web_2-db.html">Step 2. Add a Database</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/web/install-web_3-web-conf.html">Step 3. Web Configuration</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/web/install-web_4-customize-store.html">Step 4. Customize Your Store</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/web/install-web_5-create-admin.html">Step 5. Create Admin Account</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/web/install-web_6-install.html">Step 6. Install</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/continue-to-verify.html">Post-installation</a></li></ul></li><li class="" role="menuitem"><span>Command Line Installation</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install-roadmap_cli.html">Installation roadmap (reference)</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-sample-data.html">Install optional sample data modules</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-sample-data-composer.html">Install using Composer</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-sample-data-clone.html">Install by cloning repositories</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli.html">Install the Magento software using the command line</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-subcommands.html">Get started with the command-line installation</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-install.html">Install the Magento software</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-uninstall.html">Uninstall or reinstall Magento</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-adminurl.html">Display or change the Admin URI</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-sample-data-other.html">Remove sample data modules or update sample data</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-subcommands-enable.html">Enable or disable modules</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-uninstall-mods.html">Uninstall modules</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-subcommands-deployment.html">Create or update the deployment configuration</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-subcommands-maint.html">Enable or disable maintenance mode</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-subcommands-db.html">Create the Magento database schema</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-subcommands-db-upgr.html">Update the Magento database schema and data</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-subcommands-store.html">Configure the store</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-subcommands-admin.html">Create, edit, or unlock a Magento administrator account</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-backup.html">Back up and roll back the file system, media, and database</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-theme-uninstall.html">Uninstall themes Composer packages</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/install-cli-uninstall-langpk.html">Uninstall language packages</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/dev_options.html">Contributing developers—update, reinstall Magento</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/dev_update-magento.html">Update the Magento application</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/dev_add-update.html">Add or update components</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/dev_downgrade.html">Change to a released version</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/cli/dev_reinstall.html">Reinstall the Magento software</a></li></ul></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/continue-to-verify_cli.html">Post-installation</a></li></ul></li><li class="" role="menuitem"><span>Post Installation</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/verify.html">Verify the installation</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/post-install-config.html">Configure the Magento application</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/post-install-umask.html">Optionally set a umask</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/legacy-file-system-perms.html">Appendix—Magento file system ownership and appendix (legacy)</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/sample-data-after-magento.html">Install sample data after Magento</a><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/sample-data-after-composer.html">Install using Composer</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/install/sample-data-after-clone.html">Install by cloning repositories</a></li></ul></li></ul></li><li class="" role="menuitem"><span>Troubleshooting</span><ul><li class="" role="menuitem"><span>Access issues</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_access-browser.html">Cannot access Magento software in a web browser</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/php/tshoot_mod_access_compat.html">503 (Service Unavailable) errors accessing Magento software in a web browser</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_no-styles.html">After installing, images and stylesheets do not load; only text displays, no graphics</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_exceptions.html">Exceptions during installation</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_var-gen-perms.html">Cannot write to the var/generation directory</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_install_depend.html">Installation dependencies not met</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_admin.html">Error after logging in to the Magento Admin</a></li></ul></li><li class="" role="menuitem"><span>Errors during installation</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/php/tshoot_70pct.html">Installation stops at about 70%</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/php/tshoot_nginx-port.html">Cannot install using nginx</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/php/tshoot_pdo.html">During installation, fatal PDO error displays</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_wrong-mysql.html">During installation, Reflection Exception error</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/php/tshoot_session.html">During installation, exception SessionHandler::read()</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_composer-fail.html">Download fails because of changes in Composer</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_bundlesampledata.html">Unknown module Magento_BundleSampleData</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_install-log.html">Installation fails; cannot create install.log</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_sample-data.html">Errors installing optional sample data</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/php/tshoot_xdebug.html">During installation, xdebug maximum function nesting level error</a></li></ul></li><li class="" role="menuitem"><span>Readiness check issues</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/readiness/tshoot_rc_depend.html">Component dependency readiness issues</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/readiness/tshoot_rc_cron.html">cron readiness check issues</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/readiness/tshoot_rc_perms.html">File permissions readiness check issues</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/readiness/tshoot_rc_php.html">PHP version readiness check issues</a></li></ul></li><li class="" role="menuitem"><span>GitHub errors</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/git/tshoot_clone.html">Cannot clone the Magento GitHub repository</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/git/tshoot_git-pull-origin.html">git pull origin develop fails when updating the Magento software</a></li></ul></li><li class="" role="menuitem"><span>PHP errors</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/php/tshoot_opcache.html">Resolve an illegal offset error</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/php/tshoot_php-set.html">PHP settings errors</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/php/tshoot_mcrypt.html">The PHP mcrypt extension is not installed properly</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/php/tshoot_php-date.html">During installation, PHP date warning</a></li></ul></li><li class="" role="menuitem"><span>Other issues</span><ul><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_install-issues.html">Known issues that affect installation</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_mysql_table-open-cache.html">Error 'MySQL server has gone away' during installation</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_segfault.html">Segmentation fault during rollback</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/php/tshoot_phpini.html">SQLSTATE[HY000] [2002] No such file or directory</a></li><li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_composer-install.html">Cannot run 'composer install'</a></li></ul></li></ul></li><li class="" role="menuitem"><span>How Tos</span><ul><li class="active" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/install-gde/tutorials/change-docroot-to-pub.html">Modify docroot to improve security</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<!-- page-header -->
<section class="page-intro">
	

	

	<h1 class="page-heading">Modify docroot to improve security</h1>
</section>

			<p>If you installed Magento in Apache’s default docroot <code class="highlighter-rouge">/var/www/html</code>, the Magento file system is vulnerable because it’s accessible from a browser. This topic describes how to change the Apache <a href="/devdocs/2.1/guides/v2.1/install-gde/basics/basics_docroot.html">docroot</a> on an existing Magento instance to serve files from the Magento <code class="highlighter-rouge">pub/</code> directory, which is more secure.</p>

<p>Serving files from the <code class="highlighter-rouge">pub/</code> directory prevents site visitors from accessing the Web Setup Wizard and other sensitive areas of the Magento file system from a browser.</p>

<p class="bs-callout bs-callout-warning">If you’re accustomed to using the Web Setup Wizard during development, be aware that you won’t be able to access it when serving files from the <code class="highlighter-rouge">pub/</code> directory.</p>

<div class="bs-callout bs-callout-tip">
  <p>If you’re using <a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/nginx.html">nginx</a> and the <a href="https://github.com/magento/magento2/blob/2.1/nginx.conf.sample" target="_blank"><code class="highlighter-rouge">nginx.conf.sample</code></a> file included in the Magento installation directory, you’re probably already serving files from the <code class="highlighter-rouge">pub/</code> directory.</p>

  <p>The sample configuration overrides your server’s docroot settings to serve files from Magento’s <code class="highlighter-rouge">pub/</code> directory; assuming you’ve referenced the <code class="highlighter-rouge">nginx.conf.sample</code> in the server block that defines your site. For example, see the last line in the following configuration:</p>

  <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre># /etc/nginx/sites-available/magento

upstream fastcgi_backend {
     server  unix:/run/php/php7.0-fpm.sock;
 }

 server {

          listen 80;
          server_name 192.168.33.10;
          set $MAGE_ROOT /var/www/html/magento2ce;
          include /var/www/html/magento2ce/nginx.conf.sample;
}
</pre></td></tr></tbody></table></code></pre></div>  </div>
</div>

<h2 id="before-you-begin">Before you begin</h2>

<p>To complete this tutorial, you’ll need access to a working Magento installation running on a <a href="https://en.wikipedia.org/wiki/LAMP_(software_bundle)" target="_blank">LAMP</a> stack:</p>

<ul>
  <li>Linux</li>
  <li>Apache (2.2+)</li>
  <li>MySQL (5.6+)</li>
  <li>PHP (5.6 or 7.0)</li>
  <li>Magento (2.0+)</li>
</ul>

<p class="bs-callout bs-callout-info">Refer to <a href="/devdocs/2.1/guides/v2.1/install-gde/prereq/prereq-overview.html">Prerequisites</a> and the <a href="/devdocs/2.1/guides/v2.1/install-gde/bk-install-guide.html">Installation Guide</a> for more information.</p>

<h2 id="1-edit-your-server-configuration">1. Edit your server configuration</h2>

<p>The name and location of your virtual host file depends on which version of Apache you’re running. This example shows the name and location of the virtual host file on Apache v2.4.</p>

<ol>
  <li>Log in to your Magento server.</li>
  <li>
    <p>Edit your virtual host file:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>vim /etc/apache2/sites-available/000-default.conf
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Add the path to your Magento <code class="highlighter-rouge">pub/</code> directory to the <code class="highlighter-rouge">DocumentRoot</code> directive:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre>&lt;VirtualHost *:80&gt;

        ServerAdmin webmaster@localhost
        DocumentRoot /var/www/html/magento2ce/pub

        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        &lt;Directory "/var/www/html"&gt;
                    AllowOverride all
        &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Restart Apache:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>systemctl restart apache2  
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<h2 id="2-update-your-base-url">2. Update your base URL</h2>

<p>If you appended a directory name to your server’s hostname or IP address to create the base URL when you installed Magento (for example <code class="highlighter-rouge">http://192.168.33.10/magento2</code>), you’ll need to remove it.</p>

<p class="bs-callout bs-callout-info">Replace <code class="highlighter-rouge">192.168.33.10</code> with your server’s hostname.</p>

<ol>
  <li>
    <p>Log in to the Magento database:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>mysql -u &lt;user&gt; -p
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Specify the Magento database you created when you installed Magento:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>use &lt;database-name&gt;
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>
    <p>Update the base URL:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>UPDATE core_config_data SET value='http://192.168.33.10' WHERE path='web/unsecure/base_url';
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ol>

<h2 id="3-switch-modes">3. Switch modes</h2>
<p><a href="/devdocs/2.1/guides/v2.1/config-guide/bootstrap/magento-modes.html">Magento modes</a>, which include <code class="highlighter-rouge">production</code> and <code class="highlighter-rouge">developer</code>, are designed to improve security and make development easier. As the names suggest, you should switch to <code class="highlighter-rouge">developer</code> mode when extending or customizing Magento and switch to <code class="highlighter-rouge">production</code> mode when running Magento in a live environment.</p>

<p>Switching between modes is an important step in verifying that your server configuration is working properly. You can switch between modes using the Magento CLI tool:</p>

<ol>
  <li>Go to your Magento installation directory.</li>
  <li>
    <p>Switch to <code class="highlighter-rouge">production</code> mode.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>bin/magento deploy:mode:set production
bin/magento cache:flush
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>Refresh your browser and verify that the storefront displays properly.</li>
  <li>
    <p>Switch to <code class="highlighter-rouge">developer</code> mode.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>bin/magento deploy:mode:set developer
bin/magento cache:flush
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
  <li>Refresh your browser and verify that the storefront displays properly.</li>
</ol>

<h2 id="4-verify-the-storefront">4. Verify the storefront</h2>

<p>Go to the <a href="https://glossary.magento.com/storefront">storefront</a> in a web browser to verify that everything is working.</p>

<ol>
  <li>
    <p>Open a web browser and enter your server’s hostname or IP address in the address bar. For example, http://192.168.33.10.</p>

    <p>The following figure shows a sample storefront page. If it displays as follows, your installation was a success!</p>

    <p><img src="/devdocs/2.1/common/images/install-success_store.png" alt="Magento storefront which verifies a successful installation" class="width=&quot;450px&quot;" /></p>

    <p>Refer to the <a href="/devdocs/2.1/guides/v2.1/install-gde/trouble/tshoot_no-styles.html">troubleshooting section</a> if the page displays a 404 (Not Found) or fails to load other assets like images, CSS, and JS.</p>
  </li>
  <li>
    <p>Try accessing the Magento directory for the Web Setup Wizard from a browser. Append “<em>setup/</em>” to your server’s hostname or IP address in the address bar:</p>

    <p>If you see a 404 or the “Access denied” message, you’ve successfully restricted access to the Magento file system.</p>

    <p><img src="/devdocs/2.1/common/images/access-denied.png" alt="Access denied" /></p>
  </li>
</ol>

<h2 class="no_toc" id="congratulations-youre-finished">Congratulations! You’re finished.</h2>

			
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  
  <div class="page-updated">
    <img src="/devdocs/2.1/i/icons/time.svg" alt="Updated" />
    <time id="last-modified-at" itemprop="dateModified" datetime="2019-05-31">
      May 31st, 2019
    </time>
  </div>
  

  


  

    

    

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->


	</div>
	<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
  <div class="container">

    <div class="copyright-links">
      

<ul class="nav footer-links" role="menu">

  <li class="" role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md">Become a Contributor</a></li>

  <li class="" role="menuitem"><a href="https://glossary.magento.com/">Glossary</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/privacy/">Privacy Policy</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/terms/">Terms of Service</a></li>

  <li class="" role="menuitem"><a href="https://magento.com/legal/licensing/">License/Trademark FAQ</a></li>

  <li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/release-notes/bk-release-notes.html">Release Notes</a></li>

  <li class="" role="menuitem"><a href="/devdocs/2.1/guides/v2.1/release-notes/packages-open-source.html">Third-Party Licenses</a></li>

</ul>

    </div>

		<div class="copyright-date">&copy; 2023 Magento. All rights reserved.</div>

  </div>
</div>
<!-- / #footer -->


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/devdocs/2.1/assets/js/app.min.js"></script>





<script type="text/javascript" src="/devdocs/2.1/common/js/last-modified-at.js"></script>
<script type="text/javascript" src="/devdocs/2.1/common/js/glossary-link-enhancer.js"></script>


</body>
</html>

