<!DOCTYPE html>
<html lang="en" dir="ltr" class="spectrum spectrum--medium spectrum--lightest">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Running Integration Tests | Archived 2.3 Magento Developer Guide</title>
	<meta name="description" content="Magento Developer Guide">

	<link rel="stylesheet" href="https://use.typekit.net/iaw1apr.css">
	<link rel="stylesheet" href="/devdocs-archive/2.3/assets/css/app.css?ver=20" />
	<link rel="stylesheet" href="/devdocs-archive/2.3/assets/css/print.css?ver=20" media="print" />
	<script src="https://assets.adobedtm.com/a7d65461e54e/f87b70cb627a/launch-b042bff6c581.min.js" async></script>

	<link rel="stylesheet" href="/devdocs-archive/2.3/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />
<meta name="google-site-verification" content="3WFsoYwBe6UuxDwgs7bmd7t0YFQVzDpLpWLjNh0CUp8" />

	<script>
  var baseUrl = "/devdocs-archive/2.3";
  var algolia = {
    id: "E642SEDTHL",
    index: "devdocs",
    key: "d2d0f33ab73e291ef8d88d8b565e754c",
  };

  var indices = [{
      label: "Results",
      name: "devdocs",
      facetFilters: [
        ["guide_version: 2.3",
          "versionless: true"
        ]
      ],
      refinements: [{
        label: "Functional areas",
        attribute: "functional_areas"
      }],
      baseUrl: "/devdocs-archive/2.3"
    }
  ];

</script>




	<link rel="icon" href="https://www.adobe.com/favicon.ico" type="image/x-icon" />
	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://adobe.com/favicon.ico">

</head>

<body class="layout-default">

	<header class="site-header">

		

<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" href="/devdocs-archive/2.3/">
      <img class="logo-image" src="/devdocs-archive/2.3/assets/i/adobe-a.svg" alt="Adobe">
      <span class="logo-text">Adobe</span>
      <span class="site-logo">Commerce DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      <!-- Main Navigation --><ul class="nav-main spectrum-Tabs spectrum-Tabs--sizeM spectrum-Tabs--horizontal" role="menubar"><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Cloud</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud basics</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/overview.html" class="spectrum-Menu-itemLabel ">Cloud Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/architecture/cloud-architecture.html" class="spectrum-Menu-itemLabel ">Cloud Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/project/file-structure.html" class="spectrum-Menu-itemLabel ">Project Structure</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/best-practices.html" class="spectrum-Menu-itemLabel ">Upgrades and Patches</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/release-notes/cloud-tools-suite.html" class="spectrum-Menu-itemLabel ">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud development</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/" class="spectrum-Menu-itemLabel ">Local development</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/configure/" class="spectrum-Menu-itemLabel ">Configure and launch Docker</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/quick-reference/" class="spectrum-Menu-itemLabel ">Docker quick reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/configure/app/configure-app-yaml.html" class="spectrum-Menu-itemLabel ">Configure Application</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/configure/env/configure-env-yaml.html" class="spectrum-Menu-itemLabel ">Configure Environments</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Functional Testing</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/test/application-testing/" class="spectrum-Menu-itemLabel ">Application testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/test/code-testing/" class="spectrum-Menu-itemLabel ">Cloud code testing</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Setup</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/install-gde/install-flow-diagram.html" class="spectrum-Menu-itemLabel ">Installation Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-admin/start/resources/extensions.html" class="spectrum-Menu-itemLabel ">Extensions Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/comp-mgr/bk-compman-upgrade-guide.html" class="spectrum-Menu-itemLabel ">Software Update Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/config-guide/bk-config-guide.html" class="spectrum-Menu-itemLabel ">Configuration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/performance-best-practices/introduction.html" class="spectrum-Menu-itemLabel ">Performance Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/migration/bk-migration-guide.html" class="spectrum-Menu-itemLabel ">Migration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-operations/release/notes/overview.html" class="spectrum-Menu-itemLabel ">Release Information</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/reference/cli/magento.html" class="spectrum-Menu-itemLabel ">Command-line Tools Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-operations/tools/overview.html" class="spectrum-Menu-itemLabel ">Tools</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Development</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Backend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/architecture/bk-architecture.html" class="spectrum-Menu-itemLabel ">Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/bk-extension-dev-guide.html" class="spectrum-Menu-itemLabel ">PHP Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/bk-ext-best-practices.html" class="spectrum-Menu-itemLabel ">Extension Developer Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/mrg/intro.html" class="spectrum-Menu-itemLabel ">Module Reference Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/coding-standards/bk-coding-standards.html" class="spectrum-Menu-itemLabel ">Coding Standards</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/contributor/guides/" class="spectrum-Menu-itemLabel ">Contributor Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/contributor/community/" class="spectrum-Menu-itemLabel ">Contribution Resources</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Frontend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/frontend-dev-guide/bk-frontend-dev-guide.html" class="spectrum-Menu-itemLabel ">Frontend Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ui_comp_guide/bk-ui_comps.html" class="spectrum-Menu-itemLabel ">UI Components Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/javascript-dev-guide/bk-javascript-dev-guide.html" class="spectrum-Menu-itemLabel ">JavaScript Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/pattern-library/bk-pattern.html" class="spectrum-Menu-itemLabel ">Admin Design Pattern Library</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/design-styleguide/bk-styleguide.html" class="spectrum-Menu-itemLabel ">Admin Style Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/pwa-studio/" class="spectrum-Menu-itemLabel ">PWA Documentation Site</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/frontend-core/page-builder/" class="spectrum-Menu-itemLabel ">Page Builder Developer Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">API</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/get-started/bk-get-started-api.html" class="spectrum-Menu-itemLabel ">Get Started with our Web APIs</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/rest/bk-rest.html" class="spectrum-Menu-itemLabel ">REST API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/soap/bk-soap.html" class="spectrum-Menu-itemLabel ">SOAP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/graphql/" class="spectrum-Menu-itemLabel ">GraphQL Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/marketplace/guides/eqp/v1/" class="spectrum-Menu-itemLabel ">Marketplace EQP API Reference</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Testing</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/testing.html" class="spectrum-Menu-itemLabel ">Application Testing Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/mftf/v2/docs/introduction.html" class="spectrum-Menu-itemLabel ">Functional Acceptance Testing (MFTF)</a></li><li class="is-selected  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/integration_test_execution.html" class="spectrum-Menu-itemLabel ">Integration Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/js/jasmine.html" class="spectrum-Menu-itemLabel ">JavaScript Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/unit/unit_test_execution.html" class="spectrum-Menu-itemLabel ">PHP Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/get-started/web-api-functional-testing.html" class="spectrum-Menu-itemLabel ">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Functional Areas</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/advanced-reporting/overview.html" class="spectrum-Menu-itemLabel ">Advanced Reporting</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/b2b/bk-b2b.html" class="spectrum-Menu-itemLabel ">B2B</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-merchant-services/catalog-service/overview.html" class="spectrum-Menu-itemLabel ">Catalog Service</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/inventory/index.html" class="spectrum-Menu-itemLabel ">Inventory Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-merchant-services/live-search/guide-overview.html" class="spectrum-Menu-itemLabel ">Live Search</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/marketplace/guides/sellers/" class="spectrum-Menu-itemLabel ">Commerce Marketplace</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html" class="spectrum-Menu-itemLabel ">Payment Services</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://omsdocs.magento.com/en/" class="spectrum-Menu-itemLabel ">Order Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/frontend-core/page-builder/" class="spectrum-Menu-itemLabel ">Page Builder</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-merchant-services/product-recommendations/developer/development-overview.html" class="spectrum-Menu-itemLabel ">Product Recommendations Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-operations/security-and-compliance/overview.html" class="spectrum-Menu-itemLabel ">Security and Compliance</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/services/shared-services/" class="spectrum-Menu-itemLabel ">Shared Services</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/staging.html" class="spectrum-Menu-itemLabel ">Staging</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Tutorials</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/rest/tutorials/index.html" class="spectrum-Menu-itemLabel ">Rest Tutorials</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/custom-attributes/introduction.html" class="spectrum-Menu-itemLabel ">Custom Attributes</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/customize_product.html" class="spectrum-Menu-itemLabel ">Customize Product Creation Form</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Customize Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/contributor/community/support/" class="spectrum-Menu-itemLabel ">Support</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-learn/tutorials/overview.html" class="spectrum-Menu-itemLabel ">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="nav-actions">
      <div class="version-switcher">
	<button class="spectrum-Picker spectrum-Picker--sizeM dropdown-toggle" disabled>
		<span class="spectrum-Picker-label">Version 2.3</span>
	</button>
</div>
    </div>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		

		<div class="main-container">
			<a id="main-content"></a>

<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Testing</h4>
		
		<div class="collapsible-navigation">
		  <ul class="spectrum-SideNav spectrum-SideNav--multiLevel"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/testing.html" class="spectrum-SideNav-itemLink ">Introduction</a></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Integration testing</span><ul class="spectrum-SideNav"><li class="is-selected  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/integration_test_execution.html" class="spectrum-SideNav-itemLink ">Running integration tests</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/annotations.html" class="spectrum-SideNav-itemLink ">Using DocBlock annotations</a><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/annotations/depends.html" class="spectrum-SideNav-itemLink ">@depends</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/annotations/magento-app-area.html" class="spectrum-SideNav-itemLink ">@magentoAppArea</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/annotations/magento-app-isolation.html" class="spectrum-SideNav-itemLink ">@magentoAppIsolation</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/annotations/magento-cache.html" class="spectrum-SideNav-itemLink ">@magentoCache</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/annotations/magento-components-dir.html" class="spectrum-SideNav-itemLink ">@magentoComponentsDir</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/annotations/magento-config-fixture.html" class="spectrum-SideNav-itemLink ">@magentoConfigFixture</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/annotations/magento-data-fixture.html" class="spectrum-SideNav-itemLink ">@magentoDataFixture</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/annotations/magento-db-isolation.html" class="spectrum-SideNav-itemLink ">@magentoDbIsolation</a></li></ul></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">JavaScript Unit Testing</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/js/jasmine.html" class="spectrum-SideNav-itemLink ">Jasmine</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">PHP Unit Testing</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/unit/unit_test_execution.html" class="spectrum-SideNav-itemLink ">Running Unit Tests</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/unit/unit_test_execution_cli.html" class="spectrum-SideNav-itemLink ">Running Unit Tests in CLI</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/unit/unit_test_execution_phpstorm.html" class="spectrum-SideNav-itemLink ">Running Unit Tests in PhpStorm</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/unit/writing_testable_code.html" class="spectrum-SideNav-itemLink ">Writing Testable Code</a></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Using DocBlock annotations</span><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/unit/annotations/data-provider.html" class="spectrum-SideNav-itemLink ">@dataProvider</a></li></ul></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Static Testing</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/static/static_test_execution.html" class="spectrum-SideNav-itemLink ">Running Static Tests</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/static/static-analysis.html" class="spectrum-SideNav-itemLink ">Setting up for Static Analysis</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Semantic Version Checker</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/svc/semver_test_execution.html" class="spectrum-SideNav-itemLink ">Running SVC tool</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<header class="content-header">
				<!-- page-header -->
<section class="page-intro">

  

  
  <div class="message-banner">
    <center>Adobe Commerce 2.3 reached end of support in September 2022.</center>
  </div>
  

  




<!--   

<div class="spectrum-Tags" role="list" aria-label="Tags">
  <div class="spectrum-Tags-item" role="listitem" tabindex="0">
    <img class="spectrum-Avatar" src="img/example-ava.jpg" alt="Avatar">
    <span class="spectrum-Tags-itemLabel">Shantanu</span>
  </div>
</div> -->


  <h1 class="page-title">Running Integration Tests</h1>

  

  
	<div class="github-links spectrum-ActionGroup--compact ActionGroup--justified"></div>
	

</section>

			</header>
			<main>
				<p>Integration tests require the Magento runtime environment, so they need a little preparation before they can be executed.
After preparing the system, you can execute tests using the command line interface or within an IDE like PhpStorm.</p>

<h2 id="set-up-the-integration-test-framework">Set up the integration test framework</h2>

<p>To run integration tests, you must create and configure a test database.
You may also want to adjust the PHPUnit configuration, depending on your requirements.</p>

<p>See <a href="#setup">Preparing Integration Test Execution</a>.</p>

<h2 id="command-line-interface-cli">Command Line Interface (CLI)</h2>

<p>This option can be used for running tests locally during development or on remote servers during continuous integration.</p>

<p>See <a href="#cli-run">Running Integration Tests in the CLI</a>.</p>

<h2 id="phpstorm-ide">PhpStorm IDE</h2>

<p>Running integration tests inside an IDE, like PhpStorm, is convenient during development. This is mostly used when writing a new integration test.</p>

<p>Other than convenience, there is no benefit over running the tests on the console.</p>

<p>See <a href="/devdocs-archive/2.3/guides/v2.3/test/unit/unit_test_execution_phpstorm.html">Running Integration Tests in PhpStorm</a>.</p>

<h2 id="setup">Prepare integration test execution</h2>

<p>Before you can use the Magento integration test framework, you must prepare the test environment.
Prerequisites for the test environment include the following:</p>

<ul>
  <li>A dedicated integration test database</li>
  <li>The test framework database configuration</li>
  <li>The PHPUnit configuration matches the purpose of the integration test execution</li>
</ul>

<h2 id="integration-test-database">Integration test database</h2>

<p>By default, for every integration test run, the test framework installs a fresh Magento test database.</p>

<p class="bs-callout-warning">Do not use the same database as the real Magento instance. Any data, such as products, customers, orders, and everything else, will be lost!</p>

<p>For safety reasons, it is recommended to use a dedicated database user for running the tests. That database user should not have access to any other databases.
Here are examples of SQL commands that create a test database and a dedicated test user account:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">magento_integration_tests</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">ON</span> <span class="n">magento_integration_tests</span><span class="p">.</span><span class="o">*</span> <span class="k">TO</span> <span class="s1">'magento2_test_user'</span><span class="o">@</span><span class="s1">'localhost'</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="s1">'ftYx4pm6^x9.&amp;^hB'</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Replace the example database, username, and password with something that matches your requirements and conventions.</p>

<h3 id="configure-the-framework-for-test-environment">Configure the framework for test environment</h3>

<p>The Magento 2 integration test framework comes with a configuration file template
<code class="language-plaintext highlighter-rouge">mage2ce/dev/tests/integration/etc/install-config-mysql.php.dist</code>.</p>

<p>Copy this file to
<code class="language-plaintext highlighter-rouge">mage2ce/dev/tests/integration/etc/install-config-mysql.php</code>
(without the <code class="language-plaintext highlighter-rouge">.dist</code> suffix) and add your test database access credentials.</p>

<p>The contents will look similar to the following. Each array key will be passed as an option argument when the test
framework executes the <code class="language-plaintext highlighter-rouge">setup:install</code> command. Use the database access credentials for your test database instead of the
example values below.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="cp">&lt;?php</span>

<span class="k">return</span> <span class="p">[</span>
    <span class="s1">'db-host'</span> <span class="o">=&gt;</span> <span class="s1">'localhost'</span><span class="p">,</span>
    <span class="s1">'db-user'</span> <span class="o">=&gt;</span> <span class="s1">'magento2_test_user'</span><span class="p">,</span>
    <span class="s1">'db-password'</span> <span class="o">=&gt;</span> <span class="s1">'ftYx4pm6^x9.&amp;^hB'</span><span class="p">,</span>
    <span class="s1">'db-name'</span> <span class="o">=&gt;</span> <span class="s1">'magento_integration_tests'</span><span class="p">,</span>
    <span class="s1">'db-prefix'</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'backend-frontname'</span> <span class="o">=&gt;</span> <span class="s1">'backend'</span><span class="p">,</span>
    <span class="s1">'admin-user'</span> <span class="o">=&gt;</span> <span class="err">\</span><span class="nc">Magento\TestFramework\Bootstrap</span><span class="o">::</span><span class="no">ADMIN_NAME</span><span class="p">,</span>
    <span class="s1">'admin-password'</span> <span class="o">=&gt;</span> <span class="err">\</span><span class="nc">Magento\TestFramework\Bootstrap</span><span class="o">::</span><span class="no">ADMIN_PASSWORD</span><span class="p">,</span>
    <span class="s1">'admin-email'</span> <span class="o">=&gt;</span> <span class="err">\</span><span class="nc">Magento\TestFramework\Bootstrap</span><span class="o">::</span><span class="no">ADMIN_EMAIL</span><span class="p">,</span>
    <span class="s1">'admin-firstname'</span> <span class="o">=&gt;</span> <span class="err">\</span><span class="nc">Magento\TestFramework\Bootstrap</span><span class="o">::</span><span class="no">ADMIN_FIRSTNAME</span><span class="p">,</span>
    <span class="s1">'admin-lastname'</span> <span class="o">=&gt;</span> <span class="err">\</span><span class="nc">Magento\TestFramework\Bootstrap</span><span class="o">::</span><span class="no">ADMIN_LASTNAME</span><span class="p">,</span>
    <span class="s1">'amqp-host'</span> <span class="o">=&gt;</span> <span class="s1">'localhost'</span><span class="p">,</span>
    <span class="s1">'amqp-port'</span> <span class="o">=&gt;</span> <span class="s1">'5672'</span><span class="p">,</span>
    <span class="s1">'amqp-user'</span> <span class="o">=&gt;</span> <span class="s1">'guest'</span><span class="p">,</span>
    <span class="s1">'amqp-password'</span> <span class="o">=&gt;</span> <span class="s1">'guest'</span><span class="p">,</span>
<span class="p">];</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p class="bs-callout-info">Leave all the settings that do not start with <code class="language-plaintext highlighter-rouge">db-</code> and <code class="language-plaintext highlighter-rouge">amqp-</code> at their default values.</p>

<p>You can include additional setup options—available to the <code class="language-plaintext highlighter-rouge">setup:install</code> command—in the test configuration file. A
complete list of options is available <a href="/devdocs-archive/2.3/guides/v2.3/install-gde/install/cli/install-cli-install.html#instgde-install-cli-magento">here</a>.</p>

<h2 id="adjust-the-phpunit-configuration-file">Adjust the PHPUnit configuration file</h2>

<p>See the <code class="language-plaintext highlighter-rouge">dev/tests/integration/phpunit.xml.dist</code> file for the default integration test configuration.</p>

<p>Without adjustments, the default configuration runs all core integration tests, which is useful on a continuous integration server.</p>

<p>When making adjustments to the configuration, copy the default file to <code class="language-plaintext highlighter-rouge">dev/tests/integration/phpunit.xml</code> (again, without the <code class="language-plaintext highlighter-rouge">.dist</code> suffix) and make your changes there. That way, your changes will not be overwritten during Magento upgrades.</p>

<p>There are many settings in the file.
This guide will only describe three common adjustments.
See <a href="https://phpunit.readthedocs.io/en/9.5/">PHPUnit documentation</a> and comments in the default file for more information about the available configuration settings.</p>

<h3 id="tests_cleanup-constant">TESTS_CLEANUP constant</h3>

<p>Default value:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;const</span> <span class="na">name=</span><span class="s">"TESTS_CLEANUP"</span> <span class="na">value=</span><span class="s">"enabled"</span><span class="nt">/&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>If this constant is set to <code class="language-plaintext highlighter-rouge">enabled</code>, the integration test framework cleans the test database and reinstalls Magento on every test run.
This way, any new modules will be automatically picked up and any artifacts left behind by previous test runs will be removed.
It also causes the test framework to flush the test Magento configuration, the <a href="https://glossary.magento.com/cache">cache</a>, and the code generation before executing any tests.</p>

<p>The downside of setting <code class="language-plaintext highlighter-rouge">TEST_CLEANUP</code> to <code class="language-plaintext highlighter-rouge">enabled</code> is that the reinstallation of Magento takes time; the exact time depends on the host you are using to run the integration tests and the Magento version.</p>

<p>During the development of new integration tests, where only a subset of the tests is executed repeatedly, that overhead of setting up a fresh execution environment for each run quickly becomes a burden.</p>

<p>In that case, the <code class="language-plaintext highlighter-rouge">TEST_CLEANUP</code> constant can be set to <code class="language-plaintext highlighter-rouge">disabled</code>.
The test execution will start much quicker, but as a consequence the developer must manually flush the cache and the database when needed.</p>

<p>The integration test framework creates the temporary test files beneath the directory
<code class="language-plaintext highlighter-rouge">dev/tests/integration/tmp/sandbox-*</code> (followed by a long hash ID).</p>

<p>To force the test framework to regenerate the cache and the other files, remove the directory:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">rm</span> <span class="nt">-r</span> dev/tests/integration/tmp/sandbox-<span class="k">*</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="rabbitmq_management_port-constant">RABBITMQ_MANAGEMENT_PORT constant</h3>

<p>Default value:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;const</span> <span class="na">name=</span><span class="s">"RABBITMQ_MANAGEMENT_PORT"</span> <span class="na">value=</span><span class="s">"15672"</span><span class="nt">/&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The <a href="https://www.rabbitmq.com/management.html">RabbitMQ Management Plugin</a> APIs are accessible on port <code class="language-plaintext highlighter-rouge">15672</code> by default.
This constant provides the configuration value when the test environment is not using the default.
Tests depending on <code class="language-plaintext highlighter-rouge">Magento\TestFramework\Helper\Amqp</code>, often used for validating queue and exchange status, depend on the management plugin being enabled.
Beginning in 2.3.1, the helper no longer assumes RabbitMQ is running on <code class="language-plaintext highlighter-rouge">localhost</code> and will use the connection configuration defined in <code class="language-plaintext highlighter-rouge">env.php</code>.</p>

<h3 id="php-memory_limit">PHP memory_limit</h3>

<p>The default <code class="language-plaintext highlighter-rouge">phpunit.xml.dist</code> file does not contain any PHP <code class="language-plaintext highlighter-rouge">memory_limit</code> settings.
However, sometimes the <a href="https://glossary.magento.com/php">PHP</a> configuration restricts the amount of memory PHP may consume.
This can make it impossible to run the integration tests.</p>

<p>You can turn off the PHP memory limit by adding the following configuration to the <code class="language-plaintext highlighter-rouge">&lt;php&gt;</code> section of the integration test <code class="language-plaintext highlighter-rouge">phpunit.xml</code> file:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;ini</span> <span class="na">name=</span><span class="s">"memory_limit"</span> <span class="na">value=</span><span class="s">"-1"</span><span class="nt">/&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="execute-third-party-integration-tests">Execute third party integration tests</h2>

<p>Magento code integration tests reside in the <code class="language-plaintext highlighter-rouge">dev/tests/integration/testsuite</code> directory.
For core tests, it makes sense that the integration tests do not reside within individual modules, because most integration tests execute code from many different modules.</p>

<p>Specific integration tests for shop implementation could also be placed within a different subdirectory of <code class="language-plaintext highlighter-rouge">dev/tests/integration/testsuite</code>, and then would be executed together with the core tests.</p>

<p>However, third-party extensions are contained within a single directory and might supply custom integration tests too.
These tests usually reside in the <code class="language-plaintext highlighter-rouge">Test/Integration/</code> subdirectory within the <a href="https://glossary.magento.com/module">module</a> folder.</p>

<p>These third-party integration tests are not picked up by the default integration test configuration.
You can add a test suite configuration, like the following, to the <code class="language-plaintext highlighter-rouge">&lt;testsuites&gt;</code> section of the <code class="language-plaintext highlighter-rouge">phpunit.xml</code> file so they are included during test execution.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;testsuite</span> <span class="na">name=</span><span class="s">"Third Party Integration Tests"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;directory&gt;</span>../../../app/code/*/*/Test/Integration<span class="nt">&lt;/directory&gt;</span>
    <span class="nt">&lt;directory&gt;</span>../../../vendor/*/module-*/Test/Integration<span class="nt">&lt;/directory&gt;</span>
    <span class="nt">&lt;exclude&gt;</span>../../../app/code/Magento<span class="nt">&lt;/exclude&gt;</span>
    <span class="nt">&lt;exclude&gt;</span>../../../vendor/magento<span class="nt">&lt;/exclude&gt;</span>
<span class="nt">&lt;/testsuite&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Such a test suite configuration can then be executed using the <code class="language-plaintext highlighter-rouge">--testsuite &lt;name&gt;</code> command option. For example, if you are in the <code class="language-plaintext highlighter-rouge">dev/tests/integration</code> directory:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>php ../../../vendor/bin/phpunit <span class="nt">--testsuite</span> <span class="s2">"Third Party Integration Tests"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="cli-run">Run integration tests in the CLI</h2>

<p>The most common way to execute integration tests is using the command line interface (CLI).</p>

<p>Ensure you have <a href="#setup">prepared the integration test environment</a> before starting.</p>

<p>Integration tests must be executed from the <code class="language-plaintext highlighter-rouge">dev/tests/integration</code> working directory.
The test configuration resides in that directory and will be picked up by <code class="language-plaintext highlighter-rouge">phpunit</code> automatically, without the need to specify it as a command line option.</p>

<h3 id="run-all-integration-tests">Run all integration tests</h3>

<p>By default, if no additional arguments are specified, the test configuration executes all integration tests in the <code class="language-plaintext highlighter-rouge">dev/tests/integration/testsuite</code> directory.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">cd </span>dev/tests/integration
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>../../../vendor/bin/phpunit
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>Expected log</p>
</blockquote>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="go">PHPUnit 4.1.0 by Sebastian Bergmann.

Configuration read from /var/www/magento2/dev/tests/integration/phpunit.xml

</span><span class="c">..........................
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The path to the <code class="language-plaintext highlighter-rouge">phpunit</code> executable installed by <a href="https://glossary.magento.com/composer">Composer</a> into the vendor directory is used.</p>

<h3 id="run-only-a-custom-testsuite">Run only a custom testsuite</h3>

<p>PHPUnit offers several ways to only execute a subset of tests.
For example, it is common to only execute a single test suite from the <code class="language-plaintext highlighter-rouge">phpunit.xml</code> configuration.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">cd </span>dev/tests/integration
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>../../../vendor/bin/phpunit <span class="nt">--testsuite</span> <span class="s2">"Memory Usage Tests"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="run-tests-from-a-specific-directory-tree">Run tests from a specific directory tree</h3>

<p>To execute only the tests within a specific directory (for example an extension), pass the path to that directory as an argument to <code class="language-plaintext highlighter-rouge">phpunit</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">cd </span>dev/tests/integration
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>../../../vendor/bin/phpunit ../../../app/code/Acme/Example/Test/Integration
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="run-a-single-test-class">Run a single test class</h3>

<p>When developing a new integration test class, it is common to run only that single test many times.
Pass the path to the file containing the test class as an argument to <code class="language-plaintext highlighter-rouge">phpunit</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">cd </span>dev/tests/integration
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>../../../vendor/bin/phpunit ../../../app/code/Acme/Example/Test/Integration/ExampleTest.php
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="run-a-single-test-within-a-test-class">Run a single test within a test class</h3>

<p>You can run only a single test within a test class by specifying the test class together with the <code class="language-plaintext highlighter-rouge">--filter</code> argument and the name to select the test that you are currently developing:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">cd </span>dev/tests/integration
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>../../../vendor/bin/phpunit <span class="nt">--filter</span> <span class="s1">'testOnlyThisOneIsExecuted'</span> ../../../app/code/Acme/Example/Test/Integration/ExampleTest.php
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="common-mistakes">Common mistakes</h2>

<h3 id="could-not-read-files-specified-as-arguments">Could not read files specified as arguments</h3>

<p>This happens if the integration tests are executed from the wrong directory.</p>

<h3 id="could-not-read-devtestsintegrationphpunitxml">Could not read “dev/tests/integration/phpunit.xml”</h3>

<p>This error happens if the integration tests are executed from a different directory than <code class="language-plaintext highlighter-rouge">dev/tests/integration</code>.
To fix the issue, change to the <code class="language-plaintext highlighter-rouge">dev/tests/integration</code> directory, adjust any relative paths accordingly, and run the tests again.</p>

<h3 id="unable-to-connect-to-mysql">Unable to connect to MySQL</h3>

<p>The <a href="https://glossary.magento.com/php">PHP</a> interpreter must be able to connect to the test database. By default, this means the tests have to run on the same host as the MySQL server.
This problem most commonly occurs during development with Vagrant or Docker, where the Magento database is running on a virtual machine.
If the tests then are executed using a PHP interpreter on the host system, the database might not be accessible.</p>

<p>The error usually looks something like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>phpunit
</pre></td></tr></tbody></table></code></pre></div></div>

<blockquote>
  <p>Expected log</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>exception <span class="s1">'PDOException'</span> with message <span class="s1">'SQLSTATE[HY000] [2002] No such file or directory'</span> <span class="k">in</span> /var/www/magento2/vendor/magento/zendframework1/library/Zend/Db/Adapter/Pdo/Abstract.php:129
</pre></td></tr></tbody></table></code></pre></div></div>

<p>There are many ways this problem can be resolved, but the easiest is to run the tests in the virtual machine as well.</p>

<h2 id="phpstorm-run">Run integration tests in PhpStorm</h2>

<p>When writing new integration tests or during debugging, it is convenient to execute tests from within the PhpStorm IDE.</p>

<p>Ensure you have <a href="#setup">prepared the integration test environment</a> before starting.</p>

<h3 id="create-an-integration-test-run-configuration">Create an integration test run configuration</h3>

<p>Setting up a run configuration for integration tests is very similar to creating a run configuration for unit tests.</p>

<p>See <a href="/devdocs-archive/2.3/guides/v2.3/test/unit/unit_test_execution_phpstorm.html">Running Unit Tests in PhpStorm</a> for instructions on creating a basic run configuration.
Then, configure the integration test to use the configuration file.</p>

<h3 id="use-the-integration-test-configuration-file">Use the integration test configuration file</h3>

<p>The only difference in the run configuration is that the integration test <code class="language-plaintext highlighter-rouge">phpunit.xml.dist</code> or <code class="language-plaintext highlighter-rouge">phpunit.xml</code> configuration file from the <code class="language-plaintext highlighter-rouge">dev/tests/integration</code> directory must be selected.</p>

<p><img src="/devdocs-archive/2.3/common/images/phpstorm_run_config_class_integration_tests.png" alt="Integration Test Class run configuration" width="600px" /></p>

<h2 id="integration-tests-file-structure">Integration tests file structure</h2>

<p>The root folder for the Magento integration tests suite —<code class="language-plaintext highlighter-rouge">&lt;magento_root&gt;/dev/tests/integration</code>—contains the following sub-folders and files:</p>

<p>This folder contains the following sub-folders and files:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">framework/</code> – Integration testing framework scripts, configuration files and classes.</li>
  <li><code class="language-plaintext highlighter-rouge">Magento/</code> – A set of classes that implement the Magento integration tests framework.</li>
  <li><code class="language-plaintext highlighter-rouge">bootstrap.php</code> – The PHPUnit bootstrap script.</li>
  <li><code class="language-plaintext highlighter-rouge">etc/install-config-&lt;db_vendor&gt;.php</code> – A configuration file that provides values for installing the Magento application.</li>
  <li><code class="language-plaintext highlighter-rouge">testsuite/</code> – The test suite.</li>
  <li><code class="language-plaintext highlighter-rouge">tmp/</code> – A writable directory for storing temporary data during test execution.</li>
  <li><code class="language-plaintext highlighter-rouge">sandbox-&lt;hash&gt;/</code> – The folder where each Magento instance stores temporary and configuration data.</li>
  <li><code class="language-plaintext highlighter-rouge">phpunit.xml.dist</code> – A PHPUnit configuration file.</li>
</ul>

<!-- LINK DEFINITIONS -->


			</main>
			<footer class="content-footer">
				<button class="page-updated spectrum-ActionButton spectrum-ActionButton--sizeM spectrum-ActionButton--quiet">
  <img class="spectrum-Icon spectrum-Icon--sizeS" src="/devdocs-archive/2.3/assets/i/icons/time.svg" alt="Updated" />
  <time class="spectrum-ActionButton-label" id="last-modified-at" itemprop="dateModified"
    datetime="2022-08-01">
    Aug 1st, 2022
  </time>
</button>

			</footer>
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  <div class="page-contributor">
  <a href="https://vinaikopp.com/" target="_blank">
    Thanks to Vinai Kopp for contributing this topic
  </a>
</div>

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->

</div>
<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
    <div class="container">
  
      <div class="copyright-links">
        

<ul class="nav footer-links" role="menu">

  <li class="  " role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md" class=" ">Become a Contributor</a></li>

  <li class="  " role="menuitem"><a href="https://glossary.magento.com/" class=" ">Glossary</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/privacy/" class=" ">Privacy Policy</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/" class=" ">Terms of Service</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/licensing/" class=" ">License/Trademark FAQ</a></li>

  <li class="  " role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/release-notes/bk-release-notes.html" class=" ">Release Notes</a></li>

  <li class="  " role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/release-notes/packages-open-source.html" class=" ">Third-Party Licenses</a></li>

</ul>

      </div>
  
          <div class="copyright-date">&copy; 2023 Adobe. All rights reserved.</div>
  
    </div>
  </div>
  <!-- / #footer -->
  
  


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/devdocs-archive/2.3/assets/js/app.min.js?ver=20"></script>
<script src="/devdocs-archive/2.3/assets/js/editions.min.js?ver=20"></script>
<script src="/devdocs-archive/2.3/assets/js/page-updated.min.js?ver=20"></script>





<script type="text/javascript" src="/devdocs-archive/2.3/common/js/glossary-link-enhancer.js"></script>


</body>

</html>
