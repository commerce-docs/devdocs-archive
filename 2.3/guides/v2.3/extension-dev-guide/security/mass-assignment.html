<!DOCTYPE html>
<html lang="en" dir="ltr" class="spectrum spectrum--medium spectrum--lightest">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Mass assignment | Archived 2.3 Magento Developer Guide</title>
	<meta name="description" content="Magento Developer Guide">

	<link rel="stylesheet" href="https://use.typekit.net/iaw1apr.css">
	<link rel="stylesheet" href="/devdocs-archive/2.3/assets/css/app.css?ver=20" />
	<link rel="stylesheet" href="/devdocs-archive/2.3/assets/css/print.css?ver=20" media="print" />
	<script src="https://assets.adobedtm.com/a7d65461e54e/f87b70cb627a/launch-b042bff6c581.min.js" async></script>

	<link rel="stylesheet" href="/devdocs-archive/2.3/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />
<meta name="google-site-verification" content="3WFsoYwBe6UuxDwgs7bmd7t0YFQVzDpLpWLjNh0CUp8" />

	<script>
  var baseUrl = "/devdocs-archive/2.3";
  var algolia = {
    id: "E642SEDTHL",
    index: "devdocs",
    key: "d2d0f33ab73e291ef8d88d8b565e754c",
  };

  var indices = [{
      label: "Results",
      name: "devdocs",
      facetFilters: [
        ["guide_version: 2.3",
          "versionless: true"
        ]
      ],
      refinements: [{
        label: "Functional areas",
        attribute: "functional_areas"
      }],
      baseUrl: "/devdocs-archive/2.3"
    }
  ];

</script>




	<link rel="icon" href="https://www.adobe.com/favicon.ico" type="image/x-icon" />
	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://adobe.com/favicon.ico">

</head>

<body class="layout-default">

	<header class="site-header">

		

<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" href="/devdocs-archive/2.3/">
      <img class="logo-image" src="/devdocs-archive/2.3/assets/i/adobe-a.svg" alt="Adobe">
      <span class="logo-text">Adobe</span>
      <span class="site-logo">Commerce DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      <!-- Main Navigation --><ul class="nav-main spectrum-Tabs spectrum-Tabs--sizeM spectrum-Tabs--horizontal" role="menubar"><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Cloud</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud basics</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/overview.html" class="spectrum-Menu-itemLabel ">Cloud Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/architecture/cloud-architecture.html" class="spectrum-Menu-itemLabel ">Cloud Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/project/file-structure.html" class="spectrum-Menu-itemLabel ">Project Structure</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/best-practices.html" class="spectrum-Menu-itemLabel ">Upgrades and Patches</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/release-notes/cloud-tools-suite.html" class="spectrum-Menu-itemLabel ">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud development</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/" class="spectrum-Menu-itemLabel ">Local development</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/configure/" class="spectrum-Menu-itemLabel ">Configure and launch Docker</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/quick-reference/" class="spectrum-Menu-itemLabel ">Docker quick reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/configure/app/configure-app-yaml.html" class="spectrum-Menu-itemLabel ">Configure Application</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/configure/env/configure-env-yaml.html" class="spectrum-Menu-itemLabel ">Configure Environments</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Functional Testing</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/test/application-testing/" class="spectrum-Menu-itemLabel ">Application testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/test/code-testing/" class="spectrum-Menu-itemLabel ">Cloud code testing</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Setup</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/install-gde/install-flow-diagram.html" class="spectrum-Menu-itemLabel ">Installation Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-admin/start/resources/extensions.html" class="spectrum-Menu-itemLabel ">Extensions Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/comp-mgr/bk-compman-upgrade-guide.html" class="spectrum-Menu-itemLabel ">Software Update Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/config-guide/bk-config-guide.html" class="spectrum-Menu-itemLabel ">Configuration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/performance-best-practices/introduction.html" class="spectrum-Menu-itemLabel ">Performance Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/migration/bk-migration-guide.html" class="spectrum-Menu-itemLabel ">Migration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-operations/release/notes/overview.html" class="spectrum-Menu-itemLabel ">Release Information</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/reference/cli/magento.html" class="spectrum-Menu-itemLabel ">Command-line Tools Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-operations/tools/overview.html" class="spectrum-Menu-itemLabel ">Tools</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Development</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Backend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/architecture/bk-architecture.html" class="spectrum-Menu-itemLabel ">Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/bk-extension-dev-guide.html" class="spectrum-Menu-itemLabel ">PHP Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/bk-ext-best-practices.html" class="spectrum-Menu-itemLabel ">Extension Developer Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/mrg/intro.html" class="spectrum-Menu-itemLabel ">Module Reference Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/coding-standards/bk-coding-standards.html" class="spectrum-Menu-itemLabel ">Coding Standards</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/contributor/guides/" class="spectrum-Menu-itemLabel ">Contributor Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/contributor/community/" class="spectrum-Menu-itemLabel ">Contribution Resources</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Frontend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/frontend-dev-guide/bk-frontend-dev-guide.html" class="spectrum-Menu-itemLabel ">Frontend Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ui_comp_guide/bk-ui_comps.html" class="spectrum-Menu-itemLabel ">UI Components Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/javascript-dev-guide/bk-javascript-dev-guide.html" class="spectrum-Menu-itemLabel ">JavaScript Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/pattern-library/bk-pattern.html" class="spectrum-Menu-itemLabel ">Admin Design Pattern Library</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/design-styleguide/bk-styleguide.html" class="spectrum-Menu-itemLabel ">Admin Style Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/pwa-studio/" class="spectrum-Menu-itemLabel ">PWA Documentation Site</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/frontend-core/page-builder/" class="spectrum-Menu-itemLabel ">Page Builder Developer Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">API</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/get-started/bk-get-started-api.html" class="spectrum-Menu-itemLabel ">Get Started with our Web APIs</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/rest/bk-rest.html" class="spectrum-Menu-itemLabel ">REST API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/soap/bk-soap.html" class="spectrum-Menu-itemLabel ">SOAP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/graphql/" class="spectrum-Menu-itemLabel ">GraphQL Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/marketplace/guides/eqp/v1/" class="spectrum-Menu-itemLabel ">Marketplace EQP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/mbi/docs/getting-started.html" class="spectrum-Menu-itemLabel ">Commerce Reporting API</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Testing</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/testing.html" class="spectrum-Menu-itemLabel ">Application Testing Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/mftf/v2/docs/introduction.html" class="spectrum-Menu-itemLabel ">Functional Acceptance Testing (MFTF)</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/integration_test_execution.html" class="spectrum-Menu-itemLabel ">Integration Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/js/jasmine.html" class="spectrum-Menu-itemLabel ">JavaScript Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/unit/unit_test_execution.html" class="spectrum-Menu-itemLabel ">PHP Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/get-started/web-api-functional-testing.html" class="spectrum-Menu-itemLabel ">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Functional Areas</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/advanced-reporting/overview.html" class="spectrum-Menu-itemLabel ">Advanced Reporting</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/b2b/bk-b2b.html" class="spectrum-Menu-itemLabel ">B2B</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-merchant-services/catalog-service/overview.html" class="spectrum-Menu-itemLabel ">Catalog Service</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/inventory/index.html" class="spectrum-Menu-itemLabel ">Inventory Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-merchant-services/live-search/guide-overview.html" class="spectrum-Menu-itemLabel ">Live Search</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/marketplace/guides/sellers/" class="spectrum-Menu-itemLabel ">Commerce Marketplace</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html" class="spectrum-Menu-itemLabel ">Payment Services</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://omsdocs.magento.com/en/" class="spectrum-Menu-itemLabel ">Order Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/frontend-core/page-builder/" class="spectrum-Menu-itemLabel ">Page Builder</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-merchant-services/product-recommendations/developer/development-overview.html" class="spectrum-Menu-itemLabel ">Product Recommendations Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-operations/security-and-compliance/overview.html" class="spectrum-Menu-itemLabel ">Security and Compliance</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/services/shared-services/" class="spectrum-Menu-itemLabel ">Shared Services</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/staging.html" class="spectrum-Menu-itemLabel ">Staging</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Tutorials</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/rest/tutorials/index.html" class="spectrum-Menu-itemLabel ">Rest Tutorials</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/custom-attributes/introduction.html" class="spectrum-Menu-itemLabel ">Custom Attributes</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/customize_product.html" class="spectrum-Menu-itemLabel ">Customize Product Creation Form</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Customize Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/contributor/community/support/" class="spectrum-Menu-itemLabel ">Support</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-learn/tutorials/overview.html" class="spectrum-Menu-itemLabel ">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="nav-actions">
      <div class="version-switcher">
	<button class="spectrum-Picker spectrum-Picker--sizeM dropdown-toggle" disabled>
		<span class="spectrum-Picker-label">Version 2.3</span>
	</button>
</div>

      
        <div class="search-btn">
  <button class="search-trigger" aria-label="Search">
    <svg class="spectrum-Icon" focusable="false" aria-hidden="true" aria-label="Search">
      <rect opacity="0" width="18" height="18" /><path class="a" d="M16.5865,15.107,12.7,11.2215A6.413,6.413,0,1,0,11.2215,12.7l3.886,3.886a1.05,1.05,0,0,0,1.479-1.479ZM3,7.5A4.5,4.5,0,1,1,7.5,12,4.5,4.5,0,0,1,3,7.5Z" />
    </svg>
  </button>
</div>

<div class="quick-search">
  <form class="spectrum-Search spectrum-Textfield search-form"
      action="/devdocs-archive/2.3/guides/v2.3/search.html">
  <input type="search" placeholder="Looking for something specific?" name="query" value=""
    class="spectrum-Textfield-input spectrum-Search-input search-field form-control" autocomplete="off">
    <svg class="spectrum-Icon spectrum-Icon--sizeM spectrum-Textfield-icon spectrum-Search-icon" focusable="false" aria-hidden="true">
    <rect fill="#ff13dc" opacity="0" width="18" height="18" />
    <path class="a"
      d="M16.5865,15.107,12.7,11.2215A6.413,6.413,0,1,0,11.2215,12.7l3.886,3.886a1.05,1.05,0,0,0,1.479-1.479ZM3,7.5A4.5,4.5,0,1,1,7.5,12,4.5,4.5,0,0,1,3,7.5Z" />
  </svg>
  <button type="reset" class="spectrum-ClearButton spectrum-ClearButton--sizeM spectrum-Search-clearButton">
    <div class="spectrum-ClearButton-fill">
      <svg class="spectrum-Icon spectrum-ClearButton-icon spectrum-UIIcon-Cross100" focusable="false" aria-hidden="true">
        <path class="a"
          d="M13.2425,3.343,9,7.586,4.7575,3.343a.5.5,0,0,0-.707,0L3.343,4.05a.5.5,0,0,0,0,.707L7.586,9,3.343,13.2425a.5.5,0,0,0,0,.707l.707.7075a.5.5,0,0,0,.707,0L9,10.414l4.2425,4.243a.5.5,0,0,0,.707,0l.7075-.707a.5.5,0,0,0,0-.707L10.414,9l4.243-4.2425a.5.5,0,0,0,0-.707L13.95,3.343a.5.5,0,0,0-.70711-.00039Z" />
      </svg>
    </div>
  </button>
</form>

</div>
      

    </div>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		

		<div class="main-container">
			<a id="main-content"></a>

<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">PHP Developer Guide</h4>
		
		<div class="collapsible-navigation">
		  <ul class="spectrum-SideNav spectrum-SideNav--multiLevel"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/bk-extension-dev-guide.html" class="spectrum-SideNav-itemLink ">Introduction</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/intro/developers_roadmap.html" class="spectrum-SideNav-itemLink ">Developer roadmap</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/intro/intro-composer.html" class="spectrum-SideNav-itemLink ">Introduction to Composer</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/intro/intro-composer-gloss.html" class="spectrum-SideNav-itemLink ">Glossary of common terms</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/prepare/prepare.html" class="spectrum-SideNav-itemLink ">Prepare (development quick start)</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/prepare/dev-modtypes.html" class="spectrum-SideNav-itemLink ">Component types</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/prepare/prepare_file-str.html" class="spectrum-SideNav-itemLink ">About component file structure</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/prepare/ext-repo-structure.html" class="spectrum-SideNav-itemLink ">Extension repository structure</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/prepare/dev-summary.html" class="spectrum-SideNav-itemLink ">Roadmap for developing and packaging components</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/prepare/lifecycle.html" class="spectrum-SideNav-itemLink ">Extension lifecycle</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/build/build.html" class="spectrum-SideNav-itemLink ">Build</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/build/di-xml-file.html" class="spectrum-SideNav-itemLink ">The di.xml file</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/build/optimal-dev-environment.html" class="spectrum-SideNav-itemLink ">Optimal development environment</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/build/composer-integration.html" class="spectrum-SideNav-itemLink ">The composer.json file</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/build/required-configuration-files.html" class="spectrum-SideNav-itemLink ">Define your configuration files</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/build/module-file-structure.html" class="spectrum-SideNav-itemLink ">Create your component file structure</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/build/component-registration.html" class="spectrum-SideNav-itemLink ">Register your component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/build/XSD-XML-validation.html" class="spectrum-SideNav-itemLink ">URN schema validation</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/build/create_component.html" class="spectrum-SideNav-itemLink ">Name your component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/build/module-load-order.html" class="spectrum-SideNav-itemLink ">Component load order</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/build/enable-module.html" class="spectrum-SideNav-itemLink ">Enable or disable your component</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/package/package.html" class="spectrum-SideNav-itemLink ">Package</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/package/package_module.html" class="spectrum-SideNav-itemLink ">Package a component</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/package/package_mktpl.html" class="spectrum-SideNav-itemLink ">Upload your component to the Commerce Marketplace</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/validate/validate.html" class="spectrum-SideNav-itemLink ">Validate</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/validate/test-module.html" class="spectrum-SideNav-itemLink ">Test your component</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/cache/partial-caching.html" class="spectrum-SideNav-itemLink ">Partial caching</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/cache/partial-caching/database-caching.html" class="spectrum-SideNav-itemLink ">Create custom cache engines</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/cache/partial-caching/create-cache-type.html" class="spectrum-SideNav-itemLink ">Create a cache type</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/cache/page-caching.html" class="spectrum-SideNav-itemLink ">Full page caching</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/cache/page-caching/public-content.html" class="spectrum-SideNav-itemLink ">Public content</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/cache/page-caching/private-content.html" class="spectrum-SideNav-itemLink ">Private content</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/cli-cmds/cli-add.html" class="spectrum-SideNav-itemLink ">Add CLI commands</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/cli-cmds/cli-naming-guidelines.html" class="spectrum-SideNav-itemLink ">Command naming guidelines</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/cli-cmds/cli-howto.html" class="spectrum-SideNav-itemLink ">How to add CLI commands</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/staging.html" class="spectrum-SideNav-itemLink ">Staging (Adobe Commerce only)</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/module-development.html" class="spectrum-SideNav-itemLink ">Component development</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/async-operations.html" class="spectrum-SideNav-itemLink ">Asynchronous/deferred operations</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/service-contracts/service-contracts.html" class="spectrum-SideNav-itemLink ">Service contracts</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/api-concepts.html" class="spectrum-SideNav-itemLink ">Public interfaces &amp; APIs</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/service-contracts/design-patterns.html" class="spectrum-SideNav-itemLink ">Service contract design patterns</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/depend-inj.html" class="spectrum-SideNav-itemLink ">Dependency injection</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/object-manager.html" class="spectrum-SideNav-itemLink ">ObjectManager</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/events-and-observers.html" class="spectrum-SideNav-itemLink ">Events and observers</a><ul class=""></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/factories.html" class="spectrum-SideNav-itemLink ">Factories</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/proxies.html" class="spectrum-SideNav-itemLink ">Proxies</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/code-generation.html" class="spectrum-SideNav-itemLink ">Code generation</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/attributes.html" class="spectrum-SideNav-itemLink ">EAV and extension attributes</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/plugins.html" class="spectrum-SideNav-itemLink ">Plugins (Interceptors)</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/routing.html" class="spectrum-SideNav-itemLink ">Routing</a></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Indexing</span><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/indexing.html" class="spectrum-SideNav-itemLink ">Indexing overview</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/indexer-optimization.html" class="spectrum-SideNav-itemLink ">Indexer optimization</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/indexing-custom.html" class="spectrum-SideNav-itemLink ">Adding a custom indexer</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Declarative schema</span><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/declarative-schema/" class="spectrum-SideNav-itemLink ">Declarative schema overview</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/declarative-schema/migration-commands.html" class="spectrum-SideNav-itemLink ">Migrate install/upgrade scripts to declarative schema</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/declarative-schema/db-schema.html" class="spectrum-SideNav-itemLink ">Configure declarative schema</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/declarative-schema/data-patches.html" class="spectrum-SideNav-itemLink ">Develop data and schema patches</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Web APIs</span><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/service-contracts/service-to-web-service.html" class="spectrum-SideNav-itemLink ">Configure services as web APIs</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/webapi/custom-routes.html" class="spectrum-SideNav-itemLink ">Set custom routes</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/webapi/request-processor-pool.html" class="spectrum-SideNav-itemLink ">WebApi request processors pool</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Message Queues</span><ul class=""><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/message-queues/async-message-queue-config-files.html" class="spectrum-SideNav-itemLink ">Asynchronous Message Queue configuration files</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/message-queues/bulk-operations.html" class="spectrum-SideNav-itemLink ">Bulk operations</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/message-queues/config-mq.html" class="spectrum-SideNav-itemLink ">Configure message Queues</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/message-queues/implement-bulk.html" class="spectrum-SideNav-itemLink ">Example bulk operations implementation</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/message-queues/refresh-config.html" class="spectrum-SideNav-itemLink ">Handling outdated in-memory object states</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/message-queues/message-queues.html" class="spectrum-SideNav-itemLink ">Message queues overview</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/message-queues/message-queues-stores.html" class="spectrum-SideNav-itemLink ">Message queues and stores</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/message-queues/queue-migration.html" class="spectrum-SideNav-itemLink ">Migrate message queue configuration</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/extension_attributes/adding-attributes.html" class="spectrum-SideNav-itemLink ">Adding extension attributes to entity</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/admin-grid.html" class="spectrum-SideNav-itemLink ">Adding an admin grid</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/price-adjustments.html" class="spectrum-SideNav-itemLink ">Price adjustments</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/searching-with-repositories.html" class="spectrum-SideNav-itemLink ">Searching with repositories</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/php/php_clear-dirs.html" class="spectrum-SideNav-itemLink ">Clear directories during development</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/adapters.html" class="spectrum-SideNav-itemLink ">Adapters</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/view-models.html" class="spectrum-SideNav-itemLink ">View models</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/variable-pool/" class="spectrum-SideNav-itemLink ">Variable Pool</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/extend-catalog-rule-conditions.html" class="spectrum-SideNav-itemLink ">Extend Catalog Rule Conditions</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Configuration</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/configuration/importers.html" class="spectrum-SideNav-itemLink ">Configuration Importers</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/configuration/sensitive-and-environment-settings.html" class="spectrum-SideNav-itemLink ">Sensitive Environment Settings</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Framework</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/framework/array-manager.html" class="spectrum-SideNav-itemLink ">Array Manager</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/framework/datetime.html" class="spectrum-SideNav-itemLink ">DateTime Library</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/framework/float-comparator.html" class="spectrum-SideNav-itemLink ">Float Comparator</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/framework/serializer.html" class="spectrum-SideNav-itemLink ">Serialize Library</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/framework/math-random.html" class="spectrum-SideNav-itemLink ">Math Random</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/framework/url-library.html" class="spectrum-SideNav-itemLink ">URL Library</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Security</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/security/content-security-policies.html" class="spectrum-SideNav-itemLink ">Content Security Policies</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/security/non-secure-functions.html" class="spectrum-SideNav-itemLink ">Non-secure functions</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/xss-protection.html" class="spectrum-SideNav-itemLink ">XSS Prevention</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/security/sensitive-information.html" class="spectrum-SideNav-itemLink ">Sensitive Information</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/security/dos.html" class="spectrum-SideNav-itemLink ">Denial of Service (DoS) attacks</a></li><li class="is-selected  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/security/mass-assignment.html" class="spectrum-SideNav-itemLink ">Mass assignment</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/security/ssrf.html" class="spectrum-SideNav-itemLink ">Avoiding SSRF</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/security/authorization.html" class="spectrum-SideNav-itemLink ">Authorization</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/security/anti-brute-force.html" class="spectrum-SideNav-itemLink ">Brute force attacks</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/security/csrf.html" class="spectrum-SideNav-itemLink ">CSRF</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/security/uploads.html" class="spectrum-SideNav-itemLink ">Working with files</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/versioning/" class="spectrum-SideNav-itemLink ">Versioning</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/versioning/check-version.html" class="spectrum-SideNav-itemLink ">Check the Commerce version</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/versioning/codebase-changes.html" class="spectrum-SideNav-itemLink ">Codebase changes</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/versioning/dependencies.html" class="spectrum-SideNav-itemLink ">Module version dependencies</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<header class="content-header">
				<!-- page-header -->
<section class="page-intro">

  

  
  <div class="message-banner">
    <center>Adobe Commerce 2.3 reached end of support in September 2022.</center>
  </div>
  

  




<!--   

<div class="spectrum-Tags" role="list" aria-label="Tags">
  <div class="spectrum-Tags-item" role="listitem" tabindex="0">
    <img class="spectrum-Avatar" src="img/example-ava.jpg" alt="Avatar">
    <span class="spectrum-Tags-itemLabel">Shantanu</span>
  </div>
</div> -->


  <h1 class="page-title">Mass assignment</h1>

  

  
	<div class="github-links spectrum-ActionGroup--compact ActionGroup--justified"></div>
	

</section>

			</header>
			<main>
				<p>Mass Assignment is a type of attack in which a client inserts or updates data that either should not be available
to the user, or should require additional authorization.</p>

<p>Example:</p>

<p>You have an endpoint or a page where users can edit their own personal information. The user table in your DB
contains the following columns:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code></li>
  <li><code class="language-plaintext highlighter-rouge">first_name</code></li>
  <li><code class="language-plaintext highlighter-rouge">last_name</code></li>
  <li><code class="language-plaintext highlighter-rouge">email</code></li>
  <li><code class="language-plaintext highlighter-rouge">password_hash</code></li>
  <li><code class="language-plaintext highlighter-rouge">is_admin</code></li>
</ul>

<p>You want users to be able to edit their first and last names only on a page or through the endpoint, but inside the
controller/service contract, you have code looking something like this:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nv">$user</span> <span class="o">=</span> <span class="nv">$repository</span><span class="o">-&gt;</span><span class="nf">findById</span><span class="p">(</span><span class="nv">$authContext</span><span class="o">-&gt;</span><span class="nf">getUserId</span><span class="p">());</span>
<span class="nv">$user</span><span class="o">-&gt;</span><span class="nf">setData</span><span class="p">(</span><span class="nv">$request</span><span class="o">-&gt;</span><span class="nf">getPostData</span><span class="p">());</span>
<span class="nv">$dbConnection</span><span class="o">-&gt;</span><span class="nf">updateTable</span><span class="p">(</span><span class="s1">'users'</span><span class="p">,</span> <span class="nv">$user</span><span class="o">-&gt;</span><span class="nf">getData</span><span class="p">(),</span> <span class="p">[</span><span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="nv">$user</span><span class="o">-&gt;</span><span class="nf">getId</span><span class="p">()]);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>When a client only provides <code class="language-plaintext highlighter-rouge">first_name</code> and <code class="language-plaintext highlighter-rouge">last_name</code> properties, this code will perform as expected, but it is vulnerable
to mass assignment attacks.</p>

<p>The first vulnerability is through the <code class="language-plaintext highlighter-rouge">id</code> property. Users are meant to be able to edit only their own data, but here
an attacker can set an <code class="language-plaintext highlighter-rouge">id</code> in their request. The<code class="language-plaintext highlighter-rouge">$user</code> object’s ID will be overwritten, so when you call
<code class="language-plaintext highlighter-rouge">$dbConnection-&gt;updateTable()</code>, instead of having the ID from <code class="language-plaintext highlighter-rouge">$authContext</code>, you will have an arbitrary ID from the HTTP request.
This will allow an attacker to override data of any user in your system!</p>

<p>The second possible vulnerability is through the <code class="language-plaintext highlighter-rouge">is_admin</code> property. Clearly, the property was meant to be writable only by other admins,
and maybe even by using another page/endpoint. Using the code above, an attacker can set <code class="language-plaintext highlighter-rouge">"is_admin": true</code>
inside a request and gain admin access when you save the user record.</p>

<p>Given the <code class="language-plaintext highlighter-rouge">users</code> table structure, and depending on your application’s logic, <code class="language-plaintext highlighter-rouge">email</code> can also be a vulnerable property.
An attacker might be able to change their email to any other address without confirming it first.</p>

<h2 id="mass-assignment-and-magento">Mass Assignment and Magento</h2>

<p>If you are not careful and, especially, if you use the legacy approach described below, it is easy to make yourself vulnerable to mass
assignment.</p>

<h3 id="legacy-approach">Legacy approach</h3>

<p>The legacy approach of exposing data to be writable by users means having a controller that uses
<code class="language-plaintext highlighter-rouge">Magento\Framework\Model\AbstractModel</code> and sets request data directly, instead of doing so with a DTO
and a service contract.</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Save</span> <span class="k">extends</span> <span class="err">\</span><span class="nc">Magento\Backend\App\Action</span> <span class="kd">implements</span> <span class="nc">HttpPostActionInterface</span>
<span class="p">{</span>
    <span class="mf">...</span>


    <span class="k">public</span> <span class="k">function</span> <span class="n">execute</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">getRequest</span><span class="p">()</span><span class="o">-&gt;</span><span class="nf">getPostValue</span><span class="p">();</span>
        <span class="cd">/** @var MyModel $model */</span>
        <span class="nv">$model</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">modelFactory</span><span class="o">-&gt;</span><span class="nf">create</span><span class="p">()</span>
            <span class="o">-&gt;</span><span class="nf">load</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">getRequest</span><span class="p">()</span><span class="o">-&gt;</span><span class="nf">getParam</span><span class="p">(</span><span class="s1">'id'</span><span class="p">));</span>
        <span class="nv">$model</span><span class="o">-&gt;</span><span class="nf">setData</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
        <span class="nv">$model</span><span class="o">-&gt;</span><span class="nf">save</span><span class="p">();</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">generateRedirect</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>As you can see, this example is similar to the generic example with users before. We take all data from the request,
thus allowing the client to override ANY property that the model (table) has and then store it.</p>

<h3 id="newer-approach">Newer approach</h3>

<p>A more recent practice is to have service contracts and DTOs that are directly exposed as REST APIs, used inside related
controllers and GraphQL resolvers.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;config</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"urn:magento:framework:Api/etc/extension_attributes.xsd"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;extension_attributes</span> <span class="na">for=</span><span class="s">"\MyStore\MyModule\Api\Data\User"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;attribute</span> <span class="na">code=</span><span class="s">"is_admin"</span> <span class="na">type=</span><span class="s">"boolean"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/extension_attributes&gt;</span>
<span class="nt">&lt;/config&gt;</span>

<span class="nt">&lt;routes</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
        <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"urn:magento:module:Magento_Webapi:etc/webapi.xsd"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;route</span> <span class="na">url=</span><span class="s">"/V1/users"</span> <span class="na">method=</span><span class="s">"PUT"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">class=</span><span class="s">"MyStore\MyModule\Api\UserManagerInterface"</span> <span class="na">method=</span><span class="s">"save"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;resources&gt;</span>
            <span class="nt">&lt;resource</span> <span class="na">ref=</span><span class="s">"self"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/resources&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre></td><td class="rouge-code"><pre><span class="kd">interface</span> <span class="nc">UserInterface</span> <span class="kd">extends</span> <span class="nc">ExtensibleDataInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getId</span><span class="p">():</span> <span class="kt">int</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getFirstName</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getLastName</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getEmail</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getPasswordHash</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getExtensionAttributes</span><span class="p">():</span> <span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UserExtensionInterface</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">setExtensionAttributes</span><span class="p">(</span><span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UserExtensionInterface</span> <span class="nv">$extensionAttributes</span><span class="p">)</span><span class="o">:</span> <span class="n">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">UserModel</span> <span class="kd">extends</span> <span class="nc">AbstractModel</span> <span class="kd">implements</span> <span class="nc">UserInterface</span>
<span class="p">{</span>
    <span class="mf">...</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nc">UserManagerInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">save</span><span class="p">(</span><span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UserInterface</span> <span class="nv">$user</span><span class="p">)</span><span class="o">:</span> <span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UserInterface</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Save</span> <span class="k">extends</span> <span class="err">\</span><span class="nc">Magento\Framework\App\Action\Action</span> <span class="kd">implements</span> <span class="nc">HttpPostActionInterface</span>
<span class="p">{</span>
    <span class="mf">...</span>

    <span class="cd">/**
     * @var DataObjectHelper
     */</span>
    <span class="k">private</span> <span class="nv">$dataObjectHelper</span><span class="p">;</span>

    <span class="cd">/**
     * @var UserManagerInterface
     */</span>
    <span class="k">private</span> <span class="nv">$manager</span><span class="p">;</span>

    <span class="mf">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="n">execute</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">getRequest</span><span class="p">()</span><span class="o">-&gt;</span><span class="nf">getPostValue</span><span class="p">();</span>
        <span class="cd">/** @var UserInterface|UserModel $user */</span>
        <span class="nv">$user</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">repo</span><span class="o">-&gt;</span><span class="nf">findById</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="n">userContext</span><span class="o">-&gt;</span><span class="nf">getUserId</span><span class="p">());</span>
        <span class="c1">//hydration</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">dataObjectHelper</span><span class="o">-&gt;</span><span class="nf">populateWithArray</span><span class="p">(</span><span class="nv">$user</span><span class="p">,</span> <span class="nv">$data</span><span class="p">,</span> <span class="nc">UserInterface</span><span class="o">::</span><span class="n">class</span><span class="p">);</span>

        <span class="c1">//Saving</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">manager</span><span class="o">-&gt;</span><span class="nf">save</span><span class="p">(</span><span class="nv">$user</span><span class="p">);</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">generateRedirect</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>In this example, <code class="language-plaintext highlighter-rouge">UserInterface</code> is the DTO for the operation, and <code class="language-plaintext highlighter-rouge">UserManagerInterface</code> is the service contract. From
the XML snippet above, you can see that the <code class="language-plaintext highlighter-rouge">isAdmin</code> property is added to the <code class="language-plaintext highlighter-rouge">UserInterface</code> DTO as an extension attribute.
You can also see that <code class="language-plaintext highlighter-rouge">UserManagerInterface::save()</code> can be invoked directly by accessing the REST endpoint
<code class="language-plaintext highlighter-rouge">PUT /V1/users</code>. We also use the service contract inside the <code class="language-plaintext highlighter-rouge">Save</code> controller, which handles a page that enables a user to edit personal info.</p>

<p>This approach is better because we do not accept all data coming from client request blindly, but rather only those properties
strictly defined inside <code class="language-plaintext highlighter-rouge">UserInterface</code> with getters. For REST APIs, this is ensured by the Magento framework automatically,
and inside the controller, we hydrate the user object retrieved from the DB with <code class="language-plaintext highlighter-rouge">DataObjectHelper</code>.</p>

<p>However, because our DTO is also implemented by a class that extends <code class="language-plaintext highlighter-rouge">AbstractModel</code>, it’s a de facto active record
of the <code class="language-plaintext highlighter-rouge">users</code> table. As a result, we still have the issue where we exposed the <code class="language-plaintext highlighter-rouge">id</code>, <code class="language-plaintext highlighter-rouge">is_admin</code>, and <code class="language-plaintext highlighter-rouge">email</code> properties.
The same vulnerabilities persist.</p>

<h2 id="solution">Solution</h2>

<p>The vulnerability can be fixed relatively easily by having a strict list of properties accepted by your
controllers/service contracts that do not necessarily correlate with the storage schema.
This can be achieved by using operation-specific DTOs instead of persistence-layer DTOs.</p>

<p>Example:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;routes</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
        <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"urn:magento:module:Magento_Webapi:etc/webapi.xsd"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;route</span> <span class="na">url=</span><span class="s">"/V1/users"</span> <span class="na">method=</span><span class="s">"PUT"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">class=</span><span class="s">"MyStore\MyModule\Api\UserManagerInterface"</span> <span class="na">method=</span><span class="s">"update"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;resources&gt;</span>
            <span class="nt">&lt;resource</span> <span class="na">ref=</span><span class="s">"self"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/resources&gt;</span>
        <span class="nt">&lt;data&gt;</span>
            <span class="c">&lt;!-- Enforcing UpdatedUserDataInterface::getId() to always equal to current user's ID --&gt;</span>
            <span class="nt">&lt;parameter</span> <span class="na">name=</span><span class="s">"user.id"</span> <span class="na">force=</span><span class="s">"true"</span><span class="nt">&gt;</span>%user_id%<span class="nt">&lt;/parameter&gt;</span>
        <span class="nt">&lt;/data&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
</pre></td><td class="rouge-code"><pre><span class="kd">interface</span> <span class="nc">UpdatedUserDataInterface</span> <span class="kd">extends</span> <span class="nc">ExtensibleDataInterface</span>
<span class="p">{</span>
    <span class="c1">//This property will be enforced by controller/webapi</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getId</span><span class="p">():</span> <span class="kt">int</span><span class="p">;</span>
    <span class="c1">//Only having properties that you wish to be writable by users themselves</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getFirstName</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getLastName</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getExtensionAttributes</span><span class="p">():</span> <span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UpdatedUserDataExtensionInterface</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">setExtensionAttributes</span><span class="p">(</span><span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UpdatedUserDataExtensionInterface</span> <span class="nv">$extensionAttributes</span><span class="p">)</span><span class="o">:</span> <span class="n">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//Read-only DTO</span>
<span class="kd">interface</span> <span class="nc">UserInfoInterface</span> <span class="kd">extends</span> <span class="nc">ExtensibleDataInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getId</span><span class="p">():</span> <span class="kt">int</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getFirstName</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getLastName</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getEmail</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getExtensionAttributes</span><span class="p">():</span> <span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UserInfoExtensionInterface</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">setExtensionAttributes</span><span class="p">(</span><span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UserInfoExtensionInterface</span> <span class="nv">$extensionAttributes</span><span class="p">)</span><span class="o">:</span> <span class="n">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//Notice the implementation extending simple DataObject instead of the model.</span>
<span class="kd">class</span> <span class="nc">UpdatedUserData</span> <span class="kd">extends</span> <span class="nc">DataObject</span> <span class="kd">implements</span> <span class="nc">UpdatedUserDataInterface</span>
<span class="p">{</span>
    <span class="mf">...</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nc">UserManagerInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">update</span><span class="p">(</span><span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UpdatedUserDataInterface</span> <span class="nv">$user</span><span class="p">)</span><span class="o">:</span> <span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UserInfoInterface</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Save</span> <span class="k">extends</span> <span class="err">\</span><span class="nc">Magento\Framework\App\Action\Action</span> <span class="kd">implements</span> <span class="nc">HttpPostActionInterface</span>
<span class="p">{</span>
    <span class="mf">...</span>

    <span class="cd">/**
     * @var DataObjectHelper
     */</span>
    <span class="k">private</span> <span class="nv">$dataObjectHelper</span><span class="p">;</span>

    <span class="cd">/**
     * @var UserManagerInterface
     */</span>
    <span class="k">private</span> <span class="nv">$manager</span><span class="p">;</span>

    <span class="mf">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="n">execute</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">getRequest</span><span class="p">()</span><span class="o">-&gt;</span><span class="nf">getPostValue</span><span class="p">();</span>
        <span class="c1">//Enforcing user ID.</span>
        <span class="nv">$data</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">userContext</span><span class="o">-&gt;</span><span class="nf">getUserId</span><span class="p">();</span>
        <span class="nv">$updatedData</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">UpdatedUserData</span><span class="p">();</span>
        <span class="c1">//hydration</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">dataObjectHelper</span><span class="o">-&gt;</span><span class="nf">populateWithArray</span><span class="p">(</span><span class="nv">$updatedData</span><span class="p">,</span> <span class="nv">$data</span><span class="p">,</span> <span class="nc">UpdatedUserDataInterface</span><span class="o">::</span><span class="n">class</span><span class="p">);</span>

        <span class="c1">//Saving</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">manager</span><span class="o">-&gt;</span><span class="nf">update</span><span class="p">(</span><span class="nv">$updatedData</span><span class="p">);</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">generateRedirect</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>You can see that <code class="language-plaintext highlighter-rouge">UpdatedUserDataInterface</code> only contains properties that we want users to be able to
update. It is not an <code class="language-plaintext highlighter-rouge">AbstractModel</code>, but rather a simple data container (<code class="language-plaintext highlighter-rouge">DataObject</code>), so we won’t have to add any
new properties, even if we add new columns to the table. We’ll only update <code class="language-plaintext highlighter-rouge">UpdatedUserDataInterface</code> explicitly
when we want to make a property writeable by clients.</p>

<p>However, we still have
<code class="language-plaintext highlighter-rouge">getId</code> as a part of the DTO in order to identify which user to update. That means that we need to ensure that the
property will contain the value we want, and not a user defined value. For REST APIs, we achieve this with the <code class="language-plaintext highlighter-rouge">parameter</code>
tag, which will find a registered <code class="language-plaintext highlighter-rouge">ParamOverrider</code> and use it to override whatever the client has provided. In the controller,
we do this by explicitly setting <code class="language-plaintext highlighter-rouge">id</code> as current user ID.</p>

<p>Note that <code class="language-plaintext highlighter-rouge">UserManagerInterface</code> returns <code class="language-plaintext highlighter-rouge">UserInfoInterface</code>, which is another DTO, and not an <code class="language-plaintext highlighter-rouge">AbstractModel</code>.
It serves a similar purpose: to expose only the properties to clients that we want them to see. This example does not contain
<code class="language-plaintext highlighter-rouge">getPasswordHash()</code>, for instance.</p>

<h3 id="authorization">Authorization</h3>

<p>In the example above, we skipped the <code class="language-plaintext highlighter-rouge">isAdmin()</code> user property. We don’t want users to access this property themselves,
but we do want this property to be writeable by other admin users.</p>

<p>The best solution here would be to have a separate service, controller, and DTOs meant for admin users that would expose
more properties like <code class="language-plaintext highlighter-rouge">isAdmin()</code> with the endpoints/pages requiring authorization to related resources.</p>

<p>For example:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;routes</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
        <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"urn:magento:module:Magento_Webapi:etc/webapi.xsd"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;route</span> <span class="na">url=</span><span class="s">"/V1/admin/users"</span> <span class="na">method=</span><span class="s">"PUT"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;service</span> <span class="na">class=</span><span class="s">"MyStore\MyModule\Api\AdminUserManagerInterface"</span> <span class="na">method=</span><span class="s">"save"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;resources&gt;</span>
            <span class="nt">&lt;resource</span> <span class="na">ref=</span><span class="s">"Magento_User::manage"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/resources&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
</pre></td><td class="rouge-code"><pre><span class="kd">interface</span> <span class="nc">UserFullDataInterface</span> <span class="kd">extends</span> <span class="nc">ExtensibleDataInterface</span>
<span class="p">{</span>
    <span class="c1">//Properties we wish admins have access to</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getId</span><span class="p">():</span> <span class="kt">int</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getFirstName</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getLastName</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">isAdmin</span><span class="p">():</span> <span class="kt">bool</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">isActive</span><span class="p">():</span> <span class="kt">bool</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getExtensionAttributes</span><span class="p">():</span> <span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UserFullDataExtensionInterface</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">setExtensionAttributes</span><span class="p">(</span><span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UserFullDataExtensionInterface</span> <span class="nv">$extensionAttributes</span><span class="p">)</span><span class="o">:</span> <span class="n">void</span><span class="p">;</span>
<span class="p">}</span>


<span class="c1">//Read-only DTO</span>
<span class="kd">interface</span> <span class="nc">FullUserInfoInterface</span> <span class="kd">extends</span> <span class="nc">ExtensibleDataInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getId</span><span class="p">():</span> <span class="kt">int</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getFirstName</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getLastName</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getEmail</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">isAdmin</span><span class="p">():</span> <span class="kt">boolean</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">isActive</span><span class="p">():</span> <span class="kt">string</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">getExtensionAttributes</span><span class="p">():</span> <span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\FullUserInfoExtensionInterface</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">setExtensionAttributes</span><span class="p">(</span><span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\FullUserInfoExtensionInterface</span> <span class="nv">$extensionAttributes</span><span class="p">)</span><span class="o">:</span> <span class="n">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//Notice the implementation extending simple DataObject instead of the model.</span>
<span class="kd">class</span> <span class="nc">UserFullData</span> <span class="kd">extends</span> <span class="nc">DataObject</span> <span class="kd">implements</span> <span class="nc">UserFullDataInterface</span>
<span class="p">{</span>
    <span class="mf">...</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nc">AdminUserManagerInterface</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">save</span><span class="p">(</span><span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\UserFullDataInterface</span> <span class="nv">$user</span><span class="p">)</span><span class="o">:</span> <span class="err">\</span><span class="nc">MyStore\MyModule\Api\Data\FullUserInfoInterface</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Save</span> <span class="k">extends</span> <span class="err">\</span><span class="nc">Magento\Backend\App\Action</span> <span class="kd">implements</span> <span class="nc">HttpPostActionInterface</span>
<span class="p">{</span>
    <span class="mf">...</span>

    <span class="k">const</span> <span class="no">ADMIN_RESOURCE</span> <span class="o">=</span> <span class="s1">'Magento_User::manage'</span><span class="p">;</span>

    <span class="cd">/**
     * @var DataObjectHelper
     */</span>
    <span class="k">private</span> <span class="nv">$dataObjectHelper</span><span class="p">;</span>

    <span class="cd">/**
     * @var AdminUserManagerInterface
     */</span>
    <span class="k">private</span> <span class="nv">$manager</span><span class="p">;</span>

    <span class="mf">...</span>

    <span class="k">public</span> <span class="k">function</span> <span class="n">execute</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">getRequest</span><span class="p">()</span><span class="o">-&gt;</span><span class="nf">getPostValue</span><span class="p">();</span>
        <span class="nv">$userData</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">UserFullData</span><span class="p">();</span>
        <span class="c1">//hydration</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">dataObjectHelper</span><span class="o">-&gt;</span><span class="nf">populateWithArray</span><span class="p">(</span><span class="nv">$userData</span><span class="p">,</span> <span class="nv">$data</span><span class="p">,</span> <span class="nc">UserFullDataInterface</span><span class="o">::</span><span class="n">class</span><span class="p">);</span>

        <span class="c1">//Saving</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">manager</span><span class="o">-&gt;</span><span class="nf">save</span><span class="p">(</span><span class="nv">$userData</span><span class="p">);</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">generateRedirect</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Notice how both the endpoint and the controller now require authorization for <code class="language-plaintext highlighter-rouge">Magento_User::manage</code>. In an earlier example,
we had <code class="language-plaintext highlighter-rouge">isAdmin()</code> property added to <code class="language-plaintext highlighter-rouge">UserInterface</code> as an extension attribute. If we have the same DTOs
for operations that require additional authorization and those that do not, we risk other extensions exposing
vulnerable data. With this approach, another extension can decide to only add certain properties to DTOs available
only to admin users by providing extension attributes for <code class="language-plaintext highlighter-rouge">UserFullDataInterface</code> only.</p>

<h3 id="graphql">GraphQL</h3>

<p>For GraphQL APIs, Magento does not rely on interfaces to generate schema. Instead, we have explicit GraphQL schemas, and there is
no risk of exposing fields accidentally when you update data storage schema. However, if for some reason some fields
do require additional authorization, you would still need to verify it explicitly.</p>

			</main>
			<footer class="content-footer">
				<button class="page-updated spectrum-ActionButton spectrum-ActionButton--sizeM spectrum-ActionButton--quiet">
  <img class="spectrum-Icon spectrum-Icon--sizeS" src="/devdocs-archive/2.3/assets/i/icons/time.svg" alt="Updated" />
  <time class="spectrum-ActionButton-label" id="last-modified-at" itemprop="dateModified"
    datetime="2021-08-02">
    Aug 2nd, 2021
  </time>
</button>

			</footer>
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->

</div>
<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
    <div class="container">
  
      <div class="copyright-links">
        

<ul class="nav footer-links" role="menu">

  <li class="  " role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md" class=" ">Become a Contributor</a></li>

  <li class="  " role="menuitem"><a href="https://glossary.magento.com/" class=" ">Glossary</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/privacy/" class=" ">Privacy Policy</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/" class=" ">Terms of Service</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/licensing/" class=" ">License/Trademark FAQ</a></li>

  <li class="  " role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/release-notes/bk-release-notes.html" class=" ">Release Notes</a></li>

  <li class="  " role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/release-notes/packages-open-source.html" class=" ">Third-Party Licenses</a></li>

</ul>

      </div>
  
          <div class="copyright-date">&copy; 2023 Adobe. All rights reserved.</div>
  
    </div>
  </div>
  <!-- / #footer -->
  
  


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/devdocs-archive/2.3/assets/js/app.min.js?ver=20"></script>
<script src="/devdocs-archive/2.3/assets/js/editions.min.js?ver=20"></script>
<script src="/devdocs-archive/2.3/assets/js/page-updated.min.js?ver=20"></script>





<script type="text/javascript" src="/devdocs-archive/2.3/common/js/glossary-link-enhancer.js"></script>


</body>

</html>
