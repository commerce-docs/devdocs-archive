<!DOCTYPE html>
<html lang="en" dir="ltr" class="spectrum spectrum--medium spectrum--lightest">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Adding code inspections | Archived 2.3 Magento Developer Guide</title>
	<meta name="description" content="Magento Developer Guide">

	<link rel="stylesheet" href="https://use.typekit.net/iaw1apr.css">
	<link rel="stylesheet" href="/devdocs-archive/2.3/assets/css/app.css?ver=20" />
	<link rel="stylesheet" href="/devdocs-archive/2.3/assets/css/print.css?ver=20" media="print" />
	<script src="https://assets.adobedtm.com/a7d65461e54e/f87b70cb627a/launch-b042bff6c581.min.js" async></script>

	<link rel="stylesheet" href="/devdocs-archive/2.3/common/css/devdocs.css" />
<link rel="alternate" type="application/rss+xml" title="Magento DevDocs RSS" href="/feed.xml" />
<meta name="google-site-verification" content="3WFsoYwBe6UuxDwgs7bmd7t0YFQVzDpLpWLjNh0CUp8" />

	<script>
  var baseUrl = "/devdocs-archive/2.3";
  var algolia = {
    id: "E642SEDTHL",
    index: "devdocs",
    key: "d2d0f33ab73e291ef8d88d8b565e754c",
  };

  var indices = [{
      label: "Results",
      name: "devdocs",
      facetFilters: [
        ["guide_version: 2.3",
          "versionless: true"
        ]
      ],
      refinements: [{
        label: "Functional areas",
        attribute: "functional_areas"
      }],
      baseUrl: "/devdocs-archive/2.3"
    }
  ];

</script>




	<link rel="icon" href="https://www.adobe.com/favicon.ico" type="image/x-icon" />
	<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="https://adobe.com/favicon.ico">

</head>

<body class="layout-default">

	<header class="site-header">

		

<nav class="site-nav">

  <div class="nav-container">

    <div class="menu-btn">
      <button id="menu-btn" class="menu-trigger menu-icon" aria-haspopup="true" aria-controls="nav-main" aria-label="Menu"></button>
    </div>

    <a class="logo" href="/devdocs-archive/2.3/">
      <img class="logo-image" src="/devdocs-archive/2.3/assets/i/adobe-a.svg" alt="Adobe">
      <span class="logo-text">Adobe</span>
      <span class="site-logo">Commerce DevDocs</span>
    </a>

    <div id="nav-main" class="nav-main-wrap" aria-labelledby="menu-btn">
      <!-- Main Navigation --><ul class="nav-main spectrum-Tabs spectrum-Tabs--sizeM spectrum-Tabs--horizontal" role="menubar"><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Cloud</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud basics</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/overview.html" class="spectrum-Menu-itemLabel ">Cloud Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/architecture/cloud-architecture.html" class="spectrum-Menu-itemLabel ">Cloud Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/project/file-structure.html" class="spectrum-Menu-itemLabel ">Project Structure</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/best-practices.html" class="spectrum-Menu-itemLabel ">Upgrades and Patches</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/release-notes/cloud-tools-suite.html" class="spectrum-Menu-itemLabel ">Release Notes</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Cloud development</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/" class="spectrum-Menu-itemLabel ">Local development</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/configure/" class="spectrum-Menu-itemLabel ">Configure and launch Docker</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/quick-reference/" class="spectrum-Menu-itemLabel ">Docker quick reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/configure/app/configure-app-yaml.html" class="spectrum-Menu-itemLabel ">Configure Application</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/configure/env/configure-env-yaml.html" class="spectrum-Menu-itemLabel ">Configure Environments</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Functional Testing</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/test/application-testing/" class="spectrum-Menu-itemLabel ">Application testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/cloud-tools/docker/test/code-testing/" class="spectrum-Menu-itemLabel ">Cloud code testing</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Setup</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/install-gde/install-flow-diagram.html" class="spectrum-Menu-itemLabel ">Installation Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-admin/start/resources/extensions.html" class="spectrum-Menu-itemLabel ">Extensions Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/comp-mgr/bk-compman-upgrade-guide.html" class="spectrum-Menu-itemLabel ">Software Update Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/config-guide/bk-config-guide.html" class="spectrum-Menu-itemLabel ">Configuration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/performance-best-practices/introduction.html" class="spectrum-Menu-itemLabel ">Performance Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/migration/bk-migration-guide.html" class="spectrum-Menu-itemLabel ">Migration Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-operations/release/notes/overview.html" class="spectrum-Menu-itemLabel ">Release Information</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/reference/cli/magento.html" class="spectrum-Menu-itemLabel ">Command-line Tools Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-operations/tools/overview.html" class="spectrum-Menu-itemLabel ">Tools</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Development</span><div class="nav-popup spectrum-Popover"><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Backend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/architecture/bk-architecture.html" class="spectrum-Menu-itemLabel ">Architecture</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/bk-extension-dev-guide.html" class="spectrum-Menu-itemLabel ">PHP Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/bk-ext-best-practices.html" class="spectrum-Menu-itemLabel ">Extension Developer Best Practices</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/mrg/intro.html" class="spectrum-Menu-itemLabel ">Module Reference Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/coding-standards/bk-coding-standards.html" class="spectrum-Menu-itemLabel ">Coding Standards</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/contributor/guides/" class="spectrum-Menu-itemLabel ">Contributor Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/contributor/community/" class="spectrum-Menu-itemLabel ">Contribution Resources</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">Frontend</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/frontend-dev-guide/bk-frontend-dev-guide.html" class="spectrum-Menu-itemLabel ">Frontend Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ui_comp_guide/bk-ui_comps.html" class="spectrum-Menu-itemLabel ">UI Components Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/javascript-dev-guide/bk-javascript-dev-guide.html" class="spectrum-Menu-itemLabel ">JavaScript Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/pattern-library/bk-pattern.html" class="spectrum-Menu-itemLabel ">Admin Design Pattern Library</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/design-styleguide/bk-styleguide.html" class="spectrum-Menu-itemLabel ">Admin Style Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/pwa-studio/" class="spectrum-Menu-itemLabel ">PWA Documentation Site</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/frontend-core/page-builder/" class="spectrum-Menu-itemLabel ">Page Builder Developer Guide</a></li></ul>
            </div><div class="nav-section">
              <div class="spectrum-Menu-sectionHeading">API</div>
              <ul class="spectrum-Menu"><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/get-started/bk-get-started-api.html" class="spectrum-Menu-itemLabel ">Get Started with our Web APIs</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/rest/bk-rest.html" class="spectrum-Menu-itemLabel ">REST API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/soap/bk-soap.html" class="spectrum-Menu-itemLabel ">SOAP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/graphql/" class="spectrum-Menu-itemLabel ">GraphQL Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/marketplace/guides/eqp/v1/" class="spectrum-Menu-itemLabel ">Marketplace EQP API Reference</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/mbi/docs/getting-started.html" class="spectrum-Menu-itemLabel ">Commerce Reporting API</a></li></ul>
            </div></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Testing</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/testing.html" class="spectrum-Menu-itemLabel ">Application Testing Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://devdocs.magento.com/mftf/v2/docs/introduction.html" class="spectrum-Menu-itemLabel ">Functional Acceptance Testing (MFTF)</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/integration/integration_test_execution.html" class="spectrum-Menu-itemLabel ">Integration Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/js/jasmine.html" class="spectrum-Menu-itemLabel ">JavaScript Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/test/unit/unit_test_execution.html" class="spectrum-Menu-itemLabel ">PHP Unit Testing</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/get-started/web-api-functional-testing.html" class="spectrum-Menu-itemLabel ">Web API Functional Testing</a></li></ul></div></li><li class="nav-main-separator"></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Functional Areas</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/advanced-reporting/overview.html" class="spectrum-Menu-itemLabel ">Advanced Reporting</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/b2b/bk-b2b.html" class="spectrum-Menu-itemLabel ">B2B</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-merchant-services/catalog-service/overview.html" class="spectrum-Menu-itemLabel ">Catalog Service</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/inventory/index.html" class="spectrum-Menu-itemLabel ">Inventory Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-merchant-services/live-search/guide-overview.html" class="spectrum-Menu-itemLabel ">Live Search</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/marketplace/guides/sellers/" class="spectrum-Menu-itemLabel ">Commerce Marketplace</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html" class="spectrum-Menu-itemLabel ">Payment Services</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://omsdocs.magento.com/en/" class="spectrum-Menu-itemLabel ">Order Management</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/frontend-core/page-builder/" class="spectrum-Menu-itemLabel ">Page Builder</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-merchant-services/product-recommendations/developer/development-overview.html" class="spectrum-Menu-itemLabel ">Product Recommendations Developer Guide</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-operations/security-and-compliance/overview.html" class="spectrum-Menu-itemLabel ">Security and Compliance</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/services/shared-services/" class="spectrum-Menu-itemLabel ">Shared Services</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/extension-dev-guide/staging.html" class="spectrum-Menu-itemLabel ">Staging</a></li></ul></div></li><li class="nav-main-item spectrum-Tabs-item" tabindex="0" role="menuitem" aria-haspopup="true">
    <span class="spectrum-Tabs-itemLabel" tabindex="-1">Tutorials</span><div class="nav-popup spectrum-Popover"><ul><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/rest/tutorials/index.html" class="spectrum-Menu-itemLabel ">Rest Tutorials</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/custom-attributes/introduction.html" class="spectrum-Menu-itemLabel ">Custom Attributes</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/customize_product.html" class="spectrum-Menu-itemLabel ">Customize Product Creation Form</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/howdoi/checkout/checkout_overview.html" class="spectrum-Menu-itemLabel ">Customize Checkout</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://developer.adobe.com/commerce/contributor/community/support/" class="spectrum-Menu-itemLabel ">Support</a></li><li class="  spectrum-Menu-item" role="menuitem"><a href="https://experienceleague.adobe.com/docs/commerce-learn/tutorials/overview.html" class="spectrum-Menu-itemLabel ">Video Tutorials</a></li></ul></div></li></ul><!-- /.nav-main -->

    </div>

    <div class="nav-actions">
      <div class="version-switcher">
	<button class="spectrum-Picker spectrum-Picker--sizeM dropdown-toggle" disabled>
		<span class="spectrum-Picker-label">Version 2.3</span>
	</button>
</div>

      
        <div class="search-btn">
  <button class="search-trigger" aria-label="Search">
    <svg class="spectrum-Icon" focusable="false" aria-hidden="true" aria-label="Search">
      <rect opacity="0" width="18" height="18" /><path class="a" d="M16.5865,15.107,12.7,11.2215A6.413,6.413,0,1,0,11.2215,12.7l3.886,3.886a1.05,1.05,0,0,0,1.479-1.479ZM3,7.5A4.5,4.5,0,1,1,7.5,12,4.5,4.5,0,0,1,3,7.5Z" />
    </svg>
  </button>
</div>

<div class="quick-search">
  <form class="spectrum-Search spectrum-Textfield search-form"
      action="/devdocs-archive/2.3/guides/v2.3/search.html">
  <input type="search" placeholder="Looking for something specific?" name="query" value=""
    class="spectrum-Textfield-input spectrum-Search-input search-field form-control" autocomplete="off">
    <svg class="spectrum-Icon spectrum-Icon--sizeM spectrum-Textfield-icon spectrum-Search-icon" focusable="false" aria-hidden="true">
    <rect fill="#ff13dc" opacity="0" width="18" height="18" />
    <path class="a"
      d="M16.5865,15.107,12.7,11.2215A6.413,6.413,0,1,0,11.2215,12.7l3.886,3.886a1.05,1.05,0,0,0,1.479-1.479ZM3,7.5A4.5,4.5,0,1,1,7.5,12,4.5,4.5,0,0,1,3,7.5Z" />
  </svg>
  <button type="reset" class="spectrum-ClearButton spectrum-ClearButton--sizeM spectrum-Search-clearButton">
    <div class="spectrum-ClearButton-fill">
      <svg class="spectrum-Icon spectrum-ClearButton-icon spectrum-UIIcon-Cross100" focusable="false" aria-hidden="true">
        <path class="a"
          d="M13.2425,3.343,9,7.586,4.7575,3.343a.5.5,0,0,0-.707,0L3.343,4.05a.5.5,0,0,0,0,.707L7.586,9,3.343,13.2425a.5.5,0,0,0,0,.707l.707.7075a.5.5,0,0,0,.707,0L9,10.414l4.2425,4.243a.5.5,0,0,0,.707,0l.7075-.707a.5.5,0,0,0,0-.707L10.414,9l4.243-4.2425a.5.5,0,0,0,0-.707L13.95,3.343a.5.5,0,0,0-.70711-.00039Z" />
      </svg>
    </div>
  </button>
</form>

</div>
      

    </div>

  </div>

</nav><!-- #site-nav -->
<div class="nav-main-fader"></div>


	</header>

	<div class="global-wrapper">

		

		<div class="main-container">
			<a id="main-content"></a>

<div class="content-container">

	<!-- sidebar -->
<aside class="sidebar">
	<button class="toc-toggler">Table of Contents</button>
	<div class="sidebar-wrapper">

		

		<h4 class="guide-title">Extension Best Practices</h4>
		
		<div class="collapsible-navigation">
		  <ul class="spectrum-SideNav spectrum-SideNav--multiLevel"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/bk-ext-best-practices.html" class="spectrum-SideNav-itemLink ">Introduction</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/admin/admin-best-practices.html" class="spectrum-SideNav-itemLink ">Admin</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/admin/placement-and-design.html" class="spectrum-SideNav-itemLink ">Admin Panel Placement and Design</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/admin/ext-best-practices_admin_FAQ.html" class="spectrum-SideNav-itemLink ">Admin FAQ</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/extension-coding/coding-best-practices.html" class="spectrum-SideNav-itemLink ">Extension Coding</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/extension-coding/common-programming-bp.html" class="spectrum-SideNav-itemLink ">Programming best practices</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/extension-coding/working-with-arch-bp.html" class="spectrum-SideNav-itemLink ">Working with the Architecture</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/extension-coding/security-performance-data-bp.html" class="spectrum-SideNav-itemLink ">Security, performance, and data handling</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/extension-coding/observers-bp.html" class="spectrum-SideNav-itemLink ">Observers best practices</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/extension-coding/coding-faq.html" class="spectrum-SideNav-itemLink ">Coding FAQ</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/phpstorm/introduction.html" class="spectrum-SideNav-itemLink ">PHPStorm plugin</a><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/phpstorm/installation.html" class="spectrum-SideNav-itemLink ">Installation</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/phpstorm/code-generation.html" class="spectrum-SideNav-itemLink ">Code generation</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/phpstorm/code-inspection.html" class="spectrum-SideNav-itemLink ">Code inspection</a></li><li class="is-selected  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/phpstorm/adding-code-inspections.html" class="spectrum-SideNav-itemLink ">Adding code inspections</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/phpstorm/new-features.html" class="spectrum-SideNav-itemLink ">New features</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/phpstorm/issue-reporting.html" class="spectrum-SideNav-itemLink ">Issue reporting</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/phpstorm/uct-run-configuration.html" class="spectrum-SideNav-itemLink ">Run the Upgrade Compatibility Tool</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/phpstorm/built-in-upgrade-compatibility-tool.html" class="spectrum-SideNav-itemLink ">The built-in Upgrade Compatibility Tool (MVP)</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/storefront/storefront-best-practices.html" class="spectrum-SideNav-itemLink ">Storefront</a></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Security</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/security/writing-secure-code.html" class="spectrum-SideNav-itemLink ">Writing secure code</a></li></ul></li><li class="  spectrum-SideNav-item" role="menuitem"><span class="spectrum-SideNav-itemLink ">Tutorials</span><ul class="spectrum-SideNav"><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/tutorials/copy-fieldsets.html" class="spectrum-SideNav-itemLink ">Copying fieldsets</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/tutorials/serialized-to-json-data-upgrade.html" class="spectrum-SideNav-itemLink ">Serialized to JSON data upgrade</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/tutorials/modify-image-library-permissions/" class="spectrum-SideNav-itemLink ">Modify Image Library folder permissions</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/extension-coding/example-module-adminpage.html" class="spectrum-SideNav-itemLink ">Creating an admin page</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/tutorials/dynamic-row-system-config.html" class="spectrum-SideNav-itemLink ">Creating a dynamic row system config</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/tutorials/custom-import-entity.html" class="spectrum-SideNav-itemLink ">Creating a custom import entity</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/tutorials/custom-widget.html" class="spectrum-SideNav-itemLink ">Creating a custom widget</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/tutorials/create-access-control-list-rule.html" class="spectrum-SideNav-itemLink ">Creating an Access Control List (ACL) rule</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/tutorials/create-integration-with-api.html" class="spectrum-SideNav-itemLink ">Creating an integration with an external API</a></li><li class="  spectrum-SideNav-item" role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/ext-best-practices/tutorials/create-custom-rest-api.html" class="spectrum-SideNav-itemLink ">Create a custom REST API</a></li></ul></li></ul>
		</div>

	</div>

</aside>
<!-- /sidebar -->


	<section class="content">
		<div class="content-wrap">
			<header class="content-header">
				<!-- page-header -->
<section class="page-intro">

  

  
  <div class="message-banner">
    <center>Adobe Commerce 2.3 reached end of support in September 2022.</center>
  </div>
  

  




<!--   

<div class="spectrum-Tags" role="list" aria-label="Tags">
  <div class="spectrum-Tags-item" role="listitem" tabindex="0">
    <img class="spectrum-Avatar" src="img/example-ava.jpg" alt="Avatar">
    <span class="spectrum-Tags-itemLabel">Shantanu</span>
  </div>
</div> -->


  <h1 class="page-title">Adding code inspections</h1>

  

  
	<div class="github-links spectrum-ActionGroup--compact ActionGroup--justified"></div>
	

</section>

			</header>
			<main>
				<p>The IntelliJ Platform provides tools designed for static code analysis called code inspections, which help you maintain and clean up code without actually executing it.
Read more in the <a href="https://plugins.jetbrains.com/docs/intellij/code-inspections.html">official documentation</a>.</p>

<p>you can find plugin inspections  in <code class="language-plaintext highlighter-rouge">Settings | Preferences... | Editor | Inspections</code>.
Use a filter to find only the plugin inspections: <code class="language-plaintext highlighter-rouge">Magento 2</code>.</p>

<p><img src="/devdocs-archive/2.3/common/images/phpstorm/Intellij-idea-plugin-editor-local-inspections.png" alt="Image of the Magento 2 Group Inspections" /></p>

<p>See <a href="https://jetbrains.design/intellij/text/inspections/">Inspections topic</a> in the IntelliJ Platform UI Guidelines
for naming, writing descriptions, and messages for inspections to avoid basic naming convention issues before code review.</p>

<h3 id="to-add-a-new-inspection">To add a new inspection</h3>
<p>Adding a new code inspection includes:</p>

<ol>
  <li>Declaring an inspection in the plugin configuration file</li>
  <li>Implementing a local inspection class to inspect code in the IntelliJ Platform-based IDE editor</li>
  <li>Creating a visitor to traverse the PSI tree of the file being edited and inspecting for problematic syntax</li>
  <li>Writing an HTML description of the inspection for display in the inspection preferences panel</li>
  <li>Create a unit test for the inspection</li>
  <li>Implementing a quick fix class to correct syntax problems by altering the PSI tree as needed</li>
  <li>Implementing an inspection preferences panel to display information about the inspection</li>
</ol>

<h3 id="declaring-an-inspection-in-the-plugin-configuration-file">Declaring an inspection in the plugin configuration file</h3>

<p>You must declare all plugin inspections in the <code class="language-plaintext highlighter-rouge">&lt;extensions defaultExtensionNs="com.intellij"&gt;</code> XML node of the plugin configuration file.</p>

<p>For example, we will implement a local inspection tool for checking preference XML tag attributes (<code class="language-plaintext highlighter-rouge">di.xml</code> file)
if they are valid classes FQNs.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;localInspection</span> <span class="na">language=</span><span class="s">"XML"</span> <span class="na">groupPath=</span><span class="s">"XML"</span>
                 <span class="na">shortName=</span><span class="s">"InvalidDiTypeInspection"</span>
                 <span class="na">bundle=</span><span class="s">"magento2.inspection"</span> <span class="na">key=</span><span class="s">"inspection.displayName.InvalidDiTypeInspection"</span>
                 <span class="na">groupBundle=</span><span class="s">"magento2.inspection"</span> <span class="na">groupKey=</span><span class="s">"inspection.group.name"</span>
                 <span class="na">enabledByDefault=</span><span class="s">"true"</span> <span class="na">level=</span><span class="s">"WARNING"</span>
                 <span class="na">implementationClass=</span><span class="s">"com.magento.idea.magento2plugin.inspections.xml.InvalidDependencyInjectionTypeInspection"</span><span class="nt">/&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">&lt;localInspection/&gt;</code> tag attributes:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">language</code> - desired file language (ex.: XML, PHP, CSS, JavaScript, etc.)</li>
  <li><code class="language-plaintext highlighter-rouge">groupPath</code> - the first level group in the inspection preferences panel</li>
  <li><code class="language-plaintext highlighter-rouge">shortName</code> - local inspection identity</li>
  <li><code class="language-plaintext highlighter-rouge">bundle</code> - which bundle to use to display name in the inspection preferences panel, constant value: <code class="language-plaintext highlighter-rouge">magento2.inspection</code></li>
  <li><code class="language-plaintext highlighter-rouge">key</code> - which bundle message to use to display name in the inspection preferences panel</li>
  <li><code class="language-plaintext highlighter-rouge">groupBundle</code> - the second level group bundle, constant value: <code class="language-plaintext highlighter-rouge">magento2.inspection</code></li>
  <li><code class="language-plaintext highlighter-rouge">groupKey</code> - group bundle message, constant value: <code class="language-plaintext highlighter-rouge">inspection.group.name</code></li>
  <li><code class="language-plaintext highlighter-rouge">enabledByDefault</code> - is it should be enabled by default</li>
  <li><code class="language-plaintext highlighter-rouge">level</code> - inspection severity level</li>
  <li><code class="language-plaintext highlighter-rouge">ImplementationClass</code> - inspection implementation class</li>
</ol>

<p>Add a new bundle message with key <code class="language-plaintext highlighter-rouge">inspection.displayName.InvalidDiTypeInspection</code> to the <a href="https://github.com/magento/magento2-phpstorm-plugin/blob/4.0.0-develop/resources/magento2/inspection.properties">InspectionBundleMessagesFile</a>:</p>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="py">inspection.displayName.InvalidDiTypeInspection</span><span class="p">=</span><span class="s">Invalid type configuration in the `etc/di.xml` file</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="implementing-a-local-inspection-class-to-inspect-code-in-the-intellij-platform-based-ide-editor">Implementing a local inspection class to inspect code in the IntelliJ Platform-based IDE editor</h3>

<p>The base class for all local inspections is <code class="language-plaintext highlighter-rouge">com.intellij.codeInspection.LocalInspectionTool</code>.</p>

<p><strong>Plugin extension points:</strong></p>

<table>
  <thead>
    <tr>
      <th>Language</th>
      <th>Example Implementation</th>
      <th>Extension Point Class</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PHP</code></td>
      <td><a href="https://github.com/magento/magento2-phpstorm-plugin/blob/4.0.0-develop/src/com/magento/idea/magento2plugin/inspections/php/PluginInspection.java">PluginInspection</a></td>
      <td><code class="language-plaintext highlighter-rouge">com.jetbrains.php.lang.inspections.PhpInspection</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">XML</code></td>
      <td><a href="https://github.com/magento/magento2-phpstorm-plugin/blob/4.0.0-develop/src/com/magento/idea/magento2plugin/inspections/xml/ModuleDeclarationInModuleXmlInspection.java">ModuleDeclarationInModuleXmlInspection</a></td>
      <td><code class="language-plaintext highlighter-rouge">com.intellij.codeInspection.XmlSuppressableInspectionTool</code></td>
    </tr>
  </tbody>
</table>

<p>Implement <code class="language-plaintext highlighter-rouge">InvalidDependencyInjectionTypeInspection</code> inspection that extends <code class="language-plaintext highlighter-rouge">XmlSuppressableInspectionTool</code>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="cm">/*
 * Copyright © Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */</span>

<span class="kn">package</span> <span class="nn">com.magento.idea.magento2plugin.inspections.xml</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.intellij.codeInspection.ProblemsHolder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.intellij.codeInspection.XmlSuppressableInspectionTool</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.intellij.psi.PsiElementVisitor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.jetbrains.annotations.NotNull</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">InvalidDependencyInjectionTypeInspection</span> <span class="kd">extends</span> <span class="nc">XmlSuppressableInspectionTool</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nd">@NotNull</span> <span class="nc">PsiElementVisitor</span> <span class="nf">buildVisitor</span><span class="o">(</span>
            <span class="kd">final</span> <span class="nd">@NotNull</span> <span class="nc">ProblemsHolder</span> <span class="n">holder</span><span class="o">,</span>
            <span class="kd">final</span> <span class="kt">boolean</span> <span class="n">isOnTheFly</span>
    <span class="o">)</span> <span class="o">{</span>
        <span class="c1">// TODO: Implement visitor for InvalidDependencyInjectionTypeInspection type.</span>
        <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">buildVisitor</span><span class="o">(</span><span class="n">holder</span><span class="o">,</span> <span class="n">isOnTheFly</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="creating-a-visitor-to-traverse-the-psi-tree-of-the-file-being-edited-and-inspecting-for-problematic-syntax">Creating a visitor to traverse the PSI tree of the file being edited and inspecting for problematic syntax</h3>

<p>All visitors should extend <code class="language-plaintext highlighter-rouge">com.intellij.psi.PsiElementVisitor</code>.</p>

<p><strong>Visitors implementations for different languages:</strong></p>

<table>
  <thead>
    <tr>
      <th>Language</th>
      <th>Visitor Implementation Class</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">PHP</code></td>
      <td><code class="language-plaintext highlighter-rouge">com.jetbrains.php.lang.psi.visitors.PhpElementVisitor</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">XML</code></td>
      <td><code class="language-plaintext highlighter-rouge">com.intellij.psi.XmlElementVisitor</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">JSON</code></td>
      <td><code class="language-plaintext highlighter-rouge">com.intellij.json.psi.JsonElementVisitor</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">JavaScript</code></td>
      <td><code class="language-plaintext highlighter-rouge">com.intellij.psi.PsiElementVisitor</code></td>
    </tr>
  </tbody>
</table>

<p>Let’s implement new <code class="language-plaintext highlighter-rouge">XmlElementVisitor</code> that overrides <code class="language-plaintext highlighter-rouge">visitXmlTag</code> method. That visitor will check all XML tags
in all XML files. We should dedicate it to check only expected XML files (<code class="language-plaintext highlighter-rouge">di.xml</code>) and expected XML tags (<code class="language-plaintext highlighter-rouge">&lt;type/&gt;</code>).
Use the following code to check only expected XML files:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="kd">final</span> <span class="nc">PsiFile</span> <span class="n">file</span> <span class="o">=</span> <span class="n">xmlTag</span><span class="o">.</span><span class="na">getContainingFile</span><span class="o">();</span>

<span class="k">if</span> <span class="o">(!</span><span class="n">file</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="nc">ModuleDiXml</span><span class="o">.</span><span class="na">FILE_NAME</span><span class="o">)</span>
        <span class="o">||</span> <span class="o">!</span><span class="n">xmlTag</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="nc">ModuleDiXml</span><span class="o">.</span><span class="na">TYPE_TAG</span><span class="o">))</span> <span class="o">{</span>
    <span class="k">return</span><span class="o">;</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Now we can access the <code class="language-plaintext highlighter-rouge">&lt;type/&gt;</code> tag’s <code class="language-plaintext highlighter-rouge">name</code> attribute to check its value:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="kd">final</span> <span class="nc">XmlAttribute</span> <span class="n">nameAttribute</span> <span class="o">=</span> <span class="n">xmlTag</span><span class="o">.</span><span class="na">getAttribute</span><span class="o">(</span><span class="nc">ModuleDiXml</span><span class="o">.</span><span class="na">NAME_ATTR</span><span class="o">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">XmlTag.getAttribute()</code> method returns <code class="language-plaintext highlighter-rouge">@Nullable</code> value. We should check if our attribute is accessible for working with it.
Also, later we will need to use the <code class="language-plaintext highlighter-rouge">XmlTag.getValueElement()</code> method to register problems using <code class="language-plaintext highlighter-rouge">ProblemsHolder</code> if they occur.
The <code class="language-plaintext highlighter-rouge">XmlTag.getValueElement()</code> method also returns <code class="language-plaintext highlighter-rouge">@Nullable</code> value. Let’s use this code to skip checking incorrect XML attributes:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">if</span> <span class="o">(</span><span class="n">nameAttribute</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">nameAttribute</span><span class="o">.</span><span class="na">getValue</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="n">nameAttribute</span><span class="o">.</span><span class="na">getValueElement</span><span class="o">()</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span><span class="o">;</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Now we can access attribute values. We can check if an attribute value is an existing class by using the <a href="https://github.com/magento/magento2-phpstorm-plugin/blob/4.0.0-develop/src/com/magento/idea/magento2plugin/inspections/validator/PhpClassExistenceValidator.java">PhpClassExistenceValidator</a> type instance.
To report problem with the <code class="language-plaintext highlighter-rouge">name</code> attribute value, you can use the following code:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="n">problemsHolder</span><span class="o">.</span><span class="na">registerProblem</span><span class="o">(</span>
        <span class="n">nameAttribute</span><span class="o">.</span><span class="na">getValueElement</span><span class="o">(),</span>
        <span class="n">inspectionBundle</span><span class="o">.</span><span class="na">message</span><span class="o">(</span>
                <span class="s">"inspection.error.idAttributeCanNotBeEmpty"</span><span class="o">,</span>
                <span class="n">nameAttribute</span><span class="o">.</span><span class="na">getName</span><span class="o">()</span>
        <span class="o">),</span>
        <span class="nc">ProblemHighlightType</span><span class="o">.</span><span class="na">ERROR</span>
<span class="o">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>You cannot access the tag value of the <code class="language-plaintext highlighter-rouge">PsiElement</code> type.
You should report problems with the tag element similar to Intellij Idea inspections. For example: <code class="language-plaintext highlighter-rouge">com.intellij.xml.util.CheckEmptyTagInspection</code>.</p>

<p>So, there is a full example: <a href="https://github.com/magento/magento2-phpstorm-plugin/blob/4.0.0-develop/src/com/magento/idea/magento2plugin/inspections/xml/InvalidDependencyInjectionTypeInspection.java">InvalidDependencyInjectionTypeInspection</a></p>

<h3 id="writing-html-descriptions">Writing HTML descriptions</h3>

<p>This section shows you how to display an HTML description of the inspection in the inspection preferences panel.</p>

<p>You must describe all inspections in the description file. To do this, you can add a new HTML file to the following path:
<code class="language-plaintext highlighter-rouge">./resources/inspectionDescriptions/{shortName}.html</code>, where <code class="language-plaintext highlighter-rouge">{shortName}</code> is a <code class="language-plaintext highlighter-rouge">shortName</code> attribute value in the
local inspection declaration. Or you can just use Intellij Idea automation to do this (preferred).
All inspection implementation classes have highlighted class names if they don’t have description files. Here’s a quick fix to create it:
<img src="/devdocs-archive/2.3/common/images/phpstorm/Intellij-idea-plugin-create-inspection-description-quick-fix.png" alt="Create Inspection Description File Quick Fix" /></p>

<p>Use <a href="https://jetbrains.design/intellij/text/inspections/">Inspections topic</a> to write better descriptions for inspections using naming conventions.</p>

<h3 id="create-a-unit-test-for-the-inspection">Create a unit test for the inspection</h3>

<p>You must deliver each inspection with the unit test for it. The root folder for all inspections unit tests is <code class="language-plaintext highlighter-rouge">./tests/com/magento/idea/magento2plugin/inspections</code>. As base classes for your tests you should use predefined implementations based on languages.</p>

<p><strong>Base classes implementations for different languages:</strong></p>

<table>
  <thead>
    <tr>
      <th>Language</th>
      <th>Abstract Class</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">php</code></td>
      <td><code class="language-plaintext highlighter-rouge">com.magento.idea.magento2plugin.inspections.php.InspectionPhpFixtureTestCase</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">xml</code></td>
      <td><code class="language-plaintext highlighter-rouge">com.magento.idea.magento2plugin.inspections.xml.InspectionXmlFixtureTestCase</code></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">graphql</code></td>
      <td><code class="language-plaintext highlighter-rouge">com.magento.idea.magento2plugin.inspections.graphqls.InspectionGraphqlsFixtureTestCase</code></td>
    </tr>
  </tbody>
</table>

<p>If you cover new language area, please extend the <code class="language-plaintext highlighter-rouge">com.magento.idea.magento2plugin.inspections.BaseInspectionsTestCase</code> class and add a new abstract class for that area.
All test class names should have the suffix “test” and all testing methods should have the prefix “test” and detailed description in the annotation.
Also, you should enable testing inspection in the <code class="language-plaintext highlighter-rouge">setUp()</code> method.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlighter"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TypeConfigurationTagTypesInspectionTest</span> <span class="kd">extends</span> <span class="nc">InspectionXmlFixtureTestCase</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUp</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">setUp</span><span class="o">();</span>
        <span class="n">myFixture</span><span class="o">.</span><span class="na">enableInspections</span><span class="o">(</span><span class="nc">InvalidDependencyInjectionTypeInspection</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
     * Test type doesn't exists highlighting: &lt;type name="TestingType"/&gt;.
     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testNameAttributeValueTypeDoesNotExists</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// TODO: write a test.</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The root folder for your test data is: <code class="language-plaintext highlighter-rouge">./testData/inspections</code>. The internal folder structure is the same as for your test cases, accordingly to the testing file language.
To add data for your new test case use the next rule: create directory inside tested language folder that has the same name as your testing class <strong>without suffix Test</strong> (for the example above it is folder with the name: <code class="language-plaintext highlighter-rouge">TypeConfigurationTagTypesInspection</code>).
For each testing method create folder in it that has a name the same as method name <strong>without test prefix</strong> in the camel case format (for the example above it is folder with the name: <code class="language-plaintext highlighter-rouge">nameAttributeValueTypeDoesNotExists</code> inside the <code class="language-plaintext highlighter-rouge">TypeConfigurationTagTypesInspection</code> folder).</p>

<p>Magento 2 SandBox that used for the tests is in the <code class="language-plaintext highlighter-rouge">./testData/project/magento2</code> folder.</p>


			</main>
			<footer class="content-footer">
				<button class="page-updated spectrum-ActionButton spectrum-ActionButton--sizeM spectrum-ActionButton--quiet">
  <img class="spectrum-Icon spectrum-Icon--sizeS" src="/devdocs-archive/2.3/assets/i/icons/time.svg" alt="Updated" />
  <time class="spectrum-ActionButton-label" id="last-modified-at" itemprop="dateModified"
    datetime="2021-09-15">
    Sep 15th, 2021
  </time>
</button>

			</footer>
		</div>
		<!-- /.content-wrap -->

		<div class="page-info">

  

</div>


	</section>
	<!-- /.content -->

</div> <!-- /.content-container -->

</div>
<!-- /.main-container -->
</div>
<!-- /#gl-wrapper -->

<!-- footer-->
<div class="page-footer">
    <div class="container">
  
      <div class="copyright-links">
        

<ul class="nav footer-links" role="menu">

  <li class="  " role="menuitem"><a href="https://github.com/magento/devdocs/blob/master/.github/CONTRIBUTING.md" class=" ">Become a Contributor</a></li>

  <li class="  " role="menuitem"><a href="https://glossary.magento.com/" class=" ">Glossary</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/privacy/" class=" ">Privacy Policy</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/terms/" class=" ">Terms of Service</a></li>

  <li class="  " role="menuitem"><a href="https://magento.com/legal/licensing/" class=" ">License/Trademark FAQ</a></li>

  <li class="  " role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/release-notes/bk-release-notes.html" class=" ">Release Notes</a></li>

  <li class="  " role="menuitem"><a href="/devdocs-archive/2.3/guides/v2.3/release-notes/packages-open-source.html" class=" ">Third-Party Licenses</a></li>

</ul>

      </div>
  
          <div class="copyright-date">&copy; 2023 Adobe. All rights reserved.</div>
  
    </div>
  </div>
  <!-- / #footer -->
  
  


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="/devdocs-archive/2.3/assets/js/app.min.js?ver=20"></script>
<script src="/devdocs-archive/2.3/assets/js/editions.min.js?ver=20"></script>
<script src="/devdocs-archive/2.3/assets/js/page-updated.min.js?ver=20"></script>





<script type="text/javascript" src="/devdocs-archive/2.3/common/js/glossary-link-enhancer.js"></script>


</body>

</html>
